(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Hd={exports:{}},Rl={};var f0;function kb(){if(f0)return Rl;f0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var d0;function Ub(){return d0||(d0=1,Hd.exports=kb()),Hd.exports}var w=Ub(),Fd={exports:{}},vt={};var m0;function Lb(){if(m0)return vt;m0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function lt(M,X,nt){this.props=M,this.context=X,this.refs=W,this.updater=nt||Q}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=lt.prototype;function ft(M,X,nt){this.props=M,this.context=X,this.refs=W,this.updater=nt||Q}var qt=ft.prototype=new pt;qt.constructor=ft,J(qt,lt.prototype),qt.isPureReactComponent=!0;var Yt=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,X,nt){var rt=nt.ref;return{$$typeof:s,type:M,key:X,ref:rt!==void 0?rt:null,props:nt}}function V(M,X){return R(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var C=/\/+/g;function te(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ot,Ot):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,nt,rt,yt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case s:case t:Vt=!0;break;case E:return Vt=M._init,G(Vt(M._payload),X,nt,rt,yt)}}if(Vt)return yt=yt(M),Vt=rt===""?"."+te(M,0):rt,Yt(yt)?(nt="",Vt!=null&&(nt=Vt.replace(C,"$&/")+"/"),G(yt,X,nt,"",function(cr){return cr})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+Vt)),X.push(yt)),1;Vt=0;var Oe=rt===""?".":rt+":";if(Yt(M))for(var re=0;re<M.length;re++)rt=M[re],bt=Oe+te(rt,re),Vt+=G(rt,X,nt,bt,yt);else if(re=k(M),typeof re=="function")for(M=re.call(M),re=0;!(rt=M.next()).done;)rt=rt.value,bt=Oe+te(rt,re++),Vt+=G(rt,X,nt,bt,yt);else if(bt==="object"){if(typeof M.then=="function")return G(ce(M),X,nt,rt,yt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(M,X,nt){if(M==null)return M;var rt=[],yt=0;return G(M,rt,"","",function(bt){return X.call(nt,bt,yt++)}),rt}function ht(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:et,forEach:function(M,X,nt){et(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return et(M,function(){X++}),X},toArray:function(M){return et(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=b,vt.Children=Ft,vt.Component=lt,vt.Fragment=n,vt.Profiler=o,vt.PureComponent=ft,vt.StrictMode=r,vt.Suspense=g,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=J({},M.props),yt=M.key;if(X!=null)for(bt in X.key!==void 0&&(yt=""+X.key),X)!S.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(rt[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)rt.children=nt;else if(1<bt){for(var Vt=Array(bt),Oe=0;Oe<bt;Oe++)Vt[Oe]=arguments[Oe+2];rt.children=Vt}return R(M.type,yt,rt)},vt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,X,nt){var rt,yt={},bt=null;if(X!=null)for(rt in X.key!==void 0&&(bt=""+X.key),X)S.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=X[rt]);var Vt=arguments.length-2;if(Vt===1)yt.children=nt;else if(1<Vt){for(var Oe=Array(Vt),re=0;re<Vt;re++)Oe[re]=arguments[re+2];yt.children=Oe}if(M&&M.defaultProps)for(rt in Vt=M.defaultProps,Vt)yt[rt]===void 0&&(yt[rt]=Vt[rt]);return R(M,bt,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:p,render:M}},vt.isValidElement=D,vt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ht}},vt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},vt.startTransition=function(M){var X=N.T,nt={};N.T=nt;try{var rt=M(),yt=N.S;yt!==null&&yt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Lt)}catch(bt){Lt(bt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),N.T=X}},vt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},vt.use=function(M){return N.H.use(M)},vt.useActionState=function(M,X,nt){return N.H.useActionState(M,X,nt)},vt.useCallback=function(M,X){return N.H.useCallback(M,X)},vt.useContext=function(M){return N.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,X){return N.H.useDeferredValue(M,X)},vt.useEffect=function(M,X){return N.H.useEffect(M,X)},vt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},vt.useId=function(){return N.H.useId()},vt.useImperativeHandle=function(M,X,nt){return N.H.useImperativeHandle(M,X,nt)},vt.useInsertionEffect=function(M,X){return N.H.useInsertionEffect(M,X)},vt.useLayoutEffect=function(M,X){return N.H.useLayoutEffect(M,X)},vt.useMemo=function(M,X){return N.H.useMemo(M,X)},vt.useOptimistic=function(M,X){return N.H.useOptimistic(M,X)},vt.useReducer=function(M,X,nt){return N.H.useReducer(M,X,nt)},vt.useRef=function(M){return N.H.useRef(M)},vt.useState=function(M){return N.H.useState(M)},vt.useSyncExternalStore=function(M,X,nt){return N.H.useSyncExternalStore(M,X,nt)},vt.useTransition=function(){return N.H.useTransition()},vt.version="19.2.0",vt}var p0;function jm(){return p0||(p0=1,Fd.exports=Lb()),Fd.exports}var Ut=jm(),Gd={exports:{}},Il={},Qd={exports:{}},Kd={};var g0;function Pb(){return g0||(g0=1,(function(s){function t(G,et){var ht=G.length;G.push(et);t:for(;0<ht;){var Lt=ht-1>>>1,Ft=G[Lt];if(0<o(Ft,et))G[Lt]=et,G[ht]=Ft,ht=Lt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ht=G.pop();if(ht!==et){G[0]=ht;t:for(var Lt=0,Ft=G.length,M=Ft>>>1;Lt<M;){var X=2*(Lt+1)-1,nt=G[X],rt=X+1,yt=G[rt];if(0>o(nt,ht))rt<Ft&&0>o(yt,nt)?(G[Lt]=yt,G[rt]=ht,Lt=rt):(G[Lt]=nt,G[X]=ht,Lt=X);else if(rt<Ft&&0>o(yt,ht))G[Lt]=yt,G[rt]=ht,Lt=rt;else break t}}return et}function o(G,et){var ht=G.sortIndex-et.sortIndex;return ht!==0?ht:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],_=[],E=1,b=null,I=3,k=!1,Q=!1,J=!1,W=!1,lt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function qt(G){for(var et=n(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=G)r(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(_)}}function Yt(G){if(J=!1,qt(G),!Q)if(n(g)!==null)Q=!0,Ot||(Ot=!0,L());else{var et=n(_);et!==null&&ce(Yt,et.startTime-G)}}var Ot=!1,N=-1,S=5,R=-1;function V(){return W?!0:!(s.unstable_now()-R<S)}function D(){if(W=!1,Ot){var G=s.unstable_now();R=G;var et=!0;try{t:{Q=!1,J&&(J=!1,pt(N),N=-1),k=!0;var ht=I;try{e:{for(qt(G),b=n(g);b!==null&&!(b.expirationTime>G&&V());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,I=b.priorityLevel;var Ft=Lt(b.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){b.callback=Ft,qt(G),et=!0;break e}b===n(g)&&r(g),qt(G)}else r(g);b=n(g)}if(b!==null)et=!0;else{var M=n(_);M!==null&&ce(Yt,M.startTime-G),et=!1}}break t}finally{b=null,I=ht,k=!1}et=void 0}}finally{et?L():Ot=!1}}}var L;if(typeof ft=="function")L=function(){ft(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=D,L=function(){te.postMessage(null)}}else L=function(){lt(D,0)};function ce(G,et){N=lt(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var ht=I;I=et;try{return G()}finally{I=ht}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=I;I=G;try{return et()}finally{I=ht}},s.unstable_scheduleCallback=function(G,et,ht){var Lt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,G={id:E++,callback:et,priorityLevel:G,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Lt?(G.sortIndex=ht,t(_,G),n(g)===null&&G===n(_)&&(J?(pt(N),N=-1):J=!0,ce(Yt,ht-Lt))):(G.sortIndex=Ft,t(g,G),Q||k||(Q=!0,Ot||(Ot=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var et=I;return function(){var ht=I;I=et;try{return G.apply(this,arguments)}finally{I=ht}}}})(Kd)),Kd}var y0;function zb(){return y0||(y0=1,Qd.exports=Pb()),Qd.exports}var Yd={exports:{}},Xe={};var _0;function jb(){if(_0)return Xe;_0=1;var s=jm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:_,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,E)},Xe.flushSync=function(g){var _=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=_,r.p=E,r.d.f()}},Xe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},Xe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:k}):E==="script"&&r.d.X(g,{crossOrigin:b,integrity:I,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},Xe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin);r.d.L(g,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},Xe.requestFormReset=function(g){r.d.r(g)},Xe.unstable_batchedUpdates=function(g,_){return g(_)},Xe.useFormState=function(g,_,E){return f.H.useFormState(g,_,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var v0;function Bb(){if(v0)return Yd.exports;v0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yd.exports=jb(),Yd.exports}var T0;function qb(){if(T0)return Il;T0=1;var s=zb(),t=jm(),n=Bb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=d;break}if(T===l){y=!0,l=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,l=h;break}if(T===l){y=!0,l=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case lt:return"Profiler";case W:return"StrictMode";case Yt:return"Suspense";case Ot:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case ft:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case qt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:te(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return te(e(i))}catch{}}return null}var ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Ft=-1;function M(e){return{current:e}}function X(e){0>Ft||(e.current=Lt[Ft],Lt[Ft]=null,Ft--)}function nt(e,i){Ft++,Lt[Ft]=e.current,e.current=i}var rt=M(null),yt=M(null),bt=M(null),Vt=M(null);function Oe(e,i){switch(nt(bt,i),nt(yt,e),nt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?k_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=k_(i),e=U_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),nt(rt,e)}function re(){X(rt),X(yt),X(bt)}function cr(e){e.memoizedState!==null&&nt(Vt,e);var i=rt.current,a=U_(i,e.type);i!==a&&(nt(yt,e),nt(rt,a))}function ra(e){yt.current===e&&(X(rt),X(yt)),Vt.current===e&&(X(Vt),Al._currentValue=ht)}var aa,oa;function oi(e){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+e+oa}var Ao=!1;function hr(e,i){if(!e||Ao)return"";Ao=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var x=y.split(`
`),j=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var F=`
`+x[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Ao=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oi(a):""}function bo(e,i){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return hr(e.type,!1);case 11:return hr(e.type.render,!1);case 1:return hr(e.type,!0);case 31:return oi("Activity");default:return""}}function So(e){try{var i="",a=null;do i+=bo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Fh=s.unstable_shouldYield,lu=s.unstable_requestPaint,tn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,wo=s.unstable_ImmediatePriority,Ro=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Gh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Hn=null,je=null;function In(e){if(typeof cu=="function"&&hu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Hn,e)}catch{}}var de=Math.clz32?Math.clz32:du,fu=Math.log,la=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/la|0)|0}var li=256,dr=262144,ve=4194304;function ui(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(y&=T,y!==0?h=ui(y):a||(a=T&~e,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):y!==0?h=ui(y):a||(a=l&~e,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function mr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kh(e,i,a,l,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-de(a),Y=1<<F;T[F]=0,x[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&pr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Io(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Co(e,i){var a=i&-i;return a=(a&42)!==0?1:gr(a),(a&(e.suspendedLanes|i))!==0?0:a}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function Gn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Qn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Qn,Ue="__reactProps$"+Qn,fi="__reactContainer$"+Qn,ua="__reactEvents$"+Qn,Yh="__reactListeners$"+Qn,gu="__reactHandles$"+Qn,yu="__reactResources$"+Qn,di="__reactMarker$"+Qn;function ca(e){delete e[Te],delete e[Ue],delete e[ua],delete e[Yh],delete e[gu]}function mi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[fi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=H_(e);e!==null;){if(a=e[Te])return a;e=H_(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Te]||e[fi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function pi(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[di]=!0}var xo=new Set,No={};function gi(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(No[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function _u(e){return _e.call(Mo,e)?!0:_e.call(Oo,e)?!1:Do.test(e)?Mo[e]=!0:(Oo[e]=!0,!1)}function ha(e,i,a){if(_u(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gt(e){if(!e._valueTracker){var i=ds(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function yr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ds(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _r=/[\n"\\]/g;function on(e){return e.replace(_r,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(e,i,a,l,h,d,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?ko(e,y,Le(i)):a!=null?ko(e,y,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function vu(e,i,a,l,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Gt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Gt(e)}function ko(e,i,a){i==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Tu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function ps(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Gt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Lo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Po=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,vi=null;function vr(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(fa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ue]||null;if(!h)throw Error(r(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&yr(l)}break t;case"textarea":Tu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ms(e,!!a.multiple,i,!1)}}}var pa=!1;function _s(e,i,a){if(pa)return e(i,a);pa=!0;try{var l=e(i);return l}finally{if(pa=!1,(ys!==null||vi!==null)&&(pc(),ys&&(i=ys,e=vi,vi=ys=null,vr(i),e)))for(i=0;i<e.length;i++)vr(e[i])}}function Yn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Nn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Tr=!1}var Ti=null,zo=null,Er=null;function jo(){if(Er)return Er;var e,i=zo,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return Er=h.slice(e,1<l?1-l:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Xn(){return!1}function Be(e){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Be(ji),vs=b({},ji,{view:0,detail:0}),Bo=Be(vs),Ts,ga,Ai,ya=b({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Ts=e.screenX-Ai.screenX,ga=e.screenY-Ai.screenY):ga=Ts=0,Ai=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),qo=Be(ya),br=b({},ya,{dataTransfer:0}),bu=Be(br),Su=b({},vs,{relatedTarget:0}),Sr=Be(Su),Ho=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Be(Ho),_a=b({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=Be(_a),Iu=b({},ji,{data:0}),bi=Be(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function Es(){return Du}var en=b({},vs,{key:function(e){if(e.key){var i=Cu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=Be(en),Mu=b({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Be(Mu),c=b({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=Be(c),v=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),P=b({},ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(P),tt=b({},ji,{newState:0,oldState:0}),Et=Be(tt),me=[9,13,27,32],jt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ae,Si=Nn&&(!jt||ae&&8<ae&&11>=ae),$n=" ",Zn=!1;function wr(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function rA(e,i){switch(e){case"compositionend":return va(i);case"keypress":return i.which!==32?null:(Zn=!0,$n);case"textInput":return e=i.data,e===$n&&Zn?null:e;default:return null}}function aA(e,i){if(Ta)return e==="compositionend"||!jt&&wr(e,i)?(e=jo(),Er=zo=Ti=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!oA[e.type]:i==="textarea"}function Kp(e,i,a,l){ys?vi?vi.push(l):vi=[l]:ys=l,i=Ac(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Fo=null,Go=null;function lA(e){x_(e,0)}function Vu(e){var i=gn(e);if(yr(i))return e}function Yp(e,i){if(e==="change")return i}var Xp=!1;if(Nn){var Xh;if(Nn){var $h="oninput"in document;if(!$h){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),$h=typeof $p.oninput=="function"}Xh=$h}else Xh=!1;Xp=Xh&&(!document.documentMode||9<document.documentMode)}function Zp(){Fo&&(Fo.detachEvent("onpropertychange",Jp),Go=Fo=null)}function Jp(e){if(e.propertyName==="value"&&Vu(Go)){var i=[];Kp(i,Go,e,xn(e)),_s(lA,i)}}function uA(e,i,a){e==="focusin"?(Zp(),Fo=i,Go=a,Fo.attachEvent("onpropertychange",Jp)):e==="focusout"&&Zp()}function cA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Go)}function hA(e,i){if(e==="click")return Vu(i)}function fA(e,i){if(e==="input"||e==="change")return Vu(i)}function dA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:dA;function Qo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tg(e,i){var a=Wp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wp(a)}}function eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=_i(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=_i(e.document)}return i}function Zh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var mA=Nn&&"documentMode"in document&&11>=document.documentMode,Ea=null,Jh=null,Ko=null,Wh=!1;function ig(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Ea==null||Ea!==_i(l)||(l=Ea,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=Ac(Jh,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ea)))}function Rr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},tf={},sg={};Nn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ir(e){if(tf[e])return tf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return tf[e]=i[a];return e}var rg=Ir("animationend"),ag=Ir("animationiteration"),og=Ir("animationstart"),pA=Ir("transitionrun"),gA=Ir("transitionstart"),yA=Ir("transitioncancel"),lg=Ir("transitionend"),ug=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Jn(e,i){ug.set(e,i),gi(i,[e])}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ba=0,nf=0;function Uu(){for(var e=ba,i=nf=ba=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&cg(a,h,d)}}function Lu(e,i,a,l){On[ba++]=e,On[ba++]=i,On[ba++]=a,On[ba++]=l,nf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function sf(e,i,a,l){return Lu(e,i,a,l),Pu(e)}function Cr(e,i){return Lu(e,null,null,i),Pu(e)}function cg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<pl)throw pl=0,dd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Sa={};function _A(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new _A(e,i,a,l)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function zu(e,i,a,l,h,d){var y=0;if(l=e,typeof e=="function")rf(e)&&(y=1);else if(typeof e=="string")y=bb(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,a,i,h),e.elementType=R,e.lanes=d,e;case J:return xr(a.children,h,d,i);case W:y=8,h|=24;break;case lt:return e=vn(12,a,i,h|2),e.elementType=lt,e.lanes=d,e;case Yt:return e=vn(13,a,i,h),e.elementType=Yt,e.lanes=d,e;case Ot:return e=vn(19,a,i,h),e.elementType=Ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:y=10;break t;case pt:y=9;break t;case qt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(y,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function xr(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function af(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function fg(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function of(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var dg=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=dg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:So(i)},dg.set(e,i),i)}return{value:e,source:i,stack:So(i)}}var wa=[],Ra=0,ju=null,Yo=0,Vn=[],kn=0,As=null,wi=1,Ri="";function Hi(e,i){wa[Ra++]=Yo,wa[Ra++]=ju,ju=e,Yo=i}function mg(e,i,a){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=As,As=e;var l=wi;e=Ri;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,wi=1<<32-de(i)+h|a<<h|l,Ri=d+e}else wi=1<<d|a<<h|l,Ri=e}function lf(e){e.return!==null&&(Hi(e,1),mg(e,1,0))}function uf(e){for(;e===ju;)ju=wa[--Ra],wa[Ra]=null,Yo=wa[--Ra],wa[Ra]=null;for(;e===As;)As=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null}function pg(e,i){Vn[kn++]=wi,Vn[kn++]=Ri,Vn[kn++]=As,wi=i.id,Ri=i.overflow,As=e}var qe=null,ne=null,Mt=!1,bs=null,Un=!1,cf=Error(r(519));function Ss(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Mn(i,e)),cf}function gg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[Ue]=l,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Rt(yl[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),ps(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||M_(i.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),l.onScroll!=null&&Rt("scroll",i),l.onScrollEnd!=null&&Rt("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ss(e,!0)}function yg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function Ia(e){if(e!==qe)return!1;if(!Mt)return yg(e),Mt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&ne&&Ss(e),yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=q_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=q_(e)}else i===27?(i=ne,Ps(e.type)?(e=Md,Md=null,ne=e):ne=i):ne=qe?Pn(e.stateNode.nextSibling):null;return!0}function Nr(){ne=qe=null,Mt=!1}function hf(){var e=bs;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),bs=null),e}function Xo(e){bs===null?bs=[e]:bs.push(e)}var ff=M(null),Dr=null,Fi=null;function ws(e,i,a){nt(ff,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=ff.current,X(ff)}function df(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function mf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),df(d.return,a,e),l||(y=null);break t}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),df(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ca(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;_n(h.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&mf(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){Dr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return _g(Dr,e)}function qu(e,i){return Dr===null&&Or(e),_g(e,i)}function _g(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(r(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var vA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},TA=s.unstable_scheduleCallback,EA=s.unstable_NormalPriority,be={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new vA,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&TA(EA,function(){e.controller.abort()})}var Zo=null,gf=0,xa=0,Na=null;function AA(e,i){if(Zo===null){var a=Zo=[];gf=0,xa=vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,i.then(vg,vg),i}function vg(){if(--gf===0&&Zo!==null){Na!==null&&(Na.status="fulfilled");var e=Zo;Zo=null,xa=0,Na=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function bA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Tg=G.S;G.S=function(e,i){i_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&AA(e,i),Tg!==null&&Tg(e,i)};var Mr=M(null);function yf(){var e=Mr.current;return e!==null?e:Wt.pooledCache}function Hu(e,i){i===null?nt(Mr,Mr.current):nt(Mr,i.pool)}function Eg(){var e=yf();return e===null?null:{parent:be._currentValue,pool:e}}var Da=Error(r(460)),_f=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e}throw kr=i,Da}}function Vr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Da):a}}var kr=null;function Sg(){if(kr===null)throw Error(r(459));var e=kr;return kr=null,e}function wg(e){if(e===Da||e===Fu)throw Error(r(483))}var Oa=null,Jo=0;function Qu(e){var i=Jo;return Jo+=1,Oa===null&&(Oa=[]),bg(Oa,e,i)}function Wo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rg(e){function i(U,O){if(e){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=qi(U,O),U.index=0,U.sibling=null,U}function d(U,O,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,z,K){return O===null||O.tag!==6?(O=af(z,U.mode,K),O.return=U,O):(O=h(O,z),O.return=U,O)}function x(U,O,z,K){var ut=z.type;return ut===J?F(U,O,z.props.children,K,z.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Vr(ut)===O.type)?(O=h(O,z.props),Wo(O,z),O.return=U,O):(O=zu(z.type,z.key,z.props,null,U.mode,K),Wo(O,z),O.return=U,O)}function j(U,O,z,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=of(z,U.mode,K),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function F(U,O,z,K,ut){return O===null||O.tag!==7?(O=xr(z,U.mode,K,ut),O.return=U,O):(O=h(O,z),O.return=U,O)}function Y(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return z=zu(O.type,O.key,O.props,null,U.mode,z),Wo(z,O),z.return=U,z;case Q:return O=of(O,U.mode,z),O.return=U,O;case S:return O=Vr(O),Y(U,O,z)}if(ce(O)||L(O))return O=xr(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return Y(U,Qu(O),z);if(O.$$typeof===ft)return Y(U,qu(U,O),z);Ku(U,O)}return null}function B(U,O,z,K){var ut=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:T(U,O,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===ut?x(U,O,z,K):null;case Q:return z.key===ut?j(U,O,z,K):null;case S:return z=Vr(z),B(U,O,z,K)}if(ce(z)||L(z))return ut!==null?null:F(U,O,z,K,null);if(typeof z.then=="function")return B(U,O,Qu(z),K);if(z.$$typeof===ft)return B(U,O,qu(U,z),K);Ku(U,z)}return null}function H(U,O,z,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,T(O,U,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return U=U.get(K.key===null?z:K.key)||null,x(O,U,K,ut);case Q:return U=U.get(K.key===null?z:K.key)||null,j(O,U,K,ut);case S:return K=Vr(K),H(U,O,z,K,ut)}if(ce(K)||L(K))return U=U.get(z)||null,F(O,U,K,ut,null);if(typeof K.then=="function")return H(U,O,z,Qu(K),ut);if(K.$$typeof===ft)return H(U,O,z,qu(O,K),ut);Ku(O,K)}return null}function at(U,O,z,K){for(var ut=null,Pt=null,ot=O,St=O=0,Ct=null;ot!==null&&St<z.length;St++){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var zt=B(U,ot,z[St],K);if(zt===null){ot===null&&(ot=Ct);break}e&&ot&&zt.alternate===null&&i(U,ot),O=d(zt,O,St),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,ot=Ct}if(St===z.length)return a(U,ot),Mt&&Hi(U,St),ut;if(ot===null){for(;St<z.length;St++)ot=Y(U,z[St],K),ot!==null&&(O=d(ot,O,St),Pt===null?ut=ot:Pt.sibling=ot,Pt=ot);return Mt&&Hi(U,St),ut}for(ot=l(ot);St<z.length;St++)Ct=H(ot,U,St,z[St],K),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?St:Ct.key),O=d(Ct,O,St),Pt===null?ut=Ct:Pt.sibling=Ct,Pt=Ct);return e&&ot.forEach(function(Hs){return i(U,Hs)}),Mt&&Hi(U,St),ut}function dt(U,O,z,K){if(z==null)throw Error(r(151));for(var ut=null,Pt=null,ot=O,St=O=0,Ct=null,zt=z.next();ot!==null&&!zt.done;St++,zt=z.next()){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var Hs=B(U,ot,zt.value,K);if(Hs===null){ot===null&&(ot=Ct);break}e&&ot&&Hs.alternate===null&&i(U,ot),O=d(Hs,O,St),Pt===null?ut=Hs:Pt.sibling=Hs,Pt=Hs,ot=Ct}if(zt.done)return a(U,ot),Mt&&Hi(U,St),ut;if(ot===null){for(;!zt.done;St++,zt=z.next())zt=Y(U,zt.value,K),zt!==null&&(O=d(zt,O,St),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return Mt&&Hi(U,St),ut}for(ot=l(ot);!zt.done;St++,zt=z.next())zt=H(ot,U,St,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?St:zt.key),O=d(zt,O,St),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(Vb){return i(U,Vb)}),Mt&&Hi(U,St),ut}function Jt(U,O,z,K){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var ut=z.key;O!==null;){if(O.key===ut){if(ut=z.type,ut===J){if(O.tag===7){a(U,O.sibling),K=h(O,z.props.children),K.return=U,U=K;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Vr(ut)===O.type){a(U,O.sibling),K=h(O,z.props),Wo(K,z),K.return=U,U=K;break t}a(U,O);break}else i(U,O);O=O.sibling}z.type===J?(K=xr(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=zu(z.type,z.key,z.props,null,U.mode,K),Wo(K,z),K.return=U,U=K)}return y(U);case Q:t:{for(ut=z.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),K=h(O,z.children||[]),K.return=U,U=K;break t}else{a(U,O);break}else i(U,O);O=O.sibling}K=of(z,U.mode,K),K.return=U,U=K}return y(U);case S:return z=Vr(z),Jt(U,O,z,K)}if(ce(z))return at(U,O,z,K);if(L(z)){if(ut=L(z),typeof ut!="function")throw Error(r(150));return z=ut.call(z),dt(U,O,z,K)}if(typeof z.then=="function")return Jt(U,O,Qu(z),K);if(z.$$typeof===ft)return Jt(U,O,qu(U,z),K);Ku(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),K=h(O,z),K.return=U,U=K):(a(U,O),K=af(z,U.mode,K),K.return=U,U=K),y(U)):a(U,O)}return function(U,O,z,K){try{Jo=0;var ut=Jt(U,O,z,K);return Oa=null,ut}catch(ot){if(ot===Da||ot===Fu)throw ot;var Pt=vn(29,ot,null,U.mode);return Pt.lanes=K,Pt.return=U,Pt}finally{}}}var Ur=Rg(!0),Ig=Rg(!1),Rs=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(e),cg(e,null,a),i}return Lu(e,l,i,a),Pu(e)}function tl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}function Ef(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Af=!1;function el(){if(Af){var e=Na;if(e!==null)throw e}}function nl(e,i,a,l){Af=!1;var h=e.updateQueue;Rs=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,y===null?d=j:y.next=j,y=x;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==y&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=x))}if(d!==null){var Y=h.baseState;y=0,F=j=x=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(It&B)===B:(l&B)===B){B!==0&&B===xa&&(Af=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,dt=T;B=i;var Jt=a;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(Jt,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,B=typeof at=="function"?at.call(Jt,Y,B):at,B==null)break t;Y=b({},Y,B);break t;case 2:Rs=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,x=Y):F=F.next=H,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Ms|=y,e.lanes=y,e.memoizedState=Y}}function Cg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function xg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cg(a[e],i)}var Ma=M(null),Yu=M(0);function Ng(e,i){e=ts,nt(Yu,e),nt(Ma,i),ts=e|i.baseLanes}function bf(){nt(Yu,ts),nt(Ma,Ma.current)}function Sf(){ts=Yu.current,X(Ma),X(Yu)}var Tn=M(null),Ln=null;function xs(e){var i=e.alternate;nt(pe,pe.current&1),nt(Tn,e),Ln===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Ln=e)}function wf(e){nt(pe,pe.current),nt(Tn,e),Ln===null&&(Ln=e)}function Dg(e){e.tag===22?(nt(pe,pe.current),nt(Tn,e),Ln===null&&(Ln=e)):Ns()}function Ns(){nt(pe,pe.current),nt(Tn,Tn.current)}function En(e){X(Tn),Ln===e&&(Ln=null),X(pe)}var pe=M(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,At=null,$t=null,Se=null,$u=!1,Va=!1,Lr=!1,Zu=0,il=0,ka=null,SA=0;function he(){throw Error(r(321))}function Rf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function If(e,i,a,l,h,d){return Qi=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?my:qf,Lr=!1,d=a(l,h),Lr=!1,Va&&(d=Mg(i,a,l,h)),Og(e),d}function Og(e){G.H=al;var i=$t!==null&&$t.next!==null;if(Qi=0,Se=$t=At=null,$u=!1,il=0,ka=null,i)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&Bu(e)&&(we=!0))}function Mg(e,i,a,l){At=e;var h=0;do{if(Va&&(ka=null),il=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=py,d=i(a,l)}while(Va);return d}function wA(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?sl(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function Cf(){var e=Zu!==0;return Zu=0,e}function xf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Nf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Qi=0,Se=$t=At=null,Va=!1,il=Zu=0,ka=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Se===null?At.memoizedState:Se.next;if(i!==null)Se=i,$t=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var i=il;return il+=1,ka===null&&(ka=[]),e=bg(ka,e,i),i=At,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?my:qf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===ft)return He(e)}throw Error(r(438,String(e)))}function Df(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=ge();return Of(i,$t,e)}function Of(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=y=null,x=null,j=i,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(It&Y)===Y:(Qi&Y)===Y){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===xa&&(F=!0);else if((Qi&B)===B){j=j.next,B===xa&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=Y,y=d):x=x.next=Y,At.lanes|=B,Ms|=B;Y=j.action,Lr&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else B={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=B,y=d):x=x.next=B,At.lanes|=Y,Ms|=Y;j=j.next}while(j!==null&&j!==i);if(x===null?y=d:x.next=T,!_n(d,e.memoizedState)&&(we=!0,F&&(a=Na,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);_n(d,i.memoizedState)||(we=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vg(e,i,a){var l=At,h=ge(),d=Mt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!_n(($t||h).memoizedState,a);if(y&&(h.memoizedState=a,we=!0),h=h.queue,Uf(Lg.bind(null,l,h,e),[e]),h.getSnapshot!==i||y||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Ug.bind(null,l,h,a,i),null),Wt===null)throw Error(r(349));d||(Qi&127)!==0||kg(l,i,a)}return a}function kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Ju(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ug(e,i,a,l){i.value=a,i.getSnapshot=l,Pg(i)&&zg(e)}function Lg(e,i,a){return a(function(){Pg(i)&&zg(e)})}function Pg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function zg(e){var i=Cr(e,2);i!==null&&dn(i,e,2)}function Vf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Lr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function jg(e,i,a,l){return e.baseState=a,Of(e,$t,typeof l=="function"?l:Ki)}function RA(e,i,a,l,h){if(ic(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Bg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Bg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,y={};G.T=y;try{var T=a(h,l),x=G.S;x!==null&&x(y,T),qg(e,i,T)}catch(j){kf(e,i,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),G.T=d}}else try{d=a(h,l),qg(e,i,d)}catch(j){kf(e,i,j)}}function qg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hg(e,i,l)},function(l){return kf(e,i,l)}):Hg(e,i,a)}function Hg(e,i,a){i.status="fulfilled",i.value=a,Fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Bg(e,a)))}function kf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==l)}e.action=null}function Fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gg(e,i){return i}function Qg(e,i){if(Mt){var a=Wt.formState;if(a!==null){t:{var l=At;if(Mt){if(ne){e:{for(var h=ne,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Pn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:i},a.queue=l,a=hy.bind(null,At,l),l.dispatch=a,l=Vf(!1),d=Bf.bind(null,At,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=RA.bind(null,At,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Kg(e){var i=ge();return Yg(i,$t,e)}function Yg(e,i,a){if(i=Of(e,i,Gg)[0],e=tc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(y){throw y===Da?Fu:y}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ua(9,{destroy:void 0},IA.bind(null,h,a),null)),[l,d,e]}function IA(e,i){e.action=i}function Xg(e){var i=ge(),a=$t;if(a!==null)return Yg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=At.updateQueue,i===null&&(i=Ju(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function $g(){return ge().memoizedState}function ec(e,i,a,l){var h=nn();At.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function nc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Rf(l,$t.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(At.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function Zg(e,i){ec(8390656,8,e,i)}function Uf(e,i){nc(2048,8,e,i)}function CA(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Ju(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Jg(e){var i=ge().memoizedState;return CA({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Wg(e,i){return nc(4,2,e,i)}function ty(e,i){return nc(4,4,e,i)}function ey(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ny(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,ey.bind(null,i,e),a)}function Lf(){}function iy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function sy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rf(i,l[1]))return l[0];if(l=e(),Lr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Pf(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(It&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=r_(),At.lanes|=e,Ms|=e,a)}function ry(e,i,a,l){return _n(a,i)?a:Ma.current!==null?(e=Pf(e,a,l),_n(e,i)||(we=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(It&261930)===0?(we=!0,e.memoizedState=a):(e=r_(),At.lanes|=e,Ms|=e,i)}function ay(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var y=G.T,T={};G.T=T,Bf(e,!1,i,a);try{var x=h(),j=G.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var F=bA(x,l);rl(e,i,F,Sn(e))}else rl(e,i,l,Sn(e))}catch(Y){rl(e,i,{then:function(){},status:"rejected",reason:Y},Sn())}finally{et.p=d,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function xA(){}function zf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=oy(e).queue;ay(e,h,i,ht,a===null?xA:function(){return ly(e),a(l)})}function oy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ly(e){var i=oy(e);i.next===null&&(i=e.alternate.memoizedState),rl(e,i.next.queue,{},Sn())}function jf(){return He(Al)}function uy(){return ge().memoizedState}function cy(){return ge().memoizedState}function NA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Is(a);var l=Cs(i,e,a);l!==null&&(dn(l,i,a),tl(l,i,a)),i={cache:pf()},e.payload=i;return}i=i.return}}function DA(e,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?fy(i,a):(a=sf(e,i,a,l),a!==null&&(dn(a,e,l),dy(a,i,l)))}function hy(e,i,a){var l=Sn();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))fy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,y))return Lu(e,i,h,0),Wt===null&&Uu(),!1}catch{}finally{}if(a=sf(e,i,h,l),a!==null)return dn(a,e,l),dy(a,i,l),!0}return!1}function Bf(e,i,a,l){if(l={lane:2,revertLane:vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(r(479))}else i=sf(e,a,l,2),i!==null&&dn(i,e,2)}function ic(e){var i=e.alternate;return e===At||i!==null&&i===At}function fy(e,i){Va=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function dy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}var al={readContext:He,use:Wu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};al.useEffectEvent=he;var my={readContext:He,use:Wu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,ey.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(Lr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Lr){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=DA.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Vf(e);var i=e.queue,a=hy.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(e,i){var a=nn();return Pf(a,e,i)},useTransition:function(){var e=Vf(!1);return e=ay.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=At,h=nn();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Wt===null)throw Error(r(349));(It&127)!==0||kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(Lg.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},Ug.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(Mt){var a=Ri,l=wi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=SA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:jf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Df,useCacheRefresh:function(){return nn().memoizedState=NA.bind(null,At)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:He,use:Wu,useCallback:iy,useContext:He,useEffect:Uf,useImperativeHandle:ny,useInsertionEffect:Wg,useLayoutEffect:ty,useMemo:sy,useReducer:tc,useRef:$g,useState:function(){return tc(Ki)},useDebugValue:Lf,useDeferredValue:function(e,i){var a=ge();return ry(a,$t.memoizedState,e,i)},useTransition:function(){var e=tc(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Vg,useId:uy,useHostTransitionStatus:jf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=ge();return jg(a,$t,e,i)},useMemoCache:Df,useCacheRefresh:cy};qf.useEffectEvent=Jg;var py={readContext:He,use:Wu,useCallback:iy,useContext:He,useEffect:Uf,useImperativeHandle:ny,useInsertionEffect:Wg,useLayoutEffect:ty,useMemo:sy,useReducer:Mf,useRef:$g,useState:function(){return Mf(Ki)},useDebugValue:Lf,useDeferredValue:function(e,i){var a=ge();return $t===null?Pf(a,e,i):ry(a,$t.memoizedState,e,i)},useTransition:function(){var e=Mf(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Vg,useId:uy,useHostTransitionStatus:jf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,i){var a=ge();return $t!==null?jg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:cy};py.useEffectEvent=Jg;function Hf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Is(l);h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(dn(i,e,l),tl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=Is(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(dn(i,e,l),tl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),l=Is(a);l.tag=2,i!=null&&(l.callback=i),i=Cs(e,l,a),i!==null&&(dn(i,e,a),tl(i,e,a))}};function gy(e,i,a,l,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function yy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Ff.enqueueReplaceState(i,i.state,null)}function Pr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function _y(e){ku(e)}function vy(e){console.error(e)}function Ty(e){ku(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function Ay(e){return e=Is(e),e.tag=3,e}function by(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ey(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ey(i,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function OA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?gc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(e,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(e,l,h)),!1}throw Error(r(435,a.tag))}return gd(e,l,h),gc(),!1}if(Mt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cf&&(e=Error(r(422),{cause:l}),Xo(Mn(e,a)))):(l!==cf&&(i=Error(r(423),{cause:l}),Xo(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=Gf(e.stateNode,l,h),Ef(e,h),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),ml===null?ml=[d]:ml.push(d),fe!==4&&(fe=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gf(a.stateNode,l,e),Ef(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),by(h,e,a,l),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),we=!1;function Fe(e,i,a,l){i.child=e===null?Ig(i,null,a,l):Ur(i,e.child,a,l)}function Sy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Or(i),l=If(e,i,a,y,d,h),T=Cf(),e!==null&&!we?(xf(e,i,h),Yi(e,i,h)):(Mt&&T&&lf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function wy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(e,i,d,l,h)):(e=zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!td(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(y,l)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ry(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(we=!1,i.pendingProps=l=d,td(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return Kf(e,i,a,l,h)}function Iy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Cy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?Ng(i,d):bf(),Dg(i);else return l=i.lanes=536870912,Cy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Hu(i,d.cachePool),Ng(i,d),Ns(),i.memoizedState=null):(e!==null&&Hu(i,null),bf(),Ns());return Fe(e,i,h,a),i.child}function ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cy(e,i,a,l,h){var d=yf();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Hu(i,null),bf(),Dg(i),e!==null&&Ca(e,i,l,!0),i.childLanes=h,null}function rc(e,i){return i=oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function xy(e,i,a){return Ur(i,e.child,null,a),e=rc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function MA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Mt){if(l.mode==="hidden")return e=rc(i,l),i.lanes=536870912,ol(null,e);if(wf(i),(e=ne)?(e=B_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:As!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=fg(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Ss(i);return i.lanes=536870912,null}return rc(i,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(wf(i),h)if(i.flags&256)i.flags&=-257,i=xy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(we||Ca(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=Wt,l!==null&&(y=Co(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Cr(e,y),dn(l,e,y),Qf;gc(),i=xy(e,i,a)}else e=d.treeContext,ne=Pn(y.nextSibling),qe=i,Mt=!0,bs=null,Un=!1,e!==null&&pg(i,e),i=rc(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ac(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Kf(e,i,a,l,h){return Or(i),a=If(e,i,a,l,void 0,h),l=Cf(),e!==null&&!we?(xf(e,i,h),Yi(e,i,h)):(Mt&&l&&lf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Ny(e,i,a,l,h,d){return Or(i),i.updateQueue=null,a=Mg(i,l,a,h),Og(e),l=Cf(),e!==null&&!we?(xf(e,i,d),Yi(e,i,d)):(Mt&&l&&lf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Dy(e,i,a,l,h){if(Or(i),i.stateNode===null){var d=Sa,y=a.contextType;typeof y=="object"&&y!==null&&(d=He(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?He(y):Sa,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Hf(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Ff.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,x=Pr(a,T);d.props=x;var j=d.context,F=a.contextType;y=Sa,typeof F=="object"&&F!==null&&(y=He(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==y)&&yy(i,d,l,y),Rs=!1;var B=i.memoizedState;d.state=B,nl(i,l,d,h),el(),j=i.memoizedState,T||B!==j||Rs?(typeof Y=="function"&&(Hf(i,a,Y,l),j=i.memoizedState),(x=Rs||gy(i,a,x,l,B,j,y))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=y,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Tf(e,i),y=i.memoizedProps,F=Pr(a,y),d.props=F,Y=i.pendingProps,B=d.context,j=a.contextType,x=Sa,typeof j=="object"&&j!==null&&(x=He(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||B!==x)&&yy(i,d,l,x),Rs=!1,B=i.memoizedState,d.state=B,nl(i,l,d,h),el();var H=i.memoizedState;y!==Y||B!==H||Rs||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof T=="function"&&(Hf(i,a,T,l),H=i.memoizedState),(F=Rs||gy(i,a,F,l,B,H,x)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=x,l=F):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ur(i,e.child,null,h),i.child=Ur(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function Oy(e,i,a,l){return Nr(),i.flags|=256,Fe(e,i,a,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:Eg()}}function $f(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function My(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Mt){if(h?xs(i):Ns(),(e=ne)?(e=B_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:As!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=fg(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Ss(i);return Od(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ns(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=xr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Xf(a),l.childLanes=$f(e,y,a),i.memoizedState=Yf,ol(null,l)):(xs(i),Zf(i,T))}var x=e.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(xs(i),i.flags&=-257,i=Jf(e,i,a)):i.memoizedState!==null?(Ns(),i.child=e.child,i.flags|=128,i=null):(Ns(),T=l.fallback,h=i.mode,l=oc({mode:"visible",children:l.children},h),T=xr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ur(i,e.child,null,a),l=i.child,l.memoizedState=Xf(a),l.childLanes=$f(e,y,a),i.memoizedState=Yf,i=ol(null,l));else if(xs(i),Od(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(r(419)),l.stack="",l.digest=y,Xo({value:l,source:null,stack:null}),i=Jf(e,i,a)}else if(we||Ca(e,i,a,!1),y=(a&e.childLanes)!==0,we||y){if(y=Wt,y!==null&&(l=Co(y,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Cr(e,l),dn(y,e,l),Qf;Dd(T)||gc(),i=Jf(e,i,a)}else Dd(T)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ne=Pn(T.nextSibling),qe=i,Mt=!0,bs=null,Un=!1,e!==null&&pg(i,e),i=Zf(i,l.children),i.flags|=4096);return i}return h?(Ns(),T=l.fallback,h=i.mode,x=e.child,j=x.sibling,l=qi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=qi(j,T):(T=xr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ol(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Xf(a):(h=T.cachePool,h!==null?(x=be._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Eg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=$f(e,y,a),i.memoizedState=Yf,ol(e.child,l)):(xs(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Zf(e,i){return i=oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function oc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Jf(e,i,a){return Ur(i,e.child,null,a),e=Zf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),df(e.return,i,a)}function Wf(e,i,a,l,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function ky(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=pe.current,T=(y&2)!==0;if(T?(y=y&1|2,i.flags|=128):y&=1,nt(pe,y),Fe(e,i,l,a),l=Mt?Yo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,a,i);else if(e.tag===19)Vy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Wf(i,!0,a,null,d,l);break;case"together":Wf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ca(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function VA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),ws(i,be,e.memoizedState.cache),Nr();break;case 27:case 5:cr(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(e,i,a):(xs(i),e=Yi(e,i,a),e!==null?e.sibling:null);xs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),l)break;return null;case 22:return i.lanes=0,Iy(e,i,a,i.pendingProps);case 24:ws(i,be,e.memoizedState.cache)}return Yi(e,i,a)}function Uy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!td(e,a)&&(i.flags&128)===0)return we=!1,VA(e,i,a);we=(e.flags&131072)!==0}else we=!1,Mt&&(i.flags&1048576)!==0&&mg(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Vr(i.elementType),i.type=e,typeof e=="function")rf(e)?(l=Pr(e,l),i.tag=1,i=Dy(null,i,e,l,a)):(i.tag=0,i=Kf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===qt){i.tag=11,i=Sy(null,i,e,l,a);break t}else if(h===N){i.tag=14,i=wy(null,i,e,l,a);break t}}throw i=te(e)||e,Error(r(306,i,""))}}return i;case 0:return Kf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Pr(l,i.pendingProps),Dy(e,i,l,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Tf(e,i),nl(i,l,null,a);var y=i.memoizedState;if(l=y.cache,ws(i,be,l),l!==d.cache&&mf(i,[be],a,!0),el(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Oy(e,i,l,a);break t}else if(l!==h){h=Mn(Error(r(424)),i),Xo(h),i=Oy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Pn(e.firstChild),qe=i,Mt=!0,bs=null,Un=!0,a=Ig(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Nr(),l===h){i=Yi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return ac(e,i),e===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Mt||(a=i.type,e=i.pendingProps,l=bc(bt.current).createElement(a),l[Te]=i,l[Ue]=e,Ge(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=K_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cr(i),e===null&&Mt&&(l=i.stateNode=F_(i.type,i.pendingProps,bt.current),qe=i,Un=!0,h=ne,Ps(i.type)?(Md=h,ne=Pn(l.firstChild)):ne=h),Fe(e,i,i.pendingProps.children,a),ac(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Mt&&((h=l=ne)&&(l=cb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qe=i,ne=Pn(l.firstChild),Un=!1,h=!0):h=!1),h||Ss(i)),cr(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Cd(h,d)?l=null:y!==null&&Cd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=If(e,i,wA,null,null,a),Al._currentValue=h),ac(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Mt&&((e=a=ne)&&(a=hb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qe=i,ne=null,e=!0):e=!1),e||Ss(i)),null;case 13:return My(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ur(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Sy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ws(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Or(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return wy(e,i,i.type,i.pendingProps,a);case 15:return Ry(e,i,i.type,i.pendingProps,a);case 19:return ky(e,i,a);case 31:return MA(e,i,a);case 22:return Iy(e,i,a,i.pendingProps);case 24:return Or(i),l=He(be),e===null?(h=yf(),h===null&&(h=Wt,d=pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},vf(i),ws(i,be,h)):((e.lanes&a)!==0&&(Tf(e,i),nl(i,null,null,a),el()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,be,l)):(l=d.cache,ws(i,be,l),l!==h.cache&&mf(i,[be],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(e){e.flags|=4}function ed(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(u_())e.flags|=8192;else throw kr=Gu,_f}else e.flags&=-16777217}function Ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!J_(i))if(u_())e.flags|=8192;else throw kr=Gu,_f}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mu():536870912,e.lanes|=i,ja|=i)}function ll(e,i){if(!Mt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function kA(e,i,a){var l=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(be),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Xi(i),d!==null?(ie(i),Ly(i,d)):(ie(i),ed(i,h,null,l,a))):d?d!==e.memoizedState?(Xi(i),ie(i),Ly(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xi(i),ie(i),ed(i,h,e,l,a)),null;case 27:if(ra(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=rt.current,Ia(i)?gg(i):(e=F_(h,l,a),i.stateNode=e,Xi(i))}return ie(i),null;case 5:if(ra(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(d=rt.current,Ia(i))gg(i);else{var y=bc(bt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Te]=i,d[Ue]=l;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(i)}}return ie(i),ed(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=bt.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M_(e.nodeValue,a)),e||Ss(i,!0)}else e=bc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&bd(i.stateNode.containerInfo),ie(i),null;case 10:return Gi(i.type),ie(i),null;case 19:if(X(pe),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Xu(e),d!==null){for(i.flags|=128,ll(l,!1),e=d.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)hg(a,e),a=a.sibling;return nt(pe,pe.current&1|2),Mt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>dc&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(e=Xu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Mt)return ie(i),null}else 2*tn()-l.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=pe.current,nt(pe,h?a&1|2:a&1),Mt&&Hi(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),Sf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(Mr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(be),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function UA(e,i){switch(uf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(be),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(pe),null;case 4:return re(),null;case 10:return Gi(i.type),null;case 22:case 23:return En(i),Sf(),e!==null&&X(Mr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(be),null;case 25:return null;default:return null}}function Py(e,i){switch(uf(i),i.tag){case 3:Gi(be),re();break;case 26:case 27:case 5:ra(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:X(pe);break;case 10:Gi(i.type);break;case 22:case 23:En(i),Sf(),e!==null&&X(Mr);break;case 24:Gi(be)}}function ul(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){Kt(i,i.return,T)}}function Ds(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=i;var x=a,j=T;try{j()}catch(F){Kt(h,x,F)}}}l=l.next}while(l!==d)}}catch(F){Kt(i,i.return,F)}}function zy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{xg(i,a)}catch(l){Kt(e,e.return,l)}}}function jy(e,i,a){a.props=Pr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(e,i,l)}}function cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Kt(e,i,h)}}function Ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,i,h)}else a.current=null}function By(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function nd(e,i,a){try{var l=e.stateNode;sb(l,e.type,a,i),l[Ue]=i}catch(h){Kt(e,e.return,h)}}function qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Ps(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(sd(e,i,a),e=e.sibling;e!==null;)sd(e,i,a),e=e.sibling}function uc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ps(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,i,a),e=e.sibling;e!==null;)uc(e,i,a),e=e.sibling}function Hy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Te]=e,i[Ue]=a}catch(d){Kt(e,e.return,d)}}var $i=!1,Re=!1,rd=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function LA(e,i){if(e=e.containerInfo,Rd=Nc,e=ng(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,T=-1,x=-1,j=0,F=0,Y=e,B=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(T=y+h),Y!==d||l!==0&&Y.nodeType!==3||(x=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===a&&++j===h&&(T=y),B===d&&++F===l&&(x=y),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Nc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var at=Pr(a.type,h);e=l.getSnapshotBeforeUpdate(at,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Gy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),l&4&&ul(5,a);break;case 1:if(Ji(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var h=Pr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&zy(a),l&512&&cl(a,a.return);break;case 3:if(Ji(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xg(e,i)}catch(y){Kt(a,a.return,y)}}break;case 27:i===null&&l&4&&Hy(a);case 26:case 5:Ji(e,a),i===null&&l&4&&By(a),l&512&&cl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),l&4&&Yy(e,a);break;case 13:Ji(e,a),l&4&&Xy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=QA.bind(null,a),fb(e,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Re,h=$i;var d=Re;$i=l,(Re=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),$i=h,Re=d}break;case 30:break;default:Ji(e,a)}}function Qy(e){var i=e.alternate;i!==null&&(e.alternate=null,Qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ca(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function Zi(e,i,a){for(a=a.child;a!==null;)Ky(e,i,a),a=a.sibling}function Ky(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Re||Ii(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ii(a,i);var l=oe,h=un;Ps(a.type)&&(oe=a.stateNode,un=!1),Zi(e,i,a),vl(a.stateNode),oe=l,un=h;break;case 5:Re||Ii(a,i);case 6:if(l=oe,h=un,oe=null,Zi(e,i,a),oe=l,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Kt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Kt(a,i,d)}break;case 18:oe!==null&&(un?(e=oe,z_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ya(e)):z_(oe,a.stateNode));break;case 4:l=oe,h=un,oe=a.stateNode.containerInfo,un=!0,Zi(e,i,a),oe=l,un=h;break;case 0:case 11:case 14:case 15:Ds(2,a,i),Re||Ds(4,a,i),Zi(e,i,a);break;case 1:Re||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,i,l)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Zi(e,i,a),Re=l;break;default:Zi(e,i,a)}}function Yy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(a){Kt(i,i.return,a)}}}function Xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(a){Kt(i,i.return,a)}}function PA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Fy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Fy),i;default:throw Error(r(435,e.tag))}}function cc(e,i){var a=PA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=KA.bind(null,e,l);l.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,y=i,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Ps(T.type)){oe=T.stateNode,un=!1;break t}break;case 5:oe=T.stateNode,un=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(oe===null)throw Error(r(160));Ky(d,y,h),oe=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$y(i,e),i=i.sibling}var Wn=null;function $y(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),l&4&&(Ds(3,e,e.return),ul(3,e),Ds(5,e,e.return));break;case 1:cn(i,e),hn(e),l&512&&(Re||a===null||Ii(a,a.return)),l&64&&$i&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(cn(i,e),hn(e),l&512&&(Re||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Te]=e,Ee(d),l=d;break t;case"link":var y=$_("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(y=$_("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=e,Ee(d),l=d}e.stateNode=l}else Z_(h,e.type,e.stateNode);else e.stateNode=X_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z_(h,e.type,e.stateNode):X_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),l&512&&(Re||a===null||Ii(a,a.return)),a!==null&&l&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),l&512&&(Re||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(at){Kt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(cn(i,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(at){Kt(e,e.return,at)}}break;case 3:if(Rc=null,h=Wn,Wn=Sc(i.containerInfo),cn(i,e),Wn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(at){Kt(e,e.return,at)}rd&&(rd=!1,Zy(e));break;case 4:l=Wn,Wn=Sc(e.stateNode.containerInfo),cn(i,e),hn(e),Wn=l;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=$i,F=Re;if($i=j||h,Re=F||x,cn(i,e),Re=F,$i=j,hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||$i||Re||zr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=x.stateNode;var Y=x.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Kt(x,x.return,at)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){Kt(x,x.return,at)}}}else if(i.tag===18){if(a===null){x=i;try{var H=x.stateNode;h?j_(H,!0):j_(x.stateNode,!1)}catch(at){Kt(x,x.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cc(e,a))));break;case 19:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(qy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=id(e);uc(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(ln(y,""),a.flags&=-33);var T=id(e);uc(e,T,y);break;case 3:case 4:var x=a.stateNode.containerInfo,j=id(e);sd(e,j,x);break;default:throw Error(r(161))}}catch(F){Kt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gy(e,i.alternate,i),i=i.sibling}function zr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ds(4,i,i.return),zr(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jy(i,i.return,a),zr(i);break;case 27:vl(i.stateNode);case 26:case 5:Ii(i,i.return),zr(i);break;case 22:i.memoizedState===null&&zr(i);break;case 30:zr(i);break;default:zr(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),ul(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Kt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Cg(x[h],T)}catch(j){Kt(l,l.return,j)}}a&&y&64&&zy(d),cl(d,d.return);break;case 27:Hy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&y&4&&By(d),cl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&y&4&&Yy(h,d);break;case 13:Wi(h,d,a),a&&y&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),cl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function ad(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function od(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e))}function ti(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(e,i,a,l),i=i.sibling}function Jy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i,a,l),h&2048&&ul(9,i);break;case 1:ti(e,i,a,l);break;case 3:ti(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ti(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Kt(i,i.return,x)}}else ti(e,i,a,l);break;case 31:ti(e,i,a,l);break;case 13:ti(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ti(e,i,a,l):hl(e,i):d._visibility&2?ti(e,i,a,l):(d._visibility|=2,La(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(y,i);break;case 24:ti(e,i,a,l),h&2048&&od(i.alternate,i);break;default:ti(e,i,a,l)}}function La(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,T=a,x=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:La(d,y,T,x,h),ul(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?La(d,y,T,x,h):hl(d,y):(F._visibility|=2,La(d,y,T,x,h)),h&&j&2048&&ad(y.alternate,y);break;case 24:La(d,y,T,x,h),h&&j&2048&&od(y.alternate,y);break;default:La(d,y,T,x,h)}i=i.sibling}}function hl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&ad(l.alternate,l);break;case 24:hl(a,l),h&2048&&od(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function Pa(e,i,a){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Wy(e,i,a),e=e.sibling}function Wy(e,i,a){switch(e.tag){case 26:Pa(e,i,a),e.flags&fl&&e.memoizedState!==null&&Sb(a,Wn,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,i,a);break;case 3:case 4:var l=Wn;Wn=Sc(e.stateNode.containerInfo),Pa(e,i,a),Wn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,Pa(e,i,a),fl=l):Pa(e,i,a));break;default:Pa(e,i,a)}}function t_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,n_(l,e)}t_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e_(e),e=e.sibling}function e_(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):dl(e);break;default:dl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,n_(l,e)}t_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ds(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function n_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Qy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var zA={getCacheForType:function(e){var i=He(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Wt=null,wt=null,It=0,Qt=0,An=null,Os=!1,za=!1,ld=!1,ts=0,fe=0,Ms=0,jr=0,ud=0,bn=0,ja=0,ml=null,fn=null,cd=!1,fc=0,i_=0,dc=1/0,mc=null,Vs=null,Ve=0,ks=null,Ba=null,es=0,hd=0,fd=null,s_=null,pl=0,dd=null;function Sn(){return(Bt&2)!==0&&It!==0?It&-It:G.T!==null?vd():pu()}function r_(){if(bn===0)if((It&536870912)===0||Mt){var e=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function dn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Us(e,It,bn,!1)),mr(e,a),((Bt&2)===0||e!==Wt)&&(e===Wt&&((Bt&2)===0&&(jr|=a),fe===4&&Us(e,It,bn,!1)),Ci(e))}function a_(e,i,a){if((Bt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Fn(e,i),h=l?HA(e,i):pd(e,i,!0),d=l;do{if(h===0){za&&!l&&Us(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!BA(a)){h=pd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var T=e;h=ml;var x=T.current.memoizedState.isDehydrated;if(x&&(qa(T,y).flags|=256),y=pd(T,y,!1),y!==2){if(ld&&!x){T.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){qa(e,0),Us(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Us(l,i,bn,!Os);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=fc+300-tn(),10<h)){if(Us(l,i,bn,!Os),ci(l,0,!0)!==0)break t;es=i,l.timeoutHandle=L_(o_.bind(null,l,a,fn,mc,cd,i,bn,jr,ja,Os,d,"Throttled",-0,0),h);break t}o_(l,a,fn,mc,cd,i,bn,jr,ja,Os,d,null,-0,0)}}break}while(!0);Ci(e)}function o_(e,i,a,l,h,d,y,T,x,j,F,Y,B,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Wy(i,d,Y);var at=(d&62914560)===d?fc-tn():(d&4194048)===d?i_-tn():0;if(at=wb(Y,at),at!==null){es=d,e.cancelPendingCommit=at(p_.bind(null,e,i,d,a,l,h,y,T,x,F,Y,null,B,H)),Us(e,d,y,!j);return}}p_(e,i,d,a,l,h,y,T,x)}function BA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Us(e,i,a,l){i&=~ud,i&=~jr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&pr(e,a,i)}function pc(){return(Bt&6)===0?(gl(0),!1):!0}function md(){if(wt!==null){if(Qt===0)var e=wt.return;else e=wt,Fi=Dr=null,Nf(e),Oa=null,Jo=0,e=wt;for(;e!==null;)Py(e.alternate,e),e=e.return;wt=null}}function qa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ob(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),es=0,md(),Wt=e,wt=a=qi(e.current,null),It=i,Qt=0,An=null,Os=!1,za=Fn(e,i),ld=!1,ja=bn=ud=jr=Ms=fe=0,fn=ml=null,cd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return ts=i,Uu(),a}function l_(e,i){At=null,G.H=al,i===Da||i===Fu?(i=Sg(),Qt=3):i===_f?(i=Sg(),Qt=4):Qt=i===Qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,wt===null&&(fe=1,sc(e,Mn(i,e.current)))}function u_(){var e=Tn.current;return e===null?!0:(It&4194048)===It?Ln===null:(It&62914560)===It||(It&536870912)!==0?e===Ln:!1}function c_(){var e=G.H;return G.H=al,e===null?al:e}function h_(){var e=G.A;return G.A=zA,e}function gc(){fe=4,Os||(It&4194048)!==It&&Tn.current!==null||(za=!0),(Ms&134217727)===0&&(jr&134217727)===0||Wt===null||Us(Wt,It,bn,!1)}function pd(e,i,a){var l=Bt;Bt|=2;var h=c_(),d=h_();(Wt!==e||It!==i)&&(mc=null,qa(e,i)),i=!1;var y=fe;t:do try{if(Qt!==0&&wt!==null){var T=wt,x=An;switch(Qt){case 8:md(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var j=Qt;if(Qt=0,An=null,Ha(e,T,x,j),a&&za){y=0;break t}break;default:j=Qt,Qt=0,An=null,Ha(e,T,x,j)}}qA(),y=fe;break}catch(F){l_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Fi=Dr=null,Bt=l,G.H=h,G.A=d,wt===null&&(Wt=null,It=0,Uu()),y}function qA(){for(;wt!==null;)f_(wt)}function HA(e,i){var a=Bt;Bt|=2;var l=c_(),h=h_();Wt!==e||It!==i?(mc=null,dc=tn()+500,qa(e,i)):za=Fn(e,i);t:do try{if(Qt!==0&&wt!==null){i=wt;var d=An;e:switch(Qt){case 1:Qt=0,An=null,Ha(e,i,d,1);break;case 2:case 9:if(Ag(d)){Qt=0,An=null,d_(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ci(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ag(d)?(Qt=0,An=null,d_(i)):(Qt=0,An=null,Ha(e,i,d,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var T=wt;if(y?J_(y):T.stateNode.complete){Qt=0,An=null;var x=T.sibling;if(x!==null)wt=x;else{var j=T.return;j!==null?(wt=j,yc(j)):wt=null}break e}}Qt=0,An=null,Ha(e,i,d,5);break;case 6:Qt=0,An=null,Ha(e,i,d,6);break;case 8:md(),fe=6;break t;default:throw Error(r(462))}}FA();break}catch(F){l_(e,F)}while(!0);return Fi=Dr=null,G.H=l,G.A=h,Bt=a,wt!==null?0:(Wt=null,It=0,Uu(),fe)}function FA(){for(;wt!==null&&!Fh();)f_(wt)}function f_(e){var i=Uy(e.alternate,e,ts);e.memoizedProps=e.pendingProps,i===null?yc(e):wt=i}function d_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ny(a,i,i.pendingProps,i.type,void 0,It);break;case 11:i=Ny(a,i,i.pendingProps,i.type.render,i.ref,It);break;case 5:Nf(i);default:Py(a,i),i=wt=hg(i,ts),i=Uy(a,i,ts)}e.memoizedProps=e.pendingProps,i===null?yc(e):wt=i}function Ha(e,i,a,l){Fi=Dr=null,Nf(i),Oa=null,Jo=0;var h=i.return;try{if(OA(e,h,i,a,It)){fe=1,sc(e,Mn(a,e.current)),wt=null;return}}catch(d){if(h!==null)throw wt=h,d;fe=1,sc(e,Mn(a,e.current)),wt=null;return}i.flags&32768?(Mt||l===1?e=!0:za||(It&536870912)!==0?e=!1:(Os=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),m_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){m_(i,Os);return}e=i.return;var a=kA(i.alternate,i,ts);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);fe===0&&(fe=5)}function m_(e,i){do{var a=UA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);fe=6,wt=null}function p_(e,i,a,l,h,d,y,T,x){e.cancelPendingCommit=null;do _c();while(Ve!==0);if((Bt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=nf,Kh(e,a,d,y,T,x),e===Wt&&(wt=Wt=null,It=0),Ba=i,ks=e,es=a,hd=d,fd=h,s_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(fs,function(){return T_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=et.p,et.p=2,y=Bt,Bt|=4;try{LA(e,i,a)}finally{Bt=y,et.p=h,G.T=l}}Ve=1,g_(),y_(),__()}}function g_(){if(Ve===1){Ve=0;var e=ks,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{$y(i,e);var d=Id,y=ng(e.containerInfo),T=d.focusedElem,x=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&eg(T.ownerDocument.documentElement,T)){if(x!==null&&Zh(T)){var j=x.start,F=x.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=T.textContent.length,dt=Math.min(x.start,at),Jt=x.end===void 0?dt:Math.min(x.end,at);!H.extend&&dt>Jt&&(y=Jt,Jt=dt,dt=y);var U=tg(T,dt),O=tg(T,Jt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),dt>Jt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Rd,Id=Rd=null}finally{Bt=h,et.p=l,G.T=a}}e.current=i,Ve=2}}function y_(){if(Ve===2){Ve=0;var e=ks,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{Gy(e,i.alternate,i)}finally{Bt=h,et.p=l,G.T=a}}Ve=3}}function __(){if(Ve===4||Ve===3){Ve=0,lu();var e=ks,i=Ba,a=es,l=s_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,Ba=ks=null,v_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Pi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=et.p,et.p=2,G.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var T=l[y];d(T.value,{componentStack:T.stack})}}finally{G.T=i,et.p=h}}(es&3)!==0&&_c(),Ci(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===dd?pl++:(pl=0,dd=e):pl=0,gl(0)}}function v_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$o(i)))}function _c(){return g_(),y_(),__(),T_()}function T_(){if(Ve!==5)return!1;var e=ks,i=hd;hd=0;var a=Pi(es),l=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=fd,fd=null;var d=ks,y=es;if(Ve=0,Ba=ks=null,es=0,(Bt&6)!==0)throw Error(r(331));var T=Bt;if(Bt|=4,e_(d.current),Jy(d,d.current,y,a),Bt=T,gl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{et.p=h,G.T=l,v_(e,i)}}function E_(e,i,a){i=Mn(a,i),i=Gf(e.stateNode,i,2),e=Cs(e,i,2),e!==null&&(mr(e,2),Ci(e))}function Kt(e,i,a){if(e.tag===3)E_(e,e,a);else for(;i!==null;){if(i.tag===3){E_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Mn(a,e),a=Ay(2),l=Cs(i,a,2),l!==null&&(by(a,l,i,e),mr(l,2),Ci(l));break}}i=i.return}}function gd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new jA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ld=!0,h.add(a),e=GA.bind(null,e,i,a),i.then(e,e))}function GA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(It&a)===a&&(fe===4||fe===3&&(It&62914560)===It&&300>tn()-fc?(Bt&2)===0&&qa(e,0):ud|=a,ja===It&&(ja=0)),Ci(e)}function A_(e,i){i===0&&(i=mu()),e=Cr(e,i),e!==null&&(mr(e,i),Ci(e))}function QA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(e,a)}function KA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),A_(e,a)}function YA(e,i){return Me(e,i)}var vc=null,Fa=null,yd=!1,Tc=!1,_d=!1,Ls=0;function Ci(e){e!==Fa&&e.next===null&&(Fa===null?vc=Fa=e:Fa=Fa.next=e),Tc=!0,yd||(yd=!0,$A())}function gl(e,i){if(!_d&&Tc){_d=!0;do for(var a=!1,l=vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,R_(l,d))}else d=It,d=ci(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,R_(l,d));l=l.next}while(a);_d=!1}}function XA(){b_()}function b_(){Tc=yd=!1;var e=0;Ls!==0&&ab()&&(e=Ls);for(var i=tn(),a=null,l=vc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(Fa=a)):(a=l,(e!==0||(d&3)!==0)&&(Tc=!0)),l=h}Ve!==0&&Ve!==5||gl(e),Ls!==0&&(Ls=0)}function S_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-de(d),T=1<<y,x=h[y];x===-1?((T&a)===0||(T&l)!==0)&&(h[y]=Qh(T,i)):x<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=It,a=ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&hs(l),Pi(a)){case 2:case 8:a=Ro;break;case 32:a=fs;break;case 268435456:a=uu;break;default:a=fs}return l=w_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&hs(l),e.callbackPriority=2,e.callbackNode=null,2}function w_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var l=It;return l=ci(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(a_(e,l,i),S_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?w_.bind(null,e):null)}function R_(e,i){if(_c())return null;a_(e,i,!0)}function $A(){lb(function(){(Bt&6)!==0?Me(wo,XA):b_()})}function vd(){if(Ls===0){var e=xa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Ls=e}return Ls}function I_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function C_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ZA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=I_((h[Ue]||null).action),y=l.submitter;y&&(i=(i=y[Ue]||null)?I_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var T=new Ei("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var x=y?C_(h,y):new FormData(h);zf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=y?C_(h,y):new FormData(h),zf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Td=0;Td<ef.length;Td++){var Ed=ef[Td],JA=Ed.toLowerCase(),WA=Ed[0].toUpperCase()+Ed.slice(1);Jn(JA,"on"+WA)}Jn(rg,"onAnimationEnd"),Jn(ag,"onAnimationIteration"),Jn(og,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(pA,"onTransitionRun"),Jn(gA,"onTransitionStart"),Jn(yA,"onTransitionCancel"),Jn(lg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function x_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var T=l[y],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(F){ku(F)}h.currentTarget=null,d=x}else for(y=0;y<l.length;y++){if(T=l[y],x=T.instance,j=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(F){ku(F)}h.currentTarget=null,d=x}}}}function Rt(e,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=e+"__bubble";a.has(l)||(N_(i,e,2,!1),a.add(l))}function Ad(e,i,a){var l=0;i&&(l|=4),N_(a,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[Ec]){e[Ec]=!0,xo.forEach(function(a){a!=="selectionchange"&&(tb.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Ad("selectionchange",!1,i))}}function N_(e,i,a,l){switch(r0(i)){case 2:var h=Cb;break;case 8:h=xb;break;default:h=Pd}a=h.bind(null,i,a,e),h=void 0,!Tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Sd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=mi(T),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){l=d=y;continue t}T=T.parentNode}}l=l.return}_s(function(){var j=d,F=xn(a),Y=[];t:{var B=ug.get(e);if(B!==void 0){var H=Ei,at=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":H=Ou;break;case"focusin":at="focus",H=Sr;break;case"focusout":at="blur",H=Sr;break;case"beforeblur":case"afterblur":H=Sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case rg:case ag:case og:H=wu;break;case lg:H=A;break;case"scroll":case"scrollend":H=Bo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=Et}var dt=(i&4)!==0,Jt=!dt&&(e==="scroll"||e==="scrollend"),U=dt?B!==null?B+"Capture":null:B;dt=[];for(var O=j,z;O!==null;){var K=O;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Yn(O,U),K!=null&&dt.push(_l(O,K,z))),Jt)break;O=O.return}0<dt.length&&(B=new H(B,at,null,a,F),Y.push({event:B,listeners:dt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Po&&(at=a.relatedTarget||a.fromElement)&&(mi(at)||at[fi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=j,at=at?mi(at):null,at!==null&&(Jt=u(at),dt=at.tag,at!==Jt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(H=null,at=j),H!==at)){if(dt=qo,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Bi,K="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=H==null?B:gn(H),z=at==null?B:gn(at),B=new dt(K,O+"leave",H,a,F),B.target=Jt,B.relatedTarget=z,K=null,mi(F)===j&&(dt=new dt(U,O+"enter",at,a,F),dt.target=z,dt.relatedTarget=Jt,K=dt),Jt=K,H&&at)e:{for(dt=eb,U=H,O=at,z=0,K=U;K;K=dt(K))z++;K=0;for(var ut=O;ut;ut=dt(ut))K++;for(;0<z-K;)U=dt(U),z--;for(;0<K-z;)O=dt(O),K--;for(;z--;){if(U===O||O!==null&&U===O.alternate){dt=U;break e}U=dt(U),O=dt(O)}dt=null}else dt=null;H!==null&&D_(Y,B,H,dt,!1),at!==null&&Jt!==null&&D_(Y,Jt,at,dt,!0)}}t:{if(B=j?gn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Pt=Yp;else if(Qp(B))if(Xp)Pt=fA;else{Pt=cA;var ot=uA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&da(j.elementType)&&(Pt=Yp):Pt=hA;if(Pt&&(Pt=Pt(e,j))){Kp(Y,Pt,a,F);break t}ot&&ot(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(ot=j?gn(j):window,e){case"focusin":(Qp(ot)||ot.contentEditable==="true")&&(Ea=ot,Jh=j,Ko=null);break;case"focusout":Ko=Jh=Ea=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,ig(Y,a,F);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":ig(Y,a,F)}var St;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Ta?wr(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(Si&&a.locale!=="ko"&&(Ta||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Ta&&(St=jo()):(Ti=F,zo="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),ot=Ac(j,Ct),0<ot.length&&(Ct=new bi(Ct,e,null,a,F),Y.push({event:Ct,listeners:ot}),St?Ct.data=St:(St=va(a),St!==null&&(Ct.data=St)))),(St=Dn?rA(e,a):aA(e,a))&&(Ct=Ac(j,"onBeforeInput"),0<Ct.length&&(ot=new bi("onBeforeInput","beforeinput",null,a,F),Y.push({event:ot,listeners:Ct}),ot.data=St)),ZA(Y,e,j,a,F)}x_(Y,i)})}function _l(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ac(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(e,a),h!=null&&l.unshift(_l(e,h,d)),h=Yn(e,i),h!=null&&l.push(_l(e,h,d))),e.tag===3)return l;e=e.return}return[]}function eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function D_(e,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var T=a,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=Yn(a,d),j!=null&&y.unshift(_l(a,j,x))):h||(j=Yn(a,d),j!=null&&y.push(_l(a,j,x)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function O_(e){return(typeof e=="string"?e:""+e).replace(nb,`
`).replace(ib,"")}function M_(e,i){return i=O_(i),O_(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":Lo(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ma(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ma(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"onScroll":l!=null&&Rt("scroll",e);break;case"onScrollEnd":l!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ma(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ha(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ha(e,a,l))}}function wd(e,i,a,l,h,d){switch(a){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&Rt("scroll",e);break;case"onScrollEnd":l!=null&&Rt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ha(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,d,y,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var T=d=y=h=null,x=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":y=F;break;case"checked":x=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:Zt(e,i,l,F,a,null)}}vu(e,d,T,x,j,y,h,!1);return;case"select":Rt("invalid",e),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Zt(e,i,h,T,a,null)}i=d,a=y,e.multiple=!!l,i!=null?ms(e,!!l,i,!1):a!=null&&ms(e,!!l,a,!0);return;case"textarea":Rt("invalid",e),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,i,y,T,a,null)}ps(e,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,x,l,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)Rt(yl[l],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,j,l,a,null)}return;default:if(da(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&wd(e,i,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(e,i,T,l,a,null))}function sb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,x=null,j=null,F=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:l.hasOwnProperty(H)||Zt(e,i,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&Zt(e,i,B,H,l,Y)}}fa(e,y,T,x,j,F,d,h);return;case"select":H=y=T=B=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":H=x;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==x&&Zt(e,i,h,d,l,x)}i=T,a=y,l=H,B!=null?ms(e,!!a,B,!1):!!l!=!!a&&(i!=null?ms(e,!!a,i,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Zt(e,i,y,h,l,d)}Tu(e,B,H);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,i,at,null,l,B)}for(x in l)if(B=l[x],H=a[x],l.hasOwnProperty(x)&&B!==H&&(B!=null||H!=null))switch(x){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(e,i,x,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)B=a[dt],a.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt)&&Zt(e,i,dt,null,l,B);for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Zt(e,i,j,B,l,H)}return;default:if(da(i)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&wd(e,i,Jt,void 0,l,B);for(F in l)B=l[F],H=a[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||wd(e,i,F,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Zt(e,i,U,null,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Zt(e,i,Y,B,l,H)}function V_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&V_(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],j=x.startTime;if(j>T)break;var F=x.transferSize,Y=x.initiatorType;F&&V_(Y)&&(x=x.responseEnd,y+=F*(x<T?1:(T-j)/(x-j)))}if(--l,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function k_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===xd?!1:(xd=e,!0):(xd=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(e){return P_.resolve(null).then(e).catch(ub)}:L_;function ub(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function z_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&vl(e.ownerDocument.body);a=h}while(a);Ya(i)}function j_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Nd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function hb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function B_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Md=null;function q_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function H_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function F_(e,i,a){switch(i=bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function vl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ca(e)}var zn=new Map,G_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=et.d;et.d={f:db,r:mb,D:pb,C:gb,L:yb,m:_b,X:Tb,S:vb,M:Eb};function db(){var e=ns.f(),i=pc();return e||i}function mb(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?ly(i):ns.r(e)}var Ga=typeof document>"u"?null:document;function Q_(e,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),G_.has(h)||(G_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Ee(i),l.head.appendChild(i)))}}function pb(e){ns.D(e),Q_("dns-prefetch",e,null)}function gb(e,i){ns.C(e,i),Q_("preconnect",e,i)}function yb(e,i,a){ns.L(e,i,a);var l=Ga;if(l&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Qa(e);break;case"script":d=Ka(e)}zn.has(d)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Ge(i,"link",e),Ee(i),l.head.appendChild(i)))}}function _b(e,i){ns.m(e,i);var a=Ga;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(e)}if(!zn.has(d)&&(e=b({rel:"modulepreload",href:e},i),zn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Ge(l,"link",e),Ee(l),a.head.appendChild(l)}}}function vb(e,i,a){ns.S(e,i,a);var l=Ga;if(l&&e){var h=pi(l).hoistableStyles,d=Qa(e);i=i||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Tl(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(d))&&Vd(e,a);var x=y=l.createElement("link");Ee(x),Ge(x,"link",e),x._p=new Promise(function(j,F){x.onload=j,x.onerror=F}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function Tb(e,i){ns.X(e,i);var a=Ga;if(a&&e){var l=pi(a).hoistableScripts,h=Ka(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=b({src:e,async:!0},i),(i=zn.get(h))&&kd(e,i),d=a.createElement("script"),Ee(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Eb(e,i){ns.M(e,i);var a=Ga;if(a&&e){var l=pi(a).hoistableScripts,h=Ka(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=b({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&kd(e,i),d=a.createElement("script"),Ee(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function K_(e,i,a,l){var h=(h=bt.current)?Sc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qa(a.href);var d=pi(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Tl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||Ab(h,e,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qa(e){return'href="'+on(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Y_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Ee(i),e.head.appendChild(i))}function Ka(e){return'[src="'+on(e)+'"]'}function El(e){return"script[async]"+e}function X_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Ge(l,"style",h),wc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Qa(a.href);var d=e.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=Y_(a),(h=zn.get(h))&&Vd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var y=d;return y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),Ge(d,"link",l),i.state.loading|=4,wc(d,a.precedence,e),i.instance=d;case"script":return d=Ka(a.src),(h=e.querySelector(El(d)))?(i.instance=h,Ee(h),h):(l=a,(h=zn.get(d))&&(l=b({},a),kd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,e));return i.instance}function wc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function $_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var T=l.get(y);T?T.push(d):l.set(y,[d])}}return l}function Z_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function bb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Tl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=Y_(l),(h=zn.get(h))&&Vd(l,h),d=d.createElement("link"),Ee(d);var y=d;y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ud=0;function wb(e,i){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Ud===0&&(Ud=62500*rb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ud?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(Rb,e),Cc=null,Ic.call(e))}function Rb(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var l=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Al={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Ib(e,i,a,l,h,d,y,T,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function W_(e,i,a,l,h,d,y,T,x,j,F,Y){return e=new Ib(e,i,a,y,x,j,F,Y,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=pf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},vf(d),e}function t0(e){return e?(e=Sa,e):Sa}function e0(e,i,a,l,h,d){h=t0(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cs(e,l,i),a!==null&&(dn(a,e,i),tl(a,e,i))}function n0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ld(e,i){n0(e,i),(e=e.alternate)&&n0(e,i)}function i0(e){if(e.tag===13||e.tag===31){var i=Cr(e,67108864);i!==null&&dn(i,e,67108864),Ld(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var i=Sn();i=gr(i);var a=Cr(e,i);a!==null&&dn(a,e,i),Ld(e,i)}}var Nc=!0;function Cb(e,i,a,l){var h=G.T;G.T=null;var d=et.p;try{et.p=2,Pd(e,i,a,l)}finally{et.p=d,G.T=h}}function xb(e,i,a,l){var h=G.T;G.T=null;var d=et.p;try{et.p=8,Pd(e,i,a,l)}finally{et.p=d,G.T=h}}function Pd(e,i,a,l){if(Nc){var h=zd(l);if(h===null)Sd(e,i,l,Dc,a),a0(e,l);else if(Db(h,e,i,a,l))l.stopPropagation();else if(a0(e,l),i&4&&-1<Nb.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ui(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var x=1<<31-de(y);T.entanglements[1]|=x,y&=~x}Ci(d),(Bt&6)===0&&(dc=tn()+500,gl(0))}}break;case 31:case 13:T=Cr(d,2),T!==null&&dn(T,d,2),pc(),Ld(d,2)}if(d=zd(l),d===null&&Sd(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(e,i,l,null,a)}}function zd(e){return e=xn(e),jd(e)}var Dc=null;function jd(e){if(Dc=null,e=mi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case wo:return 2;case Ro:return 8;case fs:case Gh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Bd=!1,zs=null,js=null,Bs=null,bl=new Map,Sl=new Map,qs=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(e,i){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&i0(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Db(e,i,a,l,h){switch(i){case"focusin":return zs=wl(zs,e,i,a,l,h),!0;case"dragenter":return js=wl(js,e,i,a,l,h),!0;case"mouseover":return Bs=wl(Bs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,wl(bl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,wl(Sl.get(d)||null,e,i,a,l,h)),!0}return!1}function o0(e){var i=mi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){s0(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){s0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return i=Cn(a),i!==null&&i0(i),e.blockedOn=a,!1;i.shift()}return!0}function l0(e,i,a){Oc(e)&&a.delete(i)}function Ob(){Bd=!1,zs!==null&&Oc(zs)&&(zs=null),js!==null&&Oc(js)&&(js=null),Bs!==null&&Oc(Bs)&&(Bs=null),bl.forEach(l0),Sl.forEach(l0)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ob)))}var Vc=null;function u0(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(e){function i(x){return Mc(x,e)}zs!==null&&Mc(zs,e),js!==null&&Mc(js,e),Bs!==null&&Mc(Bs,e),bl.forEach(i),Sl.forEach(i);for(var a=0;a<qs.length;a++){var l=qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)o0(a),a.blockedOn===null&&qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Ue]||null;if(typeof d=="function")y||u0(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ue]||null)T=y.formAction;else if(jd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),u0(a)}}}function c0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}kc.prototype.render=qd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();e0(a,l,e,i,null,null)},kc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e0(e.current,2,null,e,null,null),pc(),i[fi]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=pu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qs.length&&i!==0&&i<qs[a].priority;a++);qs.splice(a,0,e),a===0&&o0(e)}};var h0=t.version;if(h0!=="19.2.0")throw Error(r(527,h0,"19.2.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Mb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Hn=Uc.inject(Mb),je=Uc}catch{}}return Il.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=_y,d=vy,y=Ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=W_(e,1,!1,null,null,a,l,null,h,d,y,c0),e[fi]=i.current,bd(e),new qd(i)},Il.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=_y,y=vy,T=Ty,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=W_(e,1,!0,i,a??null,l,h,x,d,y,T,c0),i.context=t0(null),a=i.current,l=Sn(),l=gr(l),h=Is(l),h.callback=null,Cs(a,h,l),a=l,i.current.lanes=a,mr(i,a),Ci(i),e[fi]=i.current,bd(e),new kc(i)},Il.version="19.2.0",Il}var E0;function Hb(){if(E0)return Gd.exports;E0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=qb(),Gd.exports}var Fb=Hb();const Gb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),A0=s=>{const t=Qb(s);return t.charAt(0).toUpperCase()+t.slice(1)},hT=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Kb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Yb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xb=Ut.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...p},g)=>Ut.createElement("svg",{ref:g,...Yb,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:hT("lucide",o),...!u&&!Kb(p)&&{"aria-hidden":"true"},...p},[...f.map(([_,E])=>Ut.createElement(_,E)),...Array.isArray(u)?u:[u]]));const ue=(s,t)=>{const n=Ut.forwardRef(({className:r,...o},u)=>Ut.createElement(Xb,{ref:u,iconNode:t,className:hT(`lucide-${Gb(A0(s))}`,`lucide-${s}`,r),...o}));return n.displayName=A0(s),n};const $b=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fm=ue("activity",$b);const Zb=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],b0=ue("code",Zb);const Jb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wb=ue("download",Jb);const tS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xl=ue("file-text",tS);const eS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],nS=ue("flame",eS);const iS=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],sS=ue("grip-vertical",iS);const rS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],aS=ue("headphones",rS);const oS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lS=ue("maximize-2",oS);const uS=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],cS=ue("music",uS);const hS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],fS=ue("panels-top-left",hS);const dS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],fT=ue("pause",dS);const mS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dT=ue("play",mS);const pS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mT=ue("plus",pS);const gS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pT=ue("rotate-ccw",gS);const yS=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],_S=ue("sliders-vertical",yS);const vS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TS=ue("square-check-big",vS);const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],AS=ue("target",ES);const bS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bm=ue("trash-2",bS);const SS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wS=ue("trophy",SS);const RS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],IS=ue("upload",RS);const CS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xS=ue("user",CS);const NS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],S0=ue("volume-2",NS);const DS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],OS=ue("volume-x",DS),MS=()=>{};var w0={};const gT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},VS=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let I=(p&15)<<2|_>>6,k=_&63;g||(k=64,f||(I=64)),r.push(n[E],n[b],n[I],n[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(gT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):VS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const _=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||_==null||b==null)throw new kS;const I=u<<2|p>>4;if(r.push(I),_!==64){const k=p<<4&240|_>>2;if(r.push(k),b!==64){const Q=_<<6&192|b;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(s){const t=gT(s);return yT.encodeByteArray(t,!0)},Wc=function(s){return US(s).replace(/\./g,"")},_T=function(s){try{return yT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>LS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof w0>"u")return;const s=w0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&_T(s[1]);return t&&JSON.parse(t)},vh=()=>{try{return MS()||PS()||zS()||jS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vT=s=>vh()?.emulatorHosts?.[s],BS=s=>{const t=vT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},TT=()=>vh()?.config,ET=s=>vh()?.[`_${s}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AT(s){return(await fetch(s,{credentials:"include"})).ok}function HS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}const Vl={};function FS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function GS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let R0=!1;function bT(s,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Vl[s]===t||Vl[s]||R0)return;Vl[s]=t;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=FS().prod.length>0;function f(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{R0=!0,f()},I}function E(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=GS(r),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),lt=n("preprendIcon"),pt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ft=I.element;p(ft),E(W,J);const qt=_();g(pt,lt),ft.append(pt,Q,W,qt),document.body.appendChild(ft)}u?(Q.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function KS(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function JS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const WS="FirebaseError";class ai extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=WS,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?tw(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ai(o,p,r)}}function tw(s,t){return s.replace(ew,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const ew=/\{\$([^}]+)}/g;function nw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function er(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(I0(u)&&I0(f)){if(!er(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function I0(s){return s!==null&&typeof s=="object"}function Zl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function iw(s,t){const n=new sw(s,t);return n.subscribe.bind(n)}class sw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rw(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xd(){}const aw=1e3,ow=2,lw=14400*1e3,uw=.5;function C0(s,t=aw,n=ow){const r=t*Math.pow(n,s),o=Math.round(uw*r*(Math.random()-.5)*2);return Math.min(lw,r+o)}function De(s){return s&&s._delegate?s._delegate:s}class si{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Br="[DEFAULT]";class cw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new qS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fw(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hw(s){return s===Br?void 0:s}function fw(s){return s.instantiationMode==="EAGER"}class dw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const mw={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},pw=xt.INFO,gw={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},yw=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=gw[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Th{constructor(t){this.name=t,this._logLevel=pw,this._logHandler=yw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const _w=(s,t)=>t.some(n=>s instanceof n);let x0,N0;function vw(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,dm=new WeakMap,CT=new WeakMap,$d=new WeakMap,qm=new WeakMap;function Ew(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Xs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&IT.set(n,s)}).catch(()=>{}),qm.set(t,s),t}function Aw(s){if(dm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dm.set(s,t)}let mm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return dm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||CT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function bw(s){mm=s(mm)}function Sw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Zd(this),t,...n);return CT.set(r,t.sort?t.sort():[t]),Xs(r)}:Tw().includes(s)?function(...t){return s.apply(Zd(this),t),Xs(IT.get(this))}:function(...t){return Xs(s.apply(Zd(this),t))}}function ww(s){return typeof s=="function"?Sw(s):(s instanceof IDBTransaction&&Aw(s),_w(s,vw())?new Proxy(s,mm):s)}function Xs(s){if(s instanceof IDBRequest)return Ew(s);if($d.has(s))return $d.get(s);const t=ww(s);return t!==s&&($d.set(s,t),qm.set(t,s)),t}const Zd=s=>qm.get(s);function xT(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),p=Xs(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Xs(f.result),g.oldVersion,g.newVersion,Xs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Rw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Jd=new Map;function D0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Jd.get(t))return Jd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Iw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Rw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return Jd.set(t,u),u}bw(s=>({...s,get:(t,n,r)=>D0(t,n)||s.get(t,n,r),has:(t,n)=>!!D0(t,n)||s.has(t,n)}));class Cw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xw(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",O0="0.14.6";const os=new Th("@firebase/app"),Nw="@firebase/app-compat",Dw="@firebase/analytics-compat",Ow="@firebase/analytics",Mw="@firebase/app-check-compat",Vw="@firebase/app-check",kw="@firebase/auth",Uw="@firebase/auth-compat",Lw="@firebase/database",Pw="@firebase/data-connect",zw="@firebase/database-compat",jw="@firebase/functions",Bw="@firebase/functions-compat",qw="@firebase/installations",Hw="@firebase/installations-compat",Fw="@firebase/messaging",Gw="@firebase/messaging-compat",Qw="@firebase/performance",Kw="@firebase/performance-compat",Yw="@firebase/remote-config",Xw="@firebase/remote-config-compat",$w="@firebase/storage",Zw="@firebase/storage-compat",Jw="@firebase/firestore",Ww="@firebase/ai",t2="@firebase/firestore-compat",e2="firebase",n2="12.6.0";const gm="[DEFAULT]",i2={[pm]:"fire-core",[Nw]:"fire-core-compat",[Ow]:"fire-analytics",[Dw]:"fire-analytics-compat",[Vw]:"fire-app-check",[Mw]:"fire-app-check-compat",[kw]:"fire-auth",[Uw]:"fire-auth-compat",[Lw]:"fire-rtdb",[Pw]:"fire-data-connect",[zw]:"fire-rtdb-compat",[jw]:"fire-fn",[Bw]:"fire-fn-compat",[qw]:"fire-iid",[Hw]:"fire-iid-compat",[Fw]:"fire-fcm",[Gw]:"fire-fcm-compat",[Qw]:"fire-perf",[Kw]:"fire-perf-compat",[Yw]:"fire-rc",[Xw]:"fire-rc-compat",[$w]:"fire-gcs",[Zw]:"fire-gcs-compat",[Jw]:"fire-fst",[t2]:"fire-fst-compat",[Ww]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};const th=new Map,s2=new Map,ym=new Map;function M0(s,t){try{s.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ki(s){const t=s.name;if(ym.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,s);for(const n of th.values())M0(n,s);for(const n of s2.values())M0(n,s);return!0}function ea(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function jn(s){return s==null?!1:s.settings!==void 0}const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new ta("app","Firebase",r2);class a2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const po=n2;function NT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:gm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw $s.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw $s.create("no-options");const u=th.get(o);if(u){if(er(n,u.options)&&er(r,u.config))return u;throw $s.create("duplicate-app",{appName:o})}const f=new dw(o);for(const g of ym.values())f.addComponent(g);const p=new a2(n,r,f);return th.set(o,p),p}function Hm(s=gm){const t=th.get(s);if(!t&&s===gm&&TT())return NT();if(!t)throw $s.create("no-app",{appName:s});return t}function qn(s,t,n){let r=i2[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}ki(new si(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const o2="firebase-heartbeat-database",l2=1,jl="firebase-heartbeat-store";let Wd=null;function DT(){return Wd||(Wd=xT(o2,l2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw $s.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function u2(s){try{const n=(await DT()).transaction(jl),r=await n.objectStore(jl).get(OT(s));return await n.done,r}catch(t){if(t instanceof ai)os.warn(t.message);else{const n=$s.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function V0(s,t){try{const r=(await DT()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,OT(s)),await r.done}catch(n){if(n instanceof ai)os.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function OT(s){return`${s.name}!${s.options.appId}`}const c2=1024,h2=30;class f2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>h2){const o=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k0(),{heartbeatsToSend:n,unsentEntries:r}=d2(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function k0(){return new Date().toISOString().substring(0,10)}function d2(s,t=c2){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),U0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U0(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function p2(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function g2(s){ki(new si("platform-logger",t=>new Cw(t),"PRIVATE")),ki(new si("heartbeat",t=>new f2(t),"PRIVATE")),qn(pm,O0,s),qn(pm,O0,"esm2020"),qn("fire-js","")}g2("");const MT="@firebase/installations",Fm="0.6.19";const VT=1e4,kT=`w:${Fm}`,UT="FIS_v2",y2="https://firebaseinstallations.googleapis.com/v1",_2=3600*1e3,v2="installations",T2="Installations";const E2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kr=new ta(v2,T2,E2);function LT(s){return s instanceof ai&&s.code.includes("request-failed")}function PT({projectId:s}){return`${y2}/projects/${s}/installations`}function zT(s){return{token:s.token,requestStatus:2,expiresIn:b2(s.expiresIn),creationTime:Date.now()}}async function jT(s,t){const r=(await t.json()).error;return Kr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function A2(s,{refreshToken:t}){const n=BT(s);return n.append("Authorization",S2(t)),n}async function qT(s){const t=await s();return t.status>=500&&t.status<600?s():t}function b2(s){return Number(s.replace("s","000"))}function S2(s){return`${UT} ${s}`}async function w2({appConfig:s,heartbeatServiceProvider:t},{fid:n}){const r=PT(s),o=BT(s),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={fid:n,authVersion:UT,appId:s.appId,sdkVersion:kT},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await qT(()=>fetch(r,p));if(g.ok){const _=await g.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:zT(_.authToken)}}else throw await jT("Create Installation",g)}function HT(s){return new Promise(t=>{setTimeout(t,s)})}function R2(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const I2=/^[cdef][\w-]{21}$/,_m="";function C2(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=x2(s);return I2.test(n)?n:_m}catch{return _m}}function x2(s){return R2(s).substr(0,22)}function Eh(s){return`${s.appName}!${s.appId}`}const FT=new Map;function GT(s,t){const n=Eh(s);QT(n,t),N2(n,t)}function QT(s,t){const n=FT.get(s);if(n)for(const r of n)r(t)}function N2(s,t){const n=D2();n&&n.postMessage({key:s,fid:t}),O2()}let qr=null;function D2(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=s=>{QT(s.data.key,s.data.fid)}),qr}function O2(){FT.size===0&&qr&&(qr.close(),qr=null)}const M2="firebase-installations-database",V2=1,Yr="firebase-installations-store";let tm=null;function Gm(){return tm||(tm=xT(M2,V2,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Yr)}}})),tm}async function eh(s,t){const n=Eh(s),o=(await Gm()).transaction(Yr,"readwrite"),u=o.objectStore(Yr),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&GT(s,t.fid),t}async function KT(s){const t=Eh(s),r=(await Gm()).transaction(Yr,"readwrite");await r.objectStore(Yr).delete(t),await r.done}async function Ah(s,t){const n=Eh(s),o=(await Gm()).transaction(Yr,"readwrite"),u=o.objectStore(Yr),f=await u.get(n),p=t(f);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!f||f.fid!==p.fid)&&GT(s,p.fid),p}async function Qm(s){let t;const n=await Ah(s.appConfig,r=>{const o=k2(r),u=U2(s,o);return t=u.registrationPromise,u.installationEntry});return n.fid===_m?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function k2(s){const t=s||{fid:C2(),registrationStatus:0};return YT(t)}function U2(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Kr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=L2(s,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:P2(s)}:{installationEntry:t}}async function L2(s,t){try{const n=await w2(s,t);return eh(s.appConfig,n)}catch(n){throw LT(n)&&n.customData.serverCode===409?await KT(s.appConfig):await eh(s.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function P2(s){let t=await L0(s.appConfig);for(;t.registrationStatus===1;)await HT(100),t=await L0(s.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qm(s);return r||n}return t}function L0(s){return Ah(s,t=>{if(!t)throw Kr.create("installation-not-found");return YT(t)})}function YT(s){return z2(s)?{fid:s.fid,registrationStatus:0}:s}function z2(s){return s.registrationStatus===1&&s.registrationTime+VT<Date.now()}async function j2({appConfig:s,heartbeatServiceProvider:t},n){const r=B2(s,n),o=A2(s,n),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={installation:{sdkVersion:kT,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await qT(()=>fetch(r,p));if(g.ok){const _=await g.json();return zT(_)}else throw await jT("Generate Auth Token",g)}function B2(s,{fid:t}){return`${PT(s)}/${t}/authTokens:generate`}async function Km(s,t=!1){let n;const r=await Ah(s.appConfig,u=>{if(!XT(u))throw Kr.create("not-registered");const f=u.authToken;if(!t&&F2(f))return u;if(f.requestStatus===1)return n=q2(s,t),u;{if(!navigator.onLine)throw Kr.create("app-offline");const p=Q2(u);return n=H2(s,p),p}});return n?await n:r.authToken}async function q2(s,t){let n=await P0(s.appConfig);for(;n.authToken.requestStatus===1;)await HT(100),n=await P0(s.appConfig);const r=n.authToken;return r.requestStatus===0?Km(s,t):r}function P0(s){return Ah(s,t=>{if(!XT(t))throw Kr.create("not-registered");const n=t.authToken;return K2(n)?{...t,authToken:{requestStatus:0}}:t})}async function H2(s,t){try{const n=await j2(s,t),r={...t,authToken:n};return await eh(s.appConfig,r),n}catch(n){if(LT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KT(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await eh(s.appConfig,r)}throw n}}function XT(s){return s!==void 0&&s.registrationStatus===2}function F2(s){return s.requestStatus===2&&!G2(s)}function G2(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+_2}function Q2(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function K2(s){return s.requestStatus===1&&s.requestTime+VT<Date.now()}async function Y2(s){const t=s,{installationEntry:n,registrationPromise:r}=await Qm(t);return r?r.catch(console.error):Km(t).catch(console.error),n.fid}async function X2(s,t=!1){const n=s;return await $2(n),(await Km(n,t)).token}async function $2(s){const{registrationPromise:t}=await Qm(s);t&&await t}function Z2(s){if(!s||!s.options)throw em("App Configuration");if(!s.name)throw em("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!s.options[n])throw em(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function em(s){return Kr.create("missing-app-config-values",{valueName:s})}const $T="installations",J2="installations-internal",W2=s=>{const t=s.getProvider("app").getImmediate(),n=Z2(t),r=ea(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},tR=s=>{const t=s.getProvider("app").getImmediate(),n=ea(t,$T).getImmediate();return{getId:()=>Y2(n),getToken:o=>X2(n,o)}};function eR(){ki(new si($T,W2,"PUBLIC")),ki(new si(J2,tR,"PRIVATE"))}eR();qn(MT,Fm);qn(MT,Fm,"esm2020");const nh="analytics",nR="firebase_id",iR="origin",sR=60*1e3,rR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ym="https://www.googletagmanager.com/gtag/js";const an=new Th("@firebase/analytics");const aR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ta("analytics","Analytics",aR);function oR(s){if(!s.startsWith(Ym)){const t=Rn.create("invalid-gtag-resource",{gtagURL:s});return an.warn(t.message),""}return s}function ZT(s){return Promise.all(s.map(t=>t.catch(n=>n)))}function lR(s,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,t)),n}function uR(s,t){const n=lR("firebase-js-sdk-policy",{createScriptURL:oR}),r=document.createElement("script"),o=`${Ym}?l=${s}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function cR(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function hR(s,t,n,r,o,u){const f=r[o];try{if(f)await t[f];else{const g=(await ZT(n)).find(_=>_.measurementId===o);g&&await t[g.appId]}}catch(p){an.error(p)}s("config",o,u)}async function fR(s,t,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await ZT(n);for(const g of f){const _=p.find(b=>b.measurementId===g),E=_&&t[_.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,o||{})}catch(u){an.error(u)}}function dR(s,t,n,r){async function o(u,...f){try{if(u==="event"){const[p,g]=f;await fR(s,t,n,p,g)}else if(u==="config"){const[p,g]=f;await hR(s,t,n,r,p,g)}else if(u==="consent"){const[p,g]=f;s("consent",p,g)}else if(u==="get"){const[p,g,_]=f;s("get",p,g,_)}else if(u==="set"){const[p]=f;s("set",p)}else s(u,...f)}catch(p){an.error(p)}}return o}function mR(s,t,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=dR(u,s,t,n),{gtagCore:u,wrappedGtag:window[o]}}function pR(s){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ym)&&n.src.includes(s))return n;return null}const gR=30,yR=1e3;class _R{constructor(t={},n=yR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const JT=new _R;function vR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function TR(s){const{appId:t,apiKey:n}=s,r={method:"GET",headers:vR(n)},o=rR.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();p.error?.message&&(f=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function ER(s,t=JT,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Rn.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new SR;return setTimeout(async()=>{p.abort()},sR),WT({appId:r,apiKey:o,measurementId:u},f,p,t)}async function WT(s,{throttleEndTimeMillis:t,backoffCount:n},r,o=JT){const{appId:u,measurementId:f}=s;try{await AR(r,t)}catch(p){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{const p=await TR(s);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!bR(g)){if(o.deleteThrottleMetadata(u),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw p}const _=Number(g?.customData?.httpStatus)===503?C0(n,o.intervalMillis,gR):C0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(u,E),an.debug(`Calling attemptFetch again in ${_} millis`),WT(s,E,r,o)}}function AR(s,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bR(s){if(!(s instanceof ai)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class SR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function wR(s,t,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await t,f={...r,send_to:u};s("event",n,f)}}async function RR(s,t,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await t;s("config",o,{update:!0,user_properties:n})}}async function IR(){if(wT())try{await RT()}catch(s){return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function CR(s,t,n,r,o,u,f){const p=ER(s);p.then(I=>{n[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>an.error(I)),t.push(p);const g=IR().then(I=>{if(I)return r.getId()}),[_,E]=await Promise.all([p,g]);pR(u)||uR(u,_.measurementId),o("js",new Date);const b=f?.config??{};return b[iR]="firebase",b.update=!0,E!=null&&(b[nR]=E),o("config",_.measurementId,b),_.measurementId}class xR{constructor(t){this.app=t}_delete(){return delete Wa[this.app.options.appId],Promise.resolve()}}let Wa={},z0=[];const j0={};let nm="dataLayer",NR="gtag",B0,Xm,q0=!1;function DR(){const s=[];if(ST()&&s.push("This is a browser extension environment."),JS()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:t});an.warn(n.message)}}function OR(s,t,n){DR();const r=s.options.appId;if(!r)throw Rn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Wa[r]!=null)throw Rn.create("already-exists",{id:r});if(!q0){cR(nm);const{wrappedGtag:u,gtagCore:f}=mR(Wa,z0,j0,nm,NR);Xm=u,B0=f,q0=!0}return Wa[r]=CR(s,z0,j0,t,B0,nm,n),new xR(s)}function MR(s=Hm()){s=De(s);const t=ea(s,nh);return t.isInitialized()?t.getImmediate():VR(s)}function VR(s,t={}){const n=ea(s,nh);if(n.isInitialized()){const o=n.getImmediate();if(er(t,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:t})}function kR(s,t,n){s=De(s),RR(Xm,Wa[s.app.options.appId],t,n).catch(r=>an.error(r))}function UR(s,t,n,r){s=De(s),wR(Xm,Wa[s.app.options.appId],t,n,r).catch(o=>an.error(o))}const H0="@firebase/analytics",F0="0.10.19";function LR(){ki(new si(nh,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return OR(r,o,n)},"PUBLIC")),ki(new si("analytics-internal",s,"PRIVATE")),qn(H0,F0),qn(H0,F0,"esm2020");function s(t){try{const n=t.getProvider(nh).getImmediate();return{logEvent:(r,o,u)=>UR(n,r,o,u),setUserProperties:(r,o)=>kR(n,r,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}LR();var PR="firebase",zR="12.6.0";qn(PR,zR,"app");function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=tE,eE=new ta("auth","Firebase",tE());const ih=new Th("@firebase/auth");function BR(s,...t){ih.logLevel<=xt.WARN&&ih.warn(`Auth (${po}): ${s}`,...t)}function Hc(s,...t){ih.logLevel<=xt.ERROR&&ih.error(`Auth (${po}): ${s}`,...t)}function Ui(s,...t){throw Zm(s,...t)}function ni(s,...t){return Zm(s,...t)}function $m(s,t,n){const r={...jR(),[t]:n};return new ta("auth","Firebase",r).create(t,{appName:s.name})}function Zs(s){return $m(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qR(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ui(s,"argument-error"),$m(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return eE.create(s,...t)}function gt(s,t,...n){if(!s)throw Zm(t,...n)}function ss(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Hc(t),new Error(t)}function ls(s,t){s||ss(t)}function vm(){return typeof self<"u"&&self.location?.href||""}function HR(){return G0()==="http:"||G0()==="https:"}function G0(){return typeof self<"u"&&self.location?.protocol||null}function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||ST()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ls(n>t,"Short delay should be less than long delay!"),this.isMobile=QS()||XS()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jm(s,t){ls(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Jl(3e4,6e4);function bh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function go(s,t,n,r,o={}){return iE(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const p=Zl({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...u};return YS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(_.credentials="include"),nE.fetch()(await rE(s,s.config.apiHost,n,p),_)})}async function iE(s,t,n){s._canInitEmulator=!1;const r={...QR,...t};try{const o=new XR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Lc(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $m(s,E,_);Ui(s,E)}}catch(o){if(o instanceof ai)throw o;Ui(s,"network-request-failed",{message:String(o)})}}async function sE(s,t,n,r,o={}){const u=await go(s,t,n,r,o);return"mfaPendingCredential"in u&&Ui(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function rE(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Jm(s.config,o):`${s.config.apiScheme}://${o}`;return KR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),YR.get())})}}function Lc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ni(s,t,r);return o.customData._tokenResponse=n,o}async function $R(s,t){return go(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return go(s,"POST","/v1/accounts:lookup",t)}function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZR(s,t=!1){const n=De(s),r=await n.getIdToken(t),o=Wm(r);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:kl(im(o.auth_time)),issuedAtTime:kl(im(o.iat)),expirationTime:kl(im(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function im(s){return Number(s)*1e3}function Wm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Q0(s){const t=Wm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ai&&JR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function JR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class WR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,n=await s.getIdToken(),r=await Bl(s,sh(t,{idToken:n}));gt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?aE(o.providerUserInfo):[],f=eI(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,_=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function tI(s){const t=De(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eI(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function aE(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nI(s,t){const n=await iE(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await rE(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(g.credentials="include"),nE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(s,t){return go(s,"POST","/v2/accounts:revokeToken",bh(s,t))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Q0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await nI(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new to;return r&&(gt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Fs(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZR(this,t)}reload(){return tI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await Bl(this,$R(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:I,isAnonymous:k,providerData:Q,stsTokenManager:J}=n;gt(b&&J,t,"internal-error");const W=to.fromJSON(this.name,J);gt(typeof b=="string",t,"internal-error"),Fs(r,t.name),Fs(o,t.name),gt(typeof I=="boolean",t,"internal-error"),gt(typeof k=="boolean",t,"internal-error"),Fs(u,t.name),Fs(f,t.name),Fs(p,t.name),Fs(g,t.name),Fs(_,t.name),Fs(E,t.name);const lt=new ei({uid:b,auth:t,email:o,emailVerified:I,displayName:r,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return Q&&Array.isArray(Q)&&(lt.providerData=Q.map(pt=>({...pt}))),g&&(lt._redirectEventId=g),lt}static async _fromIdTokenResponse(t,n,r=!1){const o=new to;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await rh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new to;p.updateFromIdToken(r);const g=new ei({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const K0=new Map;function rs(s){ls(s instanceof Function,"Expected a class definition");let t=K0.get(s);return t?(ls(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,K0.set(s,t),t)}class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}oE.type="NONE";const Y0=oE;function Fc(s,t,n){return`firebase:${s}:${t}:${n}`}class eo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eo(rs(Y0),t,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||rs(Y0);const f=Fc(r,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const E=await _._get(f);if(E){let b;if(typeof E=="string"){const I=await sh(t,{idToken:E}).catch(()=>{});if(!I)break;b=await ei._fromGetAccountInfoResponse(t,I,E)}else b=ei._fromJSON(t,E);_!==u&&(p=b),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,t,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new eo(u,t,r))}}function X0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dE(t))return"Blackberry";if(mE(t))return"Webos";if(uE(t))return"Safari";if((t.includes("chrome/")||cE(t))&&!t.includes("edge/"))return"Chrome";if(fE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function lE(s=We()){return/firefox\//i.test(s)}function uE(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cE(s=We()){return/crios\//i.test(s)}function hE(s=We()){return/iemobile/i.test(s)}function fE(s=We()){return/android/i.test(s)}function dE(s=We()){return/blackberry/i.test(s)}function mE(s=We()){return/webos/i.test(s)}function tp(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sI(s=We()){return tp(s)&&!!window.navigator?.standalone}function rI(){return $S()&&document.documentMode===10}function pE(s=We()){return tp(s)||fE(s)||mE(s)||dE(s)||/windows phone/i.test(s)||hE(s)}function gE(s,t=[]){let n;switch(s){case"Browser":n=X0(We());break;case"Worker":n=`${X0(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}class aI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function oI(s,t={}){return go(s,"GET","/v2/passwordPolicy",bh(s,t))}const lI=6;class uI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class cI{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),r=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(Zs(this));const n=t?De(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oI(this),n=new uI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ta("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&rs(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wl(s){return De(s)}class $0{constructor(t){this.auth=t,this.observer=null,this.addObserver=iw(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(s){ep=s}function fI(s){return ep.loadJS(s)}function dI(){return ep.gapiScript}function mI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function pI(s,t){const n=ea(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(er(u,t??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:t})}function gI(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function yI(s,t,n){const r=Wl(s);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=yE(t),{host:f,port:p}=_I(t),g=p===null?"":`:${p}`,_={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(er(_,r.config.emulator)&&er(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,mo(f)?(AT(`${u}//${f}${g}`),bT("Auth",!0)):vI()}function yE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function _I(s){const t=yE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Z0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Z0(f)}}}function Z0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function vI(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class _E{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,n){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function no(s,t){return sE(s,"POST","/v1/accounts:signInWithIdp",bh(s,t))}const TI="http://localhost";class Xr extends _E{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Xr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return no(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,no(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,no(t,n)}buildRequest(){const t={requestUri:TI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class np{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends np{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Gs extends tu{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class is extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xr._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return is.credential(n,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class Qs extends tu{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ks extends tu{constructor(){super("twitter.com")}static credential(t,n){return Xr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";class $r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ei._fromIdTokenResponse(t,r,o),f=J0(r);return new $r({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=J0(r);return new $r({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function J0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ah extends ai{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new ah(t,n,r,o)}}function vE(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,u,t,r):u})}async function EI(s,t,n=!1){const r=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return $r._forOperation(s,"link",r)}async function AI(s,t,n=!1){const{auth:r}=s;if(jn(r.app))return Promise.reject(Zs(r));const o="reauthenticate";try{const u=await Bl(s,vE(r,o,t,s),n);gt(u.idToken,r,"internal-error");const f=Wm(u.idToken);gt(f,r,"internal-error");const{sub:p}=f;return gt(s.uid===p,r,"user-mismatch"),$r._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),u}}async function bI(s,t,n=!1){if(jn(s.app))return Promise.reject(Zs(s));const r="signIn",o=await vE(s,r,t),u=await $r._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function SI(s,t){return sE(s,"POST","/v1/accounts:signInWithCustomToken",bh(s,t))}async function wI(s,t){if(jn(s.app))return Promise.reject(Zs(s));const n=Wl(s),r=await SI(n,{token:t,returnSecureToken:!0}),o=await $r._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(o.user),o}function RI(s,t,n,r){return De(s).onIdTokenChanged(t,n,r)}function II(s,t,n){return De(s).beforeAuthStateChanged(t,n)}function CI(s,t,n,r){return De(s).onAuthStateChanged(t,n,r)}const oh="__sak";class TE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xI=1e3,NI=10;class EE extends TE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);rI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,NI):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}EE.type="LOCAL";const DI=EE;class AE extends TE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}AE.type="SESSION";const bE=AE;function OI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Sh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),g=await OI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function ip(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const _=ip("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function VI(s){Ni().location.href=s}function SE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function kI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UI(){return navigator?.serviceWorker?.controller||null}function LI(){return SE()?self:null}const wE="firebaseLocalStorageDb",PI=1,lh="firebaseLocalStorage",RE="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(s,t){return s.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function zI(){const s=indexedDB.deleteDatabase(wE);return new eu(s).toPromise()}function Em(){const s=indexedDB.open(wE,PI);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:RE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?t(r):(r.close(),await zI(),t(await Em()))})})}async function W0(s,t,n){const r=wh(s,!0).put({[RE]:t,value:n});return new eu(r).toPromise()}async function jI(s,t){const n=wh(s,!1).get(t),r=await new eu(n).toPromise();return r===void 0?null:r.value}function tv(s,t){const n=wh(s,!0).delete(t);return new eu(n).toPromise()}const BI=800,qI=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>qI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(LI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await W0(t,oh,"1"),await tv(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>jI(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wh(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const HI=IE;new Jl(3e4,6e4);function CE(s,t){return t?rs(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sp extends _E{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,n){return no(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FI(s){return bI(s.auth,new sp(s),s.bypassAuthState)}function GI(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),AI(n,new sp(s),s.bypassAuthState)}async function QI(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),EI(n,new sp(s),s.bypassAuthState)}class xE{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:Ui(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KI=new Jl(2e3,1e4);async function YI(s,t,n){if(jn(s.app))return Promise.reject(ni(s,"operation-not-supported-in-this-environment"));const r=Wl(s);qR(s,t,np);const o=CE(r,n);return new Hr(r,"signInViaPopup",t,o).executeNotNull()}class Hr extends xE{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}Hr.currentPopupAction=null;const XI="pendingRedirect",Gc=new Map;class $I extends xE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const r=await ZI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(s,t){const n=tC(t),r=WI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function JI(s,t){Gc.set(s._key(),t)}function WI(s){return rs(s._redirectPersistence)}function tC(s){return Fc(XI,s.config.apiKey,s.name)}async function eC(s,t,n=!1){if(jn(s.app))return Promise.reject(Zs(s));const r=Wl(s),o=CE(r,t),f=await new $I(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const nC=600*1e3;class iC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!NE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function NE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function sC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(s);default:return!1}}async function rC(s,t={}){return go(s,"GET","/v1/projects",t)}const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await rC(s);for(const n of t)try{if(uC(n))return}catch{}Ui(s,"unauthorized-domain")}function uC(s){const t=vm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!oC.test(n))return!1;if(aC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const cC=new Jl(3e4,6e4);function nv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function hC(s){return new Promise((t,n)=>{function r(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),n(ni(s,"network-request-failed"))},timeout:cC.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const o=mI("iframefcb");return Ni()[o]=()=>{gapi.load?r():n(ni(s,"network-request-failed"))},fI(`${dI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function fC(s){return Qc=Qc||hC(s),Qc}const dC=new Jl(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Jm(t,pC):`https://${s.config.authDomain}/${mC}`,r={apiKey:t.apiKey,appName:s.name,v:po},o=yC.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Zl(r).slice(1)}`}async function vC(s){const t=await fC(s),n=Ni().gapi;return gt(n,s,"internal-error"),t.open({where:document.body,url:_C(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ni(s,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},dC.get());function g(){Ni().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(f)})}))}const TC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,AC=600,bC="_blank",SC="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(s,t,n,r=EC,o=AC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...TC,width:r.toString(),height:o.toString(),top:u,left:f},_=We().toLowerCase();n&&(p=cE(_)?bC:n),lE(_)&&(t=t||SC,g.scrollbars="yes");const E=Object.entries(g).reduce((I,[k,Q])=>`${I}${k}=${Q},`,"");if(sI(_)&&p!=="_self")return RC(t||"",p),new iv(null);const b=window.open(t||"",p,E);gt(b,s,"popup-blocked");try{b.focus()}catch{}return new iv(b)}function RC(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const IC="__/auth/handler",CC="emulator/auth/handler",xC=encodeURIComponent("fac");async function sv(s,t,n,r,o,u){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:po,eventId:o};if(t instanceof np){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",nw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof tu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),_=g?`#${xC}=${encodeURIComponent(g)}`:"";return`${NC(s)}?${Zl(p).slice(1)}${_}`}function NC({config:s}){return s.emulator?Jm(s,CC):`https://${s.authDomain}/${IC}`}const sm="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=eC,this._overrideRedirectResult=JI}async _openPopup(t,n,r,o){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await sv(t,n,r,vm(),o);return wC(t,u,ip())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await sv(t,n,r,vm(),o);return VI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ls(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await vC(t),r=new iC(t);return n.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sm,{type:sm},o=>{const u=o?.[0]?.[sm];u!==void 0&&n(!!u),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return pE()||uE()||tp()}}const OC=DC;var rv="@firebase/auth",av="1.11.1";class MC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(s){ki(new si("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gE(s)},_=new cI(r,o,u,g);return gI(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ki(new si("auth-internal",t=>{const n=Wl(t.getProvider("auth").getImmediate());return(r=>new MC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(rv,av,VC(s)),qn(rv,av,"esm2020")}const UC=300,LC=ET("authIdTokenMaxAge")||UC;let ov=null;const PC=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LC)return;const o=n?.token;ov!==o&&(ov=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zC(s=Hm()){const t=ea(s,"auth");if(t.isInitialized())return t.getImmediate();const n=pI(s,{popupRedirectResolver:OC,persistence:[HI,DI,bE]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=PC(u.toString());II(n,f,()=>f(n.currentUser)),RI(n,p=>f(p))}}const o=vT("auth");return o&&yI(n,`http://${o}`),n}function jC(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",jC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,DE;(function(){var s;function t(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,D,L){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return S.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let L=N.g[3],C;C=S+(L^R&(D^L))+V[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(D^S&(R^D))+V[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(R^L&(S^R))+V[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(S^D&(L^S))+V[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(L^R&(D^L))+V[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(D^S&(R^D))+V[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(R^L&(S^R))+V[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(S^D&(L^S))+V[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(L^R&(D^L))+V[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(D^S&(R^D))+V[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(R^L&(S^R))+V[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(S^D&(L^S))+V[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(L^R&(D^L))+V[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(D^S&(R^D))+V[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(R^L&(S^R))+V[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(S^D&(L^S))+V[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^L&(R^D))+V[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(S^R))+V[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(L^S))+V[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(D^L))+V[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(R^D))+V[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(S^R))+V[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(L^S))+V[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(D^L))+V[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(R^D))+V[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(S^R))+V[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(L^S))+V[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(D^L))+V[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(R^D))+V[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(S^R))+V[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(L^S))+V[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(D^L))+V[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^L)+V[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^D)+V[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^R)+V[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^S)+V[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^L)+V[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^D)+V[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^R)+V[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^S)+V[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^L)+V[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^D)+V[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^R)+V[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^S)+V[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^L)+V[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^D)+V[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^R)+V[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^S)+V[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~L))+V[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~D))+V[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~R))+V[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~S))+V[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~L))+V[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~D))+V[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~R))+V[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~S))+V[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~L))+V[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~D))+V[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~R))+V[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~S))+V[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~L))+V[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~D))+V[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~R))+V[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<S;){if(D==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<S;)if(V[D++]=N[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[S++]=this.g[R]>>>V&255;return N};function u(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function f(N,S){this.h=S;const R=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==S||(R[D]=L,V=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return W(_(-N));const S=[];let R=1;for(let V=0;N>=R;V++)S[V]=N/R|0,R*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=b;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(C))):(V=V.j(R),V=V.add(_(C)))}return V}var b=g(0),I=g(1),k=g(16777216);s=f.prototype,s.m=function(){if(J(this))return-W(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(J(this))return"-"+W(this).toString(N);const S=_(Math.pow(N,6));var R=this;let V="";for(;;){const D=qt(R,S).g;R=lt(R,D.j(S));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,Q(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}s.l=function(N){return N=lt(this,N),J(N)?-1:Q(N)?0:1};function W(N){const S=N.g.length,R=[];for(let V=0;V<S;V++)R[V]=~N.g[V];return new f(R,~N.h).add(I)}s.abs=function(){return J(this)?W(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let D=0;D<=S;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function lt(N,S){return N.add(W(S))}s.j=function(N){if(Q(this)||Q(N))return b;if(J(this))return J(N)?W(this).j(W(N)):W(W(this).j(N));if(J(N))return W(this.j(W(N)));if(this.l(k)<0&&N.l(k)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,C=this.i(V)&65535,te=N.i(D)>>>16,ce=N.i(D)&65535;R[2*V+2*D]+=C*ce,pt(R,2*V+2*D),R[2*V+2*D+1]+=L*ce,pt(R,2*V+2*D+1),R[2*V+2*D+1]+=C*te,pt(R,2*V+2*D+1),R[2*V+2*D+2]+=L*te,pt(R,2*V+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new f(R,0)};function pt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function qt(N,S){if(Q(S))throw Error("division by zero");if(Q(N))return new ft(b,b);if(J(N))return S=qt(W(N),S),new ft(W(S.g),W(S.h));if(J(S))return S=qt(N,W(S)),new ft(W(S.g),S.h);if(N.g.length>30){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=S;V.l(N)<=0;)R=Yt(R),V=Yt(V);var D=Ot(R,1),L=Ot(V,1);for(V=Ot(V,2),R=Ot(R,2);!Q(V);){var C=L.add(V);C.l(N)<=0&&(D=D.add(R),L=C),V=Ot(V,1),R=Ot(R,1)}return S=lt(N,D.j(S)),new ft(D,S)}for(D=b;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(R),C=L.j(S);J(C)||C.l(N)>0;)R-=V,L=_(R),C=L.j(S);Q(L)&&(L=I),D=D.add(L),N=lt(N,C)}return new ft(D,N)}s.B=function(N){return qt(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&N.i(V);return new f(R,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|N.i(V);return new f(R,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^N.i(V);return new f(R,this.h^N.h)};function Yt(N){const S=N.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(R,N.h)}function Ot(N,S){const R=S>>5;S%=32;const V=N.g.length-R,D=[];for(let L=0;L<V;L++)D[L]=S>0?N.i(L+R)>>>S|N.i(L+R+1)<<32-S:N.i(L+R);return new f(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Js=f}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OE,Nl,ME,Kc,Am,VE,kE,UE;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=g,_.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,q){for(var tt=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)tt[Et-2]=arguments[Et];return m.prototype[P].apply(A,tt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Q(c,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let tt=0;tt<q;tt++)c[v+tt]=P[tt]}else c.push(P)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function lt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new J(()=>new qt,c=>c.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,Ot=!1,N=new pt,S=()=>{const c=Promise.resolve(void 0);Yt=()=>{c.then(R)}};function R(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){W(v)}var m=ft;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function te(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(te,D),te.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(c,m,v,A,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ft(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,A,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const tt=bt(c,m,A,P);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,q,!!A,P),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,m,v,A){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Oe={};function re(c,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(c,m[q],v,A,P);return null}return v=So(v),c&&c[ce]?c.J(m,v,p(A)?!!A.capture:!1,P):cr(c,m,v,!1,A,P)}function cr(c,m,v,A,P,q){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let Et=hr(c);if(Et||(c[Vt]=Et=new rt(c)),v=Et.add(m,v,A,tt,q),v.proxy)return v;if(A=ra(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=tt),P===void 0&&(P=!1),c.addEventListener(m.toString(),A,P);else if(c.attachEvent)c.attachEvent(oi(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function c(v){return m.call(c.src,c.listener,v)}const m=Ao;return c}function aa(c,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)aa(c,m[q],v,A,P);else A=p(A)?!!A.capture:!!A,v=So(v),c&&c[ce]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=bt(m,v,A,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=hr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bt(m,v,A,P)),(v=c>-1?m[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ce])yt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(oi(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=hr(m))?(yt(v,c),v.h==0&&(v.src=null,m[Vt]=null)):ht(c)}}}function oi(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Ao(c,m){if(c.da)c=!0;else{m=new te(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&oa(c),c=v.call(A,m)}return c}function hr(c){return c=c[Vt],c instanceof rt?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(m){return c.handleEvent(m)}),c[bo])}function _e(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(_e,V),_e.prototype[ce]=!0,_e.prototype.removeEventListener=function(c,m,v,A){aa(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(A,c),nt(m,P)}P=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],P=hs(q,A,!0,m)&&P;if(q=m.g=c,P=hs(q,A,!0,m)&&P,P=hs(q,A,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],P=hs(q,A,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},_e.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function hs(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const Et=tt.listener,me=tt.ha||tt.src;tt.fa&&yt(c.i,tt),P=Et.call(me,A)!==!1&&P}}return P&&!A.defaultPrevented}function Fh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=Fh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){V.call(this),this.h=c,this.g={}}b(fr,V);var wo=[];function Ro(c){Lt(c.g,function(m,v){this.g.hasOwnProperty(v)&&oa(m)},c),c.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Ro(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,Gh=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}b(je,D);function In(){D.call(this,"c")}b(In,D);var de={},fu=null;function la(){return fu=fu||new _e}de.Ia="serverreachability";function du(c){D.call(this,de.Ia,c)}b(du,D);function li(c){const m=la();Me(m,new du(m))}de.STAT_EVENT="statevent";function dr(c,m){D.call(this,de.STAT_EVENT,c),this.stat=m}b(dr,D);function ve(c){const m=la();Me(m,new dr(m,c))}de.Ja="timingevent";function ui(c,m){D.call(this,de.Ja,c),this.size=m}b(ui,D);function ci(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Qh(c,m,v,A,P,q){c.info(function(){if(c.g)if(q){var tt="",Et=q.split("&");for(let jt=0;jt<Et.length;jt++){var me=Et[jt].split("=");if(me.length>1){const ae=me[0];me=me[1];const Dn=ae.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ae+"="+me+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function mu(c,m,v,A,P,q,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+tt})}function hi(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(c,v)+(A?" "+A:"")})}function mr(c,m){c.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Kh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return fs(q)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function gr(){}b(gr,cu),gr.prototype.g=function(){return new XMLHttpRequest},Co=new gr;function Pi(c){return encodeURIComponent(String(c))}function pu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Gn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Te={},Ue={};function fi(c,m,v){c.M=1,c.A=yr(Ae(m)),c.u=v,c.R=!0,ua(c,null)}function ua(c,m){c.F=Date.now(),di(c),c.B=Ae(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(wo[0]=P.toString()),P=wo);for(let q=0;q<P.length;q++){const tt=re(v,P[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),li(),Qh(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Xn(c)==3?m.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)t:{const Et=Xn(this.g),me=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||me==7||(me==8||jt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(c=q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,ve(12),gn(this),Cn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=yu(this,v),ae==Ue){Et==4&&(this.m=4,ve(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Te){this.m=4,ve(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ae,null),pi(this,ae);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(tt),tt.P=!0,ve(11))}}else hi(this.i,this.l,v,null),pi(this,v);Et==4&&gn(this),this.o&&!this.K&&(Et==4?Ru(this.j,this):(this.o=!1,di(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),gn(this),Cn(this)}}}catch{}finally{}};function Yh(c){if(!gu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),c.C=A+v,m)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function di(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(_(c.aa,c),m)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(li(),ve(17)),gn(this),this.m=2,Cn(this)):ca(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Ru(c.j,c)}function gn(c){mi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ro(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function pi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),Ts(v);else break t;Sr(v),ve(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&_a(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Dn=jt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Si=jt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const $n=jt[5];$n!=null&&typeof $n=="number"&&$n>0&&(A=1.5*$n,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const wr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var q=A.h;q.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Do(q,q.h),q.h=null))}if(A.G){const va=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Gt(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=xu(A,A.L?A.ba:null,A.W),tt.L){Oo(A.h,tt);var Et=tt,me=A.O;me&&(Et.H=me),Et.D&&(mi(Et),di(Et)),A.g=tt}else Su(A);v.i.length>0&&Ai(v)}else jt[0]!="stop"&&jt[0]!="close"||bi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?bi(v,7):Bo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}li(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Do(c,m){c.g?c.g.add(m):c.h=m}function Oo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}xo.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return k(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,q=null;A>=0?(P=c[v].substring(0,A),q=c[v].substring(A+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,Vo(this,Au(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Le(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ds(this,m[4]),this.h=_i(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_r(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_r(m,fa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_r(v,v.charAt(0)=="/"?ko:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_r(v,Tu)),c.join("")},yn.prototype.resolve=function(c){const m=Ae(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)ds(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let tt=0;tt<P.length;){const Et=P[tt++];Et=="."?A&&tt==P.length&&q.push(""):Et==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==P.length&&q.push("")):(q.push(Et),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=c.i.toString()!=="",v?Vo(m,Au(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ae(c){return new yn(c)}function Le(c,m,v){c.j=v?_i(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Vo(c,m,v){m instanceof ps?(c.i=m,ma(c.i,c.l)):(v||(m=_r(m,ms)),c.i=new ps(m,c.l))}function Gt(c,m,v){c.i.set(m,v)}function yr(c){return Gt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _r(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,vu=/[#\?:]/g,ko=/[#\?]/g,ms=/[#\?@]/g,Tu=/#/g;function ps(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(c,m){ln(this),this.i=null,c=gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Eu(c,m){ln(c),m=gs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Uo(c,m){return ln(c),m=gs(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(m,P,A,this)},this)},this)};function Lo(c,m){ln(c);let v=[];if(typeof m=="string")Uo(c,m)&&(v=v.concat(c.g.get(gs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=gs(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Lo(this,c),c.length>0?String(c[0]):m):m};function da(c,m,v){Eu(c,m),v.length>0&&(c.i=null,c.g.set(gs(c,m),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Pi(v);v=Lo(this,v);for(let q=0;q<v.length;q++){let tt=P;v[q]!==""&&(tt+="="+Pi(v[q])),c.push(tt)}}return this.i=c.join("&")};function Au(c){const m=new ps;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function gs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ma(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Eu(this,A),da(this,P,v))},c)),c.j=m}function Kn(c,m){const v=new Fn;if(f.Image){const A=new Image;A.onload=E(xn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(xn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(xn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Po(c,m){const v=new Fn,A=new AbortController,P=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(c,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function ys(){this.g=new uu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(vi,cu),vi.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(vr,_e),s=vr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Yn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_s(this):Yn(this),this.readyState==3&&pa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,_s(this))},s.Na=function(c){this.g&&(this.response=c,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return Lt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Tr(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&Pi(v):Gt(c,m,v))}function Xt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,_e);var Ti=/^https?$/i,zo=["POST","PUT"];s=Xt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Er(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Er(this,q)}};function Er(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,jo(c),zi(c)}function jo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let tt=String(c.D).match(_u)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),A=!Ti.test(tt?tt.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",jo(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Gh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=pu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ft(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function vs(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){ve(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),Ai(this)};function Bo(c){if(ga(c),c.I==3){var m=c.V++,v=Ae(c.J);if(Gt(v,"SID",c.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),br(c,v),m=new Gn(c,c.j,m),m.M=2,m.A=yr(Ae(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Cu(c)}function Ts(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function ga(c){Ts(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ai(c){if(!No(c.h)&&!c.m){c.m=!0;var m=c.Ea;Yt||S(),Ot||(Yt(),Ot=!0),N.add(m,c),c.D=0}}function ya(c,m){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(_(c.Ea,c,m),Iu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=bu(this,P,m),v=Ae(this.J),Gt(v,"RID",c),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+Pi(Nn(q))+"&"+m:this.u&&Tr(v,this.u,q)),Do(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),P.U=!0,fi(P,v,null)):fi(P,v,m),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||No(this.h)||qo(this))};function qo(c,m){var v;m?v=m.l:v=c.V++;const A=Ae(c.J);Gt(A,"SID",c.M),Gt(A,"RID",v),Gt(A,"AID",c.K),br(c,A),c.u&&c.o&&Tr(A,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,v),fi(v,A,m)}function br(c,m){c.H&&Lt(c.H,function(v,A){Gt(m,A,v)}),c.l&&Lt({},function(v,A){Gt(m,A,v)})}function bu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?_(c.l.Ka,c.l,c):null;t:{var P=c.i;let Et=-1;for(;;){const me=["count="+v];Et==-1?v>0?(Et=P[0].g,me.push("ofs="+Et)):Et=0:me.push("ofs="+Et);let jt=!0;for(let ae=0;ae<v;ae++){var q=P[ae].g;const Dn=P[ae].map;if(q-=Et,q<0)Et=Math.max(0,P[ae].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Si,$n]of tt){let Zn=$n;p($n)&&(Zn=fs($n)),me.push(q+Si+"="+encodeURIComponent(Zn))}}catch(Si){throw me.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Dn)}}if(jt){tt=me.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function Su(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Yt||S(),Ot||(Yt(),Ot=!0),N.add(m,c),c.A=0}}function Sr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(_(c.Da,c),Iu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ts(this),wu(this))};function Ho(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ae(c.na);Gt(m,"RID","rpc"),Gt(m,"SID",c.M),Gt(m,"AID",c.K),Gt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Gt(m,"TO",c.ia),Gt(m,"TYPE","xmlhttp"),br(c,m),c.u&&c.o&&Tr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=yr(Ae(m)),v.u=null,v.R=!0,ua(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),Sr(this),ve(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){_a(c),Ho(c),c.g=null;var A=2}else if(yi(c.h,m))v=m.G,Oo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;A=la(),Me(A,new ui(A,v)),Ai(c)}else Su(c);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&ya(c,m)||A==2&&Sr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Iu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function bi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),A=c.Ua;const P=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),yr(A),P?Kn(A.toString(),v):Po(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(m),Cu(c),ga(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const m=Mo(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ja,m),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function xu(c,m,v){var A=v instanceof yn?Ae(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ds(A,A.u);else{var P=f.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);A&&Le(q,A),m&&(q.g=m),P&&ds(q,P),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Gt(A,v,m),Gt(A,"VER",c.ka),br(c,A),A}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new vi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Es(){}Es.prototype.g=function(c,m){return new en(c,m)};function en(c,m){_e.call(this),this.g=new vs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}b(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Bo(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fs(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&Ai(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,en.Z.N.call(this)};function Ou(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Ou,je);function Mu(){In.call(this),this.status=1}b(Mu,In);function Bi(c){this.g=c}b(Bi,Du),Bi.prototype.ra=function(){Me(this.g,"a")},Bi.prototype.qa=function(c){Me(this.g,new Ou(c))},Bi.prototype.pa=function(c){Me(this.g,new Mu)},Bi.prototype.oa=function(){Me(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,UE=function(){return new Es},kE=function(){return la()},VE=de,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Kc=pr,Io.COMPLETE="complete",ME=Io,hu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Nl=hu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,OE=Xt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let yo="12.3.0";const Zr=new Th("@firebase/firestore");function Xa(){return Zr.logLevel}function st(s,...t){if(Zr.logLevel<=xt.DEBUG){const n=t.map(rp);Zr.debug(`Firestore (${yo}): ${s}`,...n)}}function us(s,...t){if(Zr.logLevel<=xt.ERROR){const n=t.map(rp);Zr.error(`Firestore (${yo}): ${s}`,...n)}}function ao(s,...t){if(Zr.logLevel<=xt.WARN){const n=t.map(rp);Zr.warn(`Firestore (${yo}): ${s}`,...n)}}function rp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function mt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,LE(s,r,n)}function LE(s,t,n){let r=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Ht(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||LE(t,o,r)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ai{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class PE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class qC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HC{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new PE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class FC{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new FC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const r=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ap{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Nt(s,t){return s<t?-1:s>t?1:0}function bm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return rm(o)===rm(u)?Nt(o,u):rm(o)?1:-1}return Nt(s.length,t.length)}const YC=55296,XC=57343;function rm(s){const t=s.charCodeAt(0);return t>=YC&&t<=XC}function oo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const fv="__name__";class xi{constructor(t,n,r){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&mt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=xi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const r=xi.isNumericId(t),o=xi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(t).compare(xi.extractNumericId(n)):bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ee extends xi{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new it($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const $C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends xi{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return $C.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Ke([fv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new it($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new it($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new it($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function zE(s,t,n){if(!n)throw new it($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function ZC(s,t,n,r){if(t===!0&&r===!0)throw new it($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function dv(s){if(!ct.isDocumentKey(s))throw new it($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function mv(s){if(ct.isDocumentKey(s))throw new it($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function jE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function Ws(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(s);throw new it($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function xe(s,t){const n={typeString:s};return t&&(n.value=t),n}function nu(s,t){if(!jE(s))throw new it($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new it($.INVALID_ARGUMENT,n);return!0}const pv=-62135596800,gv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*gv);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pv)throw new it($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:xe("string",se._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function JC(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new nr(o,ct.empty(),t)}function WC(s){return new nr(s.readTime,s.key,ql)}class nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(_t.min(),ct.empty(),ql)}static max(){return new nr(_t.max(),ct.empty(),ql)}}function tx(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(s.documentKey,t.documentKey),n!==0?n:Nt(s.largestBatchId,t.largestBatchId))}const ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _o(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==ex)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(t[_]).next((E=>{f[_]=E,++p,p===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function ix(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ih.ce=-1;const op=-1;function Ch(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function sx(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const BE="";function rx(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=yv(t)),t=ax(s.get(n),t);return yv(t)}function ax(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case BE:n+="";break;default:n+=u}}return n}function yv(s){return s+BE+""}function _v(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function lr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function qE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Qe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let n=new ke(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class HE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HE("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const n=ox.exec(s);if(Ht(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const FE="server_timestamp",GE="__type__",QE="__previous_value__",KE="__local_write_time__";function lp(s){return(s?.mapValue?.fields||{})[GE]?.stringValue===FE}function xh(s){const t=s.mapValue.fields[QE];return lp(t)?xh(t):t}function Hl(s){const t=ir(s.mapValue.fields[KE].timestampValue);return new se(t.seconds,t.nanos)}class lx{constructor(t,n,r,o,u,f,p,g,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const ch="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||ch}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const YE="__type__",ux="__max__",jc={mapValue:{}},XE="__vector__",hh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:hx(s)?9007199254740991:cx(s)?10:11:mt(28295,{value:s})}function Li(s,t){if(s===t)return!0;const n=rr(s);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ir(o.timestampValue),p=ir(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),p=ye(u.doubleValue);return f===p?uh(f)===uh(p):isNaN(f)&&isNaN(p)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(_v(f)!==_v(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Li(f[g],p[g])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Gl(s,t){return(s.values||[]).find((n=>Li(n,t)))!==void 0}function lo(s,t){if(s===t)return 0;const n=rr(s),r=rr(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return Tv(s.timestampValue,t.timestampValue);case 4:return Tv(Hl(s),Hl(t));case 5:return bm(s.stringValue,t.stringValue);case 6:return(function(u,f){const p=sr(u),g=sr(f);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const E=Nt(p[_],g[_]);if(E!==0)return E}return Nt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Nt(ye(u.latitude),ye(f.latitude));return p!==0?p:Nt(ye(u.longitude),ye(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Ev(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},_=p[hh]?.arrayValue,E=g[hh]?.arrayValue,b=Nt(_?.values?.length||0,E?.values?.length||0);return b!==0?b:Ev(_,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=f.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const I=bm(g[b],E[b]);if(I!==0)return I;const k=lo(p[g[b]],_[E[b]]);if(k!==0)return k}return Nt(g.length,E.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function Tv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const n=ir(s),r=ir(t),o=Nt(n.seconds,r.seconds);return o!==0?o:Nt(n.nanos,r.nanos)}function Ev(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=lo(n[o],r[o]);if(u)return u}return Nt(n.length,r.length)}function uo(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return sr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ct.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Sm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"})(s.mapValue):mt(61005,{value:s})}function Yc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Yc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return lr(r.fields,((u,f)=>{o+=u.length+Yc(f)})),o})(s.mapValue);default:throw mt(13486,{value:s})}}function Av(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function wm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function bv(s){return!!s&&"nullValue"in s}function Sv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function cx(s){return(s?.mapValue?.fields||{})[YE]?.stringValue===XE}function Ul(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ul(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ul(s.arrayValue.values[n]);return t}return{...s}}function hx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ux}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(n)}setAll(t){let n=Ke.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Ul(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){lr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new pn(Ul(this.value))}}function $E(s){const t=[];return lr(s.fields,((n,r)=>{const o=new Ke([n]);if(Xc(r)){const u=$E(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new wn(t)}class Je{constructor(t,n,r,o,u,f,p){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),pn.empty(),0)}static newFoundDocument(t,n,r,o){return new Je(t,1,n,_t.min(),r,o,0)}static newNoDocument(t,n){return new Je(t,2,n,_t.min(),_t.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,_t.min(),_t.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(t,n){this.position=t,this.inclusive=n}}function wv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=ct.comparator(ct.fromName(f.referenceValue),n.key):r=lo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Li(s.position[n],t.position[n]))return!1;return!0}class Ql{constructor(t,n="asc"){this.field=t,this.dir=n}}function fx(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class ZE{}class Ce extends ZE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new mx(t,n,r):n==="array-contains"?new yx(t,r):n==="in"?new _x(t,r):n==="not-in"?new vx(t,r):n==="array-contains-any"?new Tx(t,r):new Ce(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new px(t,r):new gx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends ZE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ri(t,n)}matches(t){return JE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JE(s){return s.op==="and"}function WE(s){return dx(s)&&JE(s)}function dx(s){for(const t of s.filters)if(t instanceof ri)return!1;return!0}function Rm(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(WE(s))return s.filters.map((t=>Rm(t))).join(",");{const t=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${t})`}}function t1(s,t){return s instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(s,t):s instanceof ri?(function(r,o){return o instanceof ri&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&t1(f,o.filters[p])),!0):!1})(s,t):void mt(19439)}function e1(s){return s instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(s):s instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(e1).join(" ,")+"}"})(s):"Filter"}class mx extends Ce{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class px extends Ce{constructor(t,n){super(t,"in",n),this.keys=n1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class gx extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=n1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function n1(s,t){return(t.arrayValue?.values||[]).map((n=>ct.fromName(n.referenceValue)))}class yx extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return up(n)&&Gl(n.arrayValue,this.value)}}class _x extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class vx extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class Tx extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class Ex{constructor(t,n=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function Iv(s,t=null,n=[],r=[],o=null,u=null,f=null){return new Ex(s,t,n,r,o,u,f)}function cp(s){const t=Tt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uo(r))).join(",")),t.Te=n}return t.Te}function hp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!fx(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!t1(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Rv(s.startAt,t.startAt)&&Rv(s.endAt,t.endAt)}function Im(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class To{constructor(t,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ax(s,t,n,r,o,u,f,p){return new To(s,t,n,r,o,u,f,p)}function fp(s){return new To(s)}function Cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function i1(s){return s.collectionGroup!==null}function Ll(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ql(u,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Ql(Ke.keyField(),r))}return t.Ie}function Di(s){const t=Tt(s);return t.Ee||(t.Ee=bx(t,Ll(s))),t.Ee}function bx(s,t){if(s.limitType==="F")return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ql(o.field,u)}));const n=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Cm(s,t){const n=s.filters.concat([t]);return new To(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function xm(s,t,n){return new To(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Nh(s,t){return hp(Di(s),Di(t))&&s.limitType===t.limitType}function s1(s){return`${cp(Di(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>e1(o))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function Dh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ct.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Ll(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,g){const _=wv(f,p,g);return f.inclusive?_<=0:_<0})(r.startAt,Ll(r),o)||r.endAt&&!(function(f,p,g){const _=wv(f,p,g);return f.inclusive?_>=0:_>0})(r.endAt,Ll(r),o))})(s,t)}function Sx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function r1(s){return(t,n)=>{let r=!1;for(const o of Ll(s)){const u=wx(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function wx(s,t,n){const r=s.field.isKeyField()?ct.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),_=p.data.field(u);return g!==null&&_!==null?lo(g,_):mt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:s.dir})}}class na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}const Rx=new le(ct.comparator);function cs(){return Rx}const a1=new le(ct.comparator);function Dl(...s){let t=a1;for(const n of s)t=t.insert(n.key,n);return t}function o1(s){let t=a1;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Fr(){return Pl()}function l1(){return Pl()}function Pl(){return new na((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Ix=new le(ct.comparator),Cx=new ke(ct.comparator);function Dt(...s){let t=Cx;for(const n of s)t=t.add(n);return t}const xx=new ke(Nt);function Nx(){return xx}function dp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function u1(s){return{integerValue:""+s}}function Dx(s,t){return sx(t)?u1(t):dp(s,t)}class Oh{constructor(){this._=void 0}}function Ox(s,t,n){return s instanceof Kl?(function(o,u){const f={fields:{[GE]:{stringValue:FE},[KE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=xh(u)),u&&(f.fields[QE]=u),{mapValue:f}})(n,t):s instanceof Yl?h1(s,t):s instanceof Xl?f1(s,t):(function(o,u){const f=c1(o,u),p=xv(f)+xv(o.Ae);return wm(f)&&wm(o.Ae)?u1(p):dp(o.serializer,p)})(s,t)}function Mx(s,t,n){return s instanceof Yl?h1(s,t):s instanceof Xl?f1(s,t):n}function c1(s,t){return s instanceof dh?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Kl extends Oh{}class Yl extends Oh{constructor(t){super(),this.elements=t}}function h1(s,t){const n=d1(t);for(const r of s.elements)n.some((o=>Li(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Xl extends Oh{constructor(t){super(),this.elements=t}}function f1(s,t){let n=d1(t);for(const r of s.elements)n=n.filter((o=>!Li(o,r)));return{arrayValue:{values:n}}}class dh extends Oh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xv(s){return ye(s.integerValue||s.doubleValue)}function d1(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Vx{constructor(t,n){this.field=t,this.transform=n}}function kx(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Yl&&o instanceof Yl||r instanceof Xl&&o instanceof Xl?oo(r.elements,o.elements,Li):r instanceof dh&&o instanceof dh?Li(r.Ae,o.Ae):r instanceof Kl&&o instanceof Kl})(s.transform,t.transform)}class Ux{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $c(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Mh{}function m1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new mp(s.key,ii.none()):new iu(s.key,s.data,ii.none());{const n=s.data,r=pn.empty();let o=new ke(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new ur(s.key,r,new wn(o.toArray()),ii.none())}}function Lx(s,t,n){s instanceof iu?(function(o,u,f){const p=o.value.clone(),g=Dv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):s instanceof ur?(function(o,u,f){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Dv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(p1(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function zl(s,t,n,r){return s instanceof iu?(function(u,f,p,g){if(!$c(u.precondition,f))return p;const _=u.value.clone(),E=Ov(u.fieldTransforms,g,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof ur?(function(u,f,p,g){if(!$c(u.precondition,f))return p;const _=Ov(u.fieldTransforms,g,f),E=f.data;return E.setAll(p1(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,n,r):(function(u,f,p){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,t,n)}function Px(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=c1(r.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function Nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&oo(r,o,((u,f)=>kx(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class iu extends Mh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ur extends Mh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p1(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function Dv(s,t,n){const r=new Map;Ht(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,Mx(f,p,n[o]))}return r}function Ov(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,Ox(u,f,t))}return r}class mp extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jx{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Lx(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=zl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=zl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=l1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=m1(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Dt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((n,r)=>Nv(n,r)))&&oo(this.baseMutations,t.baseMutations,((n,r)=>Nv(n,r)))}}class pp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Ix})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new pp(t,n,r,o)}}class Bx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qx{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,kt;function Hx(s){switch(s){case $.OK:return mt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function g1(s){if(s===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return mt(39323,{code:s})}}(kt=Ie||(Ie={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function Fx(){return new TextEncoder}const Gx=new Js([4294967295,4294967295],0);function Mv(s){const t=Fx().encode(s),n=new DE;return n.update(t),new Uint8Array(n.digest())}function Vv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([n,r],0),new Js([o,u],0)]}class gp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Js.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Js.fromNumber(r)));return o.compare(Gx)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Mv(t),[r,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new gp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=Mv(t),[r,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vh(_t.min(),o,new le(Nt),cs(),Dt())}}class su{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new su(r,n,Dt(),Dt(),Dt())}}class Zc{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class y1{constructor(t,n){this.targetId=t,this.Ce=n}}class _1{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class kv{constructor(){this.ve=0,this.Fe=Uv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:mt(38017,{changeType:u})}})),new su(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Uv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qx{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Bc(),this.He=Bc(),this.Ye=new le(Nt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(r===0){const f=new ct(u.path);this.et(n,f,Je.newNoDocument(f,_t.min()))}else Ht(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=sr(r).toUint8Array()}catch(g){if(g instanceof HE)return ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new gp(f,o,u)}catch(g){return ao(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Im(p.target)){const g=new ct(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Dt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Vh(t,n,this.Ye,this.je,r);return this.je=cs(),this.Je=Bc(),this.He=Bc(),this.Ye=new le(Nt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new kv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Nt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Nt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new le(ct.comparator)}function Uv(){return new le(ct.comparator)}const Kx={asc:"ASCENDING",desc:"DESCENDING"},Yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xx={and:"AND",or:"OR"};class $x{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Nm(s,t){return s.useProto3Json||Ch(t)?t:{value:t}}function mh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Zx(s,t){return mh(s,t.toTimestamp())}function Oi(s){return Ht(!!s,49232),_t.fromTimestamp((function(n){const r=ir(n);return new se(r.seconds,r.nanos)})(s))}function yp(s,t){return Dm(s,t).canonicalString()}function Dm(s,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function T1(s){const t=ee.fromString(s);return Ht(w1(t),10190,{key:t.toString()}),t}function Om(s,t){return yp(s.databaseId,t.path)}function am(s,t){const n=T1(t);if(n.get(1)!==s.databaseId.projectId)throw new it($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new it($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ct(A1(n))}function E1(s,t){return yp(s.databaseId,t)}function Jx(s){const t=T1(s);return t.length===4?ee.emptyPath():A1(t)}function Mm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function A1(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Lv(s,t,n){return{name:Om(s,t),fields:n.value.mapValue.fields}}function Wx(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(_){const E=_.code===void 0?$.UNKNOWN:g1(_.code);return new it(E,_.message||"")})(f);n=new _1(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=am(s,r.document.name),u=Oi(r.document.updateTime),f=r.document.createTime?Oi(r.document.createTime):_t.min(),p=new pn({mapValue:{fields:r.document.fields}}),g=Je.newFoundDocument(o,u,f,p),_=r.targetIds||[],E=r.removedTargetIds||[];n=new Zc(_,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=am(s,r.document),u=r.readTime?Oi(r.readTime):_t.min(),f=Je.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Zc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=am(s,r.document),u=r.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new qx(o,u),p=r.targetId;n=new y1(p,f)}}return n}function tN(s,t){let n;if(t instanceof iu)n={update:Lv(s,t.key,t.value)};else if(t instanceof mp)n={delete:Om(s,t.key)};else if(t instanceof ur)n={update:Lv(s,t.key,t.data),updateMask:uN(t.fieldMask)};else{if(!(t instanceof zx))return mt(16599,{Vt:t.type});n={verify:Om(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Zx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:mt(27497)})(s,t.precondition)),n}function eN(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(_t.min())&&(f=Oi(u)),new Ux(f,o.transformResults||[])})(n,t)))):[]}function nN(s,t){return{documents:[E1(s,t.path)]}}function iN(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E1(s,o);const u=(function(_){if(_.length!==0)return S1(ri.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((E=>(function(I){return{field:Za(I.field),direction:aN(I.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Nm(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:o}}function sN(s){let t=Jx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const I=b1(b);return I instanceof ri&&WE(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((I=>(function(Q){return new Ql(Ja(Q.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(I)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let I;return I=typeof b=="object"?b.value:b,Ch(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(b){const I=!!b.before,k=b.values||[];return new fh(k,I)})(n.startAt));let _=null;return n.endAt&&(_=(function(b){const I=!b.before,k=b.values||[];return new fh(k,I)})(n.endAt)),Ax(t,o,f,u,p,"F",g,_)}function rN(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function b1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ce.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((r=>b1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(s):mt(30097,{filter:s})}function aN(s){return Kx[s]}function oN(s){return Yx[s]}function lN(s){return Xx[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Ja(s){return Ke.fromServerFormat(s.fieldPath)}function S1(s){return s instanceof Ce?(function(n){if(n.op==="=="){if(Sv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(bv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(bv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:oN(n.op),value:n.value}}})(s):s instanceof ri?(function(n){const r=n.getFilters().map((o=>S1(o)));return r.length===1?r[0]:{compositeFilter:{op:lN(n.op),filters:r}}})(s):mt(54877,{filter:s})}function uN(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function w1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ys{constructor(t,n,r,o,u=_t.min(),f=_t.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cN{constructor(t){this.yt=t}}function hN(s){const t=sN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(t,t.limit,"L"):t}class fN{constructor(){this.Cn=new dN}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(nr.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class dN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new ke(ee.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(ee.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R1=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(R1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const zv="LruGarbageCollector",mN=1048576;function jv([s,t],[n,r]){const o=Nt(s,n);return o===0?Nt(t,r):o}class pN{constructor(t){this.Ir=t,this.buffer=new ke(jv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?st(zv,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Vr(3e5)}))}}class yN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Ih.ce);const r=new pN(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Pv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,p,g,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),Xa()<=xt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function _N(s,t){return new yN(s,t)}class vN{constructor(){this.changes=new na((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class EN{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&zl(r.mutation,o,wn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Dt()){const o=Fr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Dl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Fr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Dt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,r,o){let u=cs();const f=Pl(),p=(function(){return Pl()})();return n.forEach(((g,_)=>{const E=r.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof ur)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),zl(E.mutation,_,E.mutation.getFieldMask(),se.now())):f.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((_,E)=>f.set(_,E))),n.forEach(((_,E)=>p.set(_,new TN(E,f.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=Pl();let o=new le(((f,p)=>f-p)),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let E=r.get(g)||wn.empty();E=p.applyToLocalView(_,E),r.set(g,E);const b=(o.get(p.batchId)||Dt()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,E=g.value,b=l1();E.forEach((I=>{if(!u.has(I)){const k=m1(n.get(I),r.get(I));k!==null&&b.set(I,k),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):i1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):Z.resolve(Fr());let p=ql,g=u;return f.next((_=>Z.forEach(_,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((I=>{g=g.insert(E,I)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,g,_,Dt()))).next((E=>({batchId:p,changes:o1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next((r=>{let o=Dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(g=>{const _=(function(b,I){return new To(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next((E=>{E.forEach(((b,I)=>{f=f.insert(b,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((g,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let p=Dl();return f.forEach(((g,_)=>{const E=u.get(g);E!==void 0&&zl(E.mutation,_,wn.empty(),se.now()),Dh(n,_)&&(p=p.insert(g,_))})),p}))}}class AN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:hN(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),Z.resolve()}}class bN{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Fr();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=Fr(),u=n.length+1,f=new ct(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new le(((_,E)=>_-E));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=Fr(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Fr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return Z.resolve(p)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Bx(n,r));let u=this.qr.get(n);u===void 0&&(u=Dt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class SN{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class _p{constructor(){this.Qr=new ke(ze.$r),this.Ur=new ke(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ze(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ct(new ee([])),r=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ct(new ee([])),r=new ze(n,t),o=new ze(n,t+1);let u=Dt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ze(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ct.comparator(t.key,n.key)||Nt(t.Yr,n.Yr)}static Kr(t,n){return Nt(t.Yr,n.Yr)||ct.comparator(t.key,n.key)}}class wN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(ze.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jx(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new ze(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(Nt);return n.forEach((o=>{const u=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;ct.isDocumentKey(u)||(u=u.child(""));const f=new ze(new ct(u),0);let p=new ke(Nt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Yr)),!0)}),f),Z.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ze(n,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RN{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=cs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=cs();const f=n.path,p=new ct(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||tx(WC(E),r)<=0||(o.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,o){mt(9500)}ii(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new IN(this)}getSize(t){return Z.resolve(this.size)}}class IN extends vN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class CN{constructor(t){this.persistence=t,this.si=new na((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new _p,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}class I1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new SN,this.referenceDelegate=t(this),this.Pi=new CN(this),this.indexManager=new fN,this.remoteDocumentCache=(function(o){return new RN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cN(n),this.Ii=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new wN(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){st("MemoryPersistence","Starting transaction:",t);const o=new xN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class xN extends nx{constructor(t){super(),this.currentSequenceNumber=t}}class vp{constructor(t){this.persistence=t,this.Ri=new _p,this.Vi=null}static mi(t){return new vp(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ct.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ph{constructor(t,n){this.persistence=t,this.pi=new na((r=>rx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_N(this,n)}static mi(t,n){return new ph(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((p=>{p||(r++,u.removeEntry(f,_t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yc(t.data.value)),n}br(t,n,r){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Tp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Dt(),o=Dt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(t,n.fromCache,r,o)}}class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:ix(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new NN;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(Xa()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xa()<=xt.DEBUG&&st("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xa()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):Z.resolve())}ys(t,n){if(Cv(n))return Z.resolve(null);let r=Di(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Dt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const _=this.Ds(n,p);return this.Cs(n,_,f,g.readTime)?this.ys(t,xm(n,null,"F")):this.vs(t,_,n,g)}))))})))))}ws(t,n,r,o){return Cv(n)||o.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?Z.resolve(null):(Xa()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(t,f,n,JC(o,ql)).next((p=>p)))}))}Ds(t,n){let r=new ke(r1(t));return n.forEach(((o,u)=>{Dh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Xa()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(t,n,nr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ep="LocalStore",ON=3e8;class MN{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new le(Nt),this.xs=new na((u=>cp(u)),hp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function VN(s,t,n,r){return new MN(s,t,n,r)}async function C1(s,t){const n=Tt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Dt();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:p})))}))}))}function kN(s,t){const n=Tt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,E){const b=_.batch,I=b.keys();let k=Z.resolve();return I.forEach((Q=>{k=k.next((()=>E.getEntry(g,Q))).next((J=>{const W=_.docVersions.get(Q);Ht(W!==null,48541),J.version.compareTo(W)<0&&(b.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),E.addEntry(J)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Dt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function x1(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function UN(s,t){const n=Tt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach(((E,b)=>{const I=o.get(b);if(!I)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let k=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?k=k.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),o=o.insert(b,k),(function(J,W,lt){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ON?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(I,k,E)&&p.push(n.Pi.updateTargetData(u,k))}));let g=cs(),_=Dt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(LN(u,f,t.documentUpdates).next((E=>{g=E.ks,_=E.qs}))),!r.isEqual(_t.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return Z.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function LN(s,t,n){let r=Dt(),o=Dt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=cs();return n.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):st(Ep,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function PN(s,t){const n=Tt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zN(s,t){const n=Tt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new Ys(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Vm(s,t,n){const r=Tt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!vo(f))throw f;st(Ep,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Bv(s,t,n){const r=Tt(s);let o=_t.min(),u=Dt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,_,E){const b=Tt(g),I=b.xs.get(E);return I!==void 0?Z.resolve(b.Ms.get(I)):b.Pi.getTargetData(_,E)})(r,f,Di(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:_t.min(),n?u:Dt()))).next((p=>(jN(r,Sx(t),p),{documents:p,Qs:u})))))}function jN(s,t,n){let r=s.Os.get(t)||_t.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class qv{constructor(){this.activeTargetIds=Nx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BN{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qN{Oo(t){}shutdown(){}}const Hv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function km(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const om="RestConnection",HN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=km(),p=this.zo(t,n.toUriEncodedString());st(om,`Sending RPC '${t}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:_}=new URL(p),E=mo(_);return this.Jo(t,p,g,r,E).then((b=>(st(om,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw ao(om,`RPC '${t}' ${f} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=HN[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class GN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class QN extends FN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=km();return new Promise(((p,g)=>{const _=new OE;_.setWithCredentials(!0),_.listenOnce(ME.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const b=_.getResponseJson();st($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),p(b);break;case Kc.TIMEOUT:st($e,`RPC '${t}' ${f} timed out`),g(new it($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const I=_.getStatus();if(st($e,`RPC '${t}' ${f} failed with status:`,I,"response text:",_.getResponseText()),I>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const J=(function(lt){const pt=lt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(pt)>=0?pt:$.UNKNOWN})(Q.status);g(new it(J,Q.message))}else g(new it($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it($.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);st($e,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=UE(),p=kE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");st($e,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let I=!1,k=!1;const Q=new GN({Yo:W=>{k?st($e,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(I||(st($e,`Opening RPC '${t}' stream ${o} transport.`),b.open(),I=!0),st($e,`RPC '${t}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),J=(W,lt,pt)=>{W.listen(lt,(ft=>{try{pt(ft)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return J(b,Nl.EventType.OPEN,(()=>{k||(st($e,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),J(b,Nl.EventType.CLOSE,(()=>{k||(k=!0,st($e,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(b))})),J(b,Nl.EventType.ERROR,(W=>{k||(k=!0,ao($e,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Q.a_(new it($.UNAVAILABLE,"The operation could not be completed")))})),J(b,Nl.EventType.MESSAGE,(W=>{if(!k){const lt=W.data[0];Ht(!!lt,16349);const pt=lt,ft=pt?.error||pt[0]?.error;if(ft){st($e,`RPC '${t}' stream ${o} received error:`,ft);const qt=ft.status;let Yt=(function(S){const R=Ie[S];if(R!==void 0)return g1(R)})(qt),Ot=ft.message;Yt===void 0&&(Yt=$.INTERNAL,Ot="Unknown error status: "+qt+" with message "+ft.message),k=!0,Q.a_(new it(Yt,Ot)),b.close()}else st($e,`RPC '${t}' stream ${o} received:`,lt),Q.u_(lt)}})),J(p,VE.STAT_EVENT,(W=>{W.stat===Am.PROXY?st($e,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Am.NOPROXY&&st($e,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function lm(){return typeof document<"u"?document:null}function kh(s){return new $x(s,!0)}class N1{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Gv="PersistentStream";class D1{constructor(t,n,r,o,u,f,p,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new it($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KN extends D1{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Wx(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _t.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?_t.min():f.readTime?Oi(f.readTime):_t.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Im(g)?{documents:nN(u,g)}:{query:iN(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=v1(u,f.resumeToken);const _=Nm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(_t.min())>0){p.readTime=mh(u,f.snapshotVersion.toTimestamp());const _=Nm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=rN(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Mm(this.serializer),n.removeTarget=t,this.q_(n)}}class YN extends D1{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eN(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Mm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>tN(this.serializer,r)))};this.q_(n)}}class XN{}class $N extends XN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Dm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it($.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,Dm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new it($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class JN{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ia(this)&&(st(Jr,"Restarting streams for network reachability change."),await(async function(g){const _=Tt(g);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Uh(_)})(this))}))})),this.Ra=new ZN(r,o)}}async function Uh(s){if(ia(s))for(const t of s.da)await t(!0)}async function ru(s){for(const t of s.da)await t(!1)}function O1(s,t){const n=Tt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),wp(n)?Sp(n):Eo(n).O_()&&bp(n,t))}function Ap(s,t){const n=Tt(s),r=Eo(n);n.Ia.delete(t),r.O_()&&M1(n,t),n.Ia.size===0&&(r.O_()?r.L_():ia(n)&&n.Ra.set("Unknown"))}function bp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Eo(s).Y_(t)}function M1(s,t){s.Va.Ue(t),Eo(s).Z_(t)}function Sp(s){s.Va=new Qx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Ra.ua()}function wp(s){return ia(s)&&!Eo(s).x_()&&s.Ia.size>0}function ia(s){return Tt(s).Ea.size===0}function V1(s){s.Va=void 0}async function WN(s){s.Ra.set("Online")}async function tD(s){s.Ia.forEach(((t,n)=>{bp(s,t)}))}async function eD(s,t){V1(s),wp(s)?(s.Ra.ha(t),Sp(s)):s.Ra.set("Unknown")}async function nD(s,t,n){if(s.Ra.set("Online"),t instanceof _1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(s,t)}catch(r){st(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gh(s,r)}else if(t instanceof Zc?s.Va.Ze(t):t instanceof y1?s.Va.st(t):s.Va.tt(t),!n.isEqual(_t.min()))try{const r=await x1(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,_)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),M1(u,g);const b=new Ys(E.target,g,_,E.sequenceNumber);bp(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){st(Jr,"Failed to raise snapshot:",r),await gh(s,r)}}async function gh(s,t,n){if(!vo(t))throw t;s.Ea.add(1),await ru(s),s.Ra.set("Offline"),n||(n=()=>x1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Uh(s)}))}function k1(s,t){return t().catch((n=>gh(s,n,t)))}async function Lh(s){const t=Tt(s),n=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:op;for(;iD(t);)try{const o=await PN(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,sD(t,o)}catch(o){await gh(t,o)}U1(t)&&L1(t)}function iD(s){return ia(s)&&s.Ta.length<10}function sD(s,t){s.Ta.push(t);const n=ar(s);n.O_()&&n.X_&&n.ea(t.mutations)}function U1(s){return ia(s)&&!ar(s).x_()&&s.Ta.length>0}function L1(s){ar(s).start()}async function rD(s){ar(s).ra()}async function aD(s){const t=ar(s);for(const n of s.Ta)t.ea(n.mutations)}async function oD(s,t,n){const r=s.Ta.shift(),o=pp.from(r,t,n);await k1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Lh(s)}async function lD(s,t){t&&ar(s).X_&&await(async function(r,o){if((function(f){return Hx(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();ar(r).B_(),await k1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lh(r)}})(s,t),U1(s)&&L1(s)}async function Qv(s,t){const n=Tt(s);n.asyncQueue.verifyOperationInProgress(),st(Jr,"RemoteStore received new credentials");const r=ia(n);n.Ea.add(3),await ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function uD(s,t){const n=Tt(s);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(n,r,o){const u=Tt(n);return u.sa(),new KN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:WN.bind(null,s),t_:tD.bind(null,s),r_:eD.bind(null,s),H_:nD.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),wp(s)?Sp(s):s.Ra.set("Unknown")):(await s.ma.stop(),V1(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(n,r,o){const u=Tt(n);return u.sa(),new YN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rD.bind(null,s),r_:lD.bind(null,s),ta:aD.bind(null,s),na:oD.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Rp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,p=new Rp(t,n,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(s,t){if(us("AsyncQueue",`${t}: ${s}`),vo(s))return new it($.UNAVAILABLE,`${t}: ${s}`);throw s}class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Kv{constructor(){this.ga=new le(ct.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class ho{constructor(t,n,r,o,u,f,p,g,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new ho(t,n,io.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class cD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hD{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Tt(n),u=o.queries;o.queries=Yv(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new it($.ABORTED,"Firestore shutting down"))}}function Yv(){return new na((s=>s1(s)),Nh)}async function fD(s,t){const n=Tt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new cD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Ip(f,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Cp(n)}async function dD(s,t){const n=Tt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mD(s,t){const n=Tt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&Cp(n)}function pD(s,t,n){const r=Tt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Cp(s){s.Ca.forEach((t=>{t.next()}))}var Um,Xv;(Xv=Um||(Um={})).Ma="default",Xv.Cache="cache";class gD{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class P1{constructor(t){this.key=t}}class z1{constructor(t){this.key=t}}class yD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=r1(t),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Kv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const I=o.get(E),k=Dh(this.query,b)?b:null,Q=!!I&&this.mutatedKeys.has(I.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let W=!1;I&&k?I.data.isEqual(k.data)?Q!==J&&(r.track({type:3,doc:k}),W=!0):this.su(I,k)||(r.track({type:2,doc:k}),W=!0,(g&&this.eu(k,g)>0||_&&this.eu(k,_)<0)&&(p=!0)):!I&&k?(r.track({type:0,doc:k}),W=!0):I&&!k&&(r.track({type:1,doc:I}),W=!0,(g||_)&&(p=!0)),W&&(k?(f=f.add(k),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(k,Q){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:W})}};return J(k)-J(Q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,f.length!==0||_?{snapshot:new ho(this.query,t.tu,u,f,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new z1(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new P1(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Dt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class _D{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class vD{constructor(t){this.key=t,this.hu=!1}}class TD{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((p=>s1(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new _p,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ED(s,t,n=!0){const r=G1(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await j1(r,t,n,!0),o}async function AD(s,t){const n=G1(s);await j1(n,t,!0,!1)}async function j1(s,t,n,r){const o=await zN(s.localStore,Di(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await bD(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&O1(s.remoteStore,o),p}async function bD(s,t,n,r,o){s.pu=(b,I,k)=>(async function(J,W,lt,pt){let ft=W.view.ru(lt);ft.Cs&&(ft=await Bv(J.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,ft))));const qt=pt&&pt.targetChanges.get(W.targetId),Yt=pt&&pt.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(ft,J.isPrimaryClient,qt,Yt);return Zv(J,W.targetId,Ot.au),Ot.snapshot})(s,b,I,k);const u=await Bv(s.localStore,t,!0),f=new yD(t,u.Qs),p=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),_=f.applyChanges(p,s.isPrimaryClient,g);Zv(s,n,_.au);const E=new _D(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function SD(s,t,n){const r=Tt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Nh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ap(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(_o)):(Lm(r,o.targetId),await Vm(r.localStore,o.targetId,!0))}async function wD(s,t){const n=Tt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ap(n.remoteStore,r.targetId))}async function RD(s,t,n){const r=MD(s);try{const o=await(function(f,p){const g=Tt(f),_=se.now(),E=p.reduce(((k,Q)=>k.add(Q.key)),Dt());let b,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=cs(),J=Dt();return g.Ns.getEntries(k,E).next((W=>{Q=W,Q.forEach(((lt,pt)=>{pt.isValidDocument()||(J=J.add(lt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,Q))).next((W=>{b=W;const lt=[];for(const pt of p){const ft=Px(pt,b.get(pt.key).overlayedDocument);ft!=null&&lt.push(new ur(pt.key,ft,$E(ft.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(k,_,lt,p)})).next((W=>{I=W;const lt=W.applyToLocalDocumentSet(b,J);return g.documentOverlayCache.saveOverlays(k,W.batchId,lt)}))})).then((()=>({batchId:I.batchId,changes:o1(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let _=f.Vu[f.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(p,g),f.Vu[f.currentUser.toKey()]=_})(r,o.batchId,n),await au(r,o.changes),await Lh(r.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function B1(s,t){const n=Tt(s);try{const r=await UN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await au(n,r,t)}catch(r){await _o(r)}}function $v(s,t,n){const r=Tt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Tt(f);g.onlineState=p;let _=!1;g.queries.forEach(((E,b)=>{for(const I of b.Sa)I.va(p)&&(_=!0)})),_&&Cp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ID(s,t,n){const r=Tt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new le(ct.comparator);f=f.insert(u,Je.newNoDocument(u,_t.min()));const p=Dt().add(u),g=new Vh(_t.min(),new Map,new le(Nt),f,p);await B1(r,g),r.du=r.du.remove(u),r.Au.delete(t),Np(r)}else await Vm(r.localStore,t,!1).then((()=>Lm(r,t,n))).catch(_o)}async function CD(s,t){const n=Tt(s),r=t.batch.batchId;try{const o=await kN(n.localStore,t);H1(n,r,null),q1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,o)}catch(o){await _o(o)}}async function xD(s,t,n){const r=Tt(s);try{const o=await(function(f,p){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ht(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(_,b)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(r.localStore,t);H1(r,t,n),q1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await au(r,o)}catch(o){await _o(o)}}function q1(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function H1(s,t,n){const r=Tt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||F1(s,r)}))}function F1(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Ap(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Np(s))}function Zv(s,t,n){for(const r of n)r instanceof P1?(s.Ru.addReference(r.key,t),ND(s,r)):r instanceof z1?(st(xp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||F1(s,r.key)):mt(19791,{wu:r})}function ND(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(st(xp,"New document in limbo: "+n),s.Eu.add(r),Np(s))}function Np(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ct(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new vD(n)),s.du=s.du.insert(n,r),O1(s.remoteStore,new Ys(Di(fp(n.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function au(s,t,n){const r=Tt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,t,n).then((_=>{if((_||n)&&r.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Tp.As(g.targetId,_);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,_){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(I=>Z.forEach(I.Es,(k=>E.persistence.referenceDelegate.addReference(b,I.targetId,k))).next((()=>Z.forEach(I.ds,(k=>E.persistence.referenceDelegate.removeReference(b,I.targetId,k)))))))))}catch(b){if(!vo(b))throw b;st(Ep,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const k=E.Ms.get(I),Q=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(I,J)}}})(r.localStore,u))}async function DD(s,t){const n=Tt(s);if(!n.currentUser.isEqual(t)){st(xp,"User change. New user:",t.toKey());const r=await C1(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new it($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await au(n,r.Ls)}}function OD(s,t){const n=Tt(s),r=n.Au.get(t);if(r&&r.hu)return Dt().add(r.key);{let o=Dt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function G1(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=B1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ID.bind(null,t),t.Pu.H_=mD.bind(null,t.eventManager),t.Pu.yu=pD.bind(null,t.eventManager),t}function MD(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return VN(this.persistence,new DN,t.initialUser,this.serializer)}Cu(t){return new I1(vp.mi,this.serializer)}Du(t){return new BN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class VD extends yh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gN(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new I1((r=>ph.mi(r,n)),this.serializer)}}class Pm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hD})()}createDatastore(t){const n=kh(t.databaseInfo.databaseId),r=(function(u){return new QN(u)})(t.databaseInfo);return(function(u,f,p,g){return new $N(u,f,p,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,p){return new JN(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>$v(this.syncEngine,n,0)),(function(){return Fv.v()?new Fv:new qN})())}createSyncEngine(t,n){return(function(o,u,f,p,g,_,E){const b=new TD(o,u,f,p,g,_);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Tt(n);st(Jr,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};class kD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const or="FirestoreClient";class UD{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{st(or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(st(or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ip(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function um(s,t){s.asyncQueue.verifyOperationInProgress(),st(or,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await C1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Jv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await LD(s);st(or,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Qv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Qv(t.remoteStore,o))),s._onlineComponents=t}async function LD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(or,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await um(s,new yh)}}else st(or,"Using default OfflineComponentProvider"),await um(s,new VD(void 0));return s._offlineComponents}async function Q1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(or,"Using user provided OnlineComponentProvider"),await Jv(s,s._uninitializedComponentsProvider._online)):(st(or,"Using default OnlineComponentProvider"),await Jv(s,new Pm))),s._onlineComponents}function PD(s){return Q1(s).then((t=>t.syncEngine))}async function Wv(s){const t=await Q1(s),n=t.eventManager;return n.onListen=ED.bind(null,t.syncEngine),n.onUnlisten=SD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,t.syncEngine),n}function K1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const tT=new Map;const Y1="firestore.googleapis.com",eT=!0;class nT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y1,this.ssl=eT}else this.host=t.host,this.ssl=t.ssl??eT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=R1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mN)throw new it($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ph{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BC;switch(r.type){case"firstParty":return new GC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tT.get(n);r&&(st("ComponentProvider","Removing Datastore"),tT.delete(n),r.terminate())})(this),Promise.resolve()}}function zD(s,t,n,r={}){s=Ws(s,Ph);const o=mo(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;o&&(AT(`https://${p}`),bT("Firestore",!0)),u.host!==Y1&&u.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!er(g,f)&&(s._setSettings(g),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Ze.MOCK_USER;else{_=HS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new it($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(b)}s._authCredentials=new qC(new PE(_,E))}}class sa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Ne{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(nu(n,Ne._jsonSchema))return new Ne(t,r||null,new ct(ee.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:xe("string",Ne._jsonSchemaVersion),referencePath:xe("string")};class tr extends sa{constructor(t,n,r){super(t,n,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ct(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function as(s,t,...n){if(s=De(s),zE("collection","path",t),s instanceof Ph){const r=ee.fromString(t,...n);return mv(r),new tr(s,null,r)}{if(!(s instanceof Ne||s instanceof tr))throw new it($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return mv(r),new tr(s.firestore,null,r)}}function Wr(s,t,...n){if(s=De(s),arguments.length===1&&(t=ap.newId()),zE("doc","path",t),s instanceof Ph){const r=ee.fromString(t,...n);return dv(r),new Ne(s,null,new ct(r))}{if(!(s instanceof Ne||s instanceof tr))throw new it($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return dv(r),new Ne(s.firestore,s instanceof tr?s.converter:null,new ct(r))}}const iT="AsyncQueue";class sT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&st(iT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;st(iT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",rT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Rp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:rT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function rT(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function aT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class fo extends Ph{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new sT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sT(t),this._firestoreClient=void 0,await t}}}function jD(s,t){const n=typeof s=="object"?s:Hm(),r=typeof s=="string"?s:ch,o=ea(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=BS("firestore");u&&zD(o,...u)}return o}function X1(s){if(s._terminated)throw new it($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BD(s),s._firestoreClient}function BD(s){const t=s._freezeSettings(),n=(function(o,u,f,p){return new lx(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,K1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new UD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ye.fromBase64String(t))}catch(n){throw new it($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:xe("string",Bn._jsonSchemaVersion),bytes:xe("string")};class zh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jh{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:xe("string",Mi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Vi(t.vectorValues);throw new it($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:xe("string",Vi._jsonSchemaVersion),vectorValues:xe("object")};const qD=/^__.*__$/;class HD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new iu(t,this.data,n,this.fieldTransforms)}}class $1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ur(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Z1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Dp{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return _h(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Z1(this.Ac)&&qD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||kh(t)}Cc(t,n,r,o=!1){return new Dp({Ac:t,methodName:n,Dc:r,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(s){const t=s._freezeSettings(),n=kh(s._databaseId);return new FD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function GD(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);Vp("Data must be an object, but it was:",f,r);const p=J1(r,f);let g,_;if(u.merge)g=new wn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const I=zm(t,b,n);if(!f.contains(I))throw new it($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);tA(E,I)||E.push(I)}g=new wn(E),_=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,_=f.fieldTransforms;return new HD(new pn(p),g,_)}class Bh extends jh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bh}}class Mp extends jh{_toFieldTransform(t){return new Vx(t.path,new Kl)}isEqual(t){return t instanceof Mp}}function QD(s,t,n,r){const o=s.Cc(1,t,n);Vp("Data must be an object, but it was:",o,r);const u=[],f=pn.empty();lr(r,((g,_)=>{const E=kp(t,g,n);_=De(_);const b=o.yc(E);if(_ instanceof Bh)u.push(E);else{const I=ou(_,b);I!=null&&(u.push(E),f.set(E,I))}}));const p=new wn(u);return new $1(f,p,o.fieldTransforms)}function KD(s,t,n,r,o,u){const f=s.Cc(1,t,n),p=[zm(t,r,n)],g=[o];if(u.length%2!=0)throw new it($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)p.push(zm(t,u[I])),g.push(u[I+1]);const _=[],E=pn.empty();for(let I=p.length-1;I>=0;--I)if(!tA(_,p[I])){const k=p[I];let Q=g[I];Q=De(Q);const J=f.yc(k);if(Q instanceof Bh)_.push(k);else{const W=ou(Q,J);W!=null&&(_.push(k),E.set(k,W))}}const b=new wn(_);return new $1(E,b,f.fieldTransforms)}function YD(s,t,n,r=!1){return ou(n,s.Cc(r?4:3,t))}function ou(s,t){if(W1(s=De(s)))return Vp("Unsupported field value:",t,s),J1(s,t);if(s instanceof jh)return(function(r,o){if(!Z1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let g=ou(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=De(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:mh(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:v1(o.serializer,r._byteString)};if(r instanceof Ne){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vi)return(function(f,p){return{mapValue:{fields:{[YE]:{stringValue:XE},[hh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return dp(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Rh(r)}`)})(s,t)}function J1(s,t){const n={};return qE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(s,((r,o)=>{const u=ou(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function W1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Mi||s instanceof Bn||s instanceof Ne||s instanceof jh||s instanceof Vi)}function Vp(s,t,n){if(!W1(n)||!jE(n)){const r=Rh(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function zm(s,t,n){if((t=De(t))instanceof zh)return t._internalPath;if(typeof t=="string")return kp(s,t);throw _h("Field path arguments must be of type string or ",s,!1,void 0,n)}const XD=new RegExp("[~\\*/\\[\\]]");function kp(s,t,n){if(t.search(XD)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new zh(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _h(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new it($.INVALID_ARGUMENT,p+s+g)}function tA(s,t){return s.some((n=>n.isEqual(t)))}class eA{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Up("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $D extends eA{data(){return super.data()}}function Up(s,t){return typeof t=="string"?kp(s,t):t instanceof zh?t._internalPath:t._delegate._internalPath}function ZD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class nA extends Lp{}function qh(s,t,...n){let r=[];t instanceof Lp&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof zp)).length,p=u.filter((g=>g instanceof Pp)).length;if(f>1||f>0&&p>0)throw new it($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Pp extends nA{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Pp(t,n,r)}_apply(t){const n=this._parse(t);return iA(t._query,n),new sa(t.firestore,t.converter,Cm(t._query,n))}_parse(t){const n=Op(t.firestore);return(function(u,f,p,g,_,E,b){let I;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){lT(b,E);const Q=[];for(const J of b)Q.push(oT(g,u,J));I={arrayValue:{values:Q}}}else I=oT(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||lT(b,E),I=YD(p,f,b,E==="in"||E==="not-in");return Ce.create(_,E,I)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class zp extends Lp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)iA(f,g),f=Cm(f,g)})(t._query,n),new sa(t.firestore,t.converter,Cm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jp extends nA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new jp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new it($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(u,f)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function Bp(s,t="asc"){const n=t,r=Up("orderBy",s);return jp._create(r,n)}function oT(s,t,n){if(typeof(n=De(n))=="string"){if(n==="")throw new it($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i1(t)&&n.indexOf("/")!==-1)throw new it($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!ct.isDocumentKey(r))throw new it($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Av(s,new ct(r))}if(n instanceof Ne)return Av(s,n._key);throw new it($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function lT(s,t){if(!Array.isArray(s)||s.length===0)throw new it($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iA(s,t){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class JD{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return lr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[hh].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new Vi(n)}convertGeoPoint(t){return new Mi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=xh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=ir(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ht(w1(r),9688,{name:t});const o=new Fl(r.get(1),r.get(3)),u=new ct(r.popFirst(5));return o.isEqual(n)||us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function WD(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Ml{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends eA{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Up("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:xe("string",Qr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Jc extends Qr{data(t={}){return super.data(t)}}class so{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ml(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ml(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:t4(p.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function t4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:xe("string",so._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class sA extends JD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function qp(s,t,n,...r){s=Ws(s,Ne);const o=Ws(s.firestore,fo),u=Op(o);let f;return f=typeof(t=De(t))=="string"||t instanceof zh?KD(u,"updateDoc",s._key,t,n,r):QD(u,"updateDoc",s._key,t),Fp(o,[f.toMutation(s._key,ii.exists(!0))])}function Hp(s){return Fp(Ws(s.firestore,fo),[new mp(s._key,ii.none())])}function $l(s,t){const n=Ws(s.firestore,fo),r=Wr(s),o=WD(s.converter,t);return Fp(n,[GD(Op(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then((()=>r))}function Hh(s,...t){s=De(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||aT(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aT(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,f,p;if(s instanceof Ne)f=Ws(s.firestore,fo),p=fp(s._key.path),u={next:g=>{t[r]&&t[r](e4(f,s,g))},error:t[r+1],complete:t[r+2]};else{const g=Ws(s,sa);f=Ws(g.firestore,fo),p=g._query;const _=new sA(f);u={next:E=>{t[r]&&t[r](new so(f,_,g,E))},error:t[r+1],complete:t[r+2]},ZD(s._query)}return(function(_,E,b,I){const k=new kD(I),Q=new gD(E,k,b);return _.asyncQueue.enqueueAndForget((async()=>fD(await Wv(_),Q))),()=>{k.Nu(),_.asyncQueue.enqueueAndForget((async()=>dD(await Wv(_),Q)))}})(X1(f),p,o,u)}function Fp(s,t){return(function(r,o){const u=new Gr;return r.asyncQueue.enqueueAndForget((async()=>RD(await PD(r),o,u))),u.promise})(X1(s),t)}function e4(s,t,n){const r=n.docs.get(t._key),o=new sA(s);return new Qr(s,o,t._key,r,new Ml(n.hasPendingWrites,n.fromCache),t.converter)}function ro(){return new Mp("serverTimestamp")}(function(t,n=!0){(function(o){yo=o})(po),ki(new si("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new fo(new HC(r.getProvider("auth-internal")),new QC(f,r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),qn(uv,cv,t),qn(uv,cv,"esm2020")})();const n4={apiKey:"AIzaSyARypVAjLuFlXSuqU-tYNj2L-dLgLq2H74",authDomain:"productivity-git.firebaseapp.com",projectId:"productivity-git",storageBucket:"productivity-git.firebasestorage.app",messagingSenderId:"874339373522",appId:"1:874339373522:web:939bfa39737dc81fcd380b",measurementId:"G-RWZJGDK0V9"},sn=(typeof __app_id<"u"?__app_id:"default-app").replace(/[^a-zA-Z0-9_-]/g,"_"),Gp=NT(n4),cm=zC(Gp),rn=jD(Gp);MR(Gp);const uT=(s=.5,t="complete")=>{if(!(s<=0))try{const n=window.AudioContext||window.webkitAudioContext;if(!n)return;const r=new n,o=r.createOscillator(),u=r.createGain();o.connect(u),u.connect(r.destination),t==="complete"?(o.type="triangle",o.frequency.setValueAtTime(523.25,r.currentTime),o.frequency.linearRampToValueAtTime(659.25,r.currentTime+.1),o.frequency.linearRampToValueAtTime(783.99,r.currentTime+.2),o.frequency.linearRampToValueAtTime(1046.5,r.currentTime+.3),u.gain.setValueAtTime(s,r.currentTime),u.gain.exponentialRampToValueAtTime(.01,r.currentTime+.6),o.start(r.currentTime),o.stop(r.currentTime+.6)):(o.type="sine",o.frequency.setValueAtTime(880,r.currentTime),u.gain.setValueAtTime(s*.5,r.currentTime),u.gain.exponentialRampToValueAtTime(.01,r.currentTime+.1),o.start(r.currentTime),o.stop(r.currentTime+.1))}catch(n){console.error("Audio play failed",n)}};class i4{constructor(){this.ctx=null,this.nodes={},this.intervals={},this.volumes={}}init(){if(this.ctx)return;const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t}createNoise(t){this.ctx||this.init();const n=2*this.ctx.sampleRate,r=this.ctx.createBuffer(1,n,this.ctx.sampleRate),o=r.getChannelData(0);for(let f=0;f<n;f++){const p=Math.random()*2-1;if(t==="white")o[f]=p;else if(t==="pink"){const g=[0,0,0,0,0,0,0];g[0]=.99886*g[0]+p*.0555179,g[1]=.99332*g[1]+p*.0750759,g[2]=.969*g[2]+p*.153852,g[3]=.8665*g[3]+p*.3104856,g[4]=.55*g[4]+p*.5329522,g[5]=-.7616*g[5]-p*.016898,o[f]=g[0]+g[1]+g[2]+g[3]+g[4]+g[5]+p*.5362,o[f]*=.11}else if(t==="brown"){const g=f>0?o[f-1]:0;o[f]=(g+.02*p)/1.02,o[f]*=3.5}}const u=this.ctx.createBufferSource();return u.buffer=r,u.loop=!0,u}playChime(t){if(!this.ctx||t<=0)return;const n=this.ctx.createOscillator(),r=this.ctx.createGain(),o=[1046.5,1174.66,1318.51,1567.98,1760],u=o[Math.floor(Math.random()*o.length)];n.frequency.value=u,n.type="sine",n.connect(r),r.connect(this.ctx.destination);const f=this.ctx.currentTime;r.gain.setValueAtTime(0,f),r.gain.linearRampToValueAtTime(t*.3,f+.05),r.gain.exponentialRampToValueAtTime(.001,f+3),n.start(f),n.stop(f+3.5),setTimeout(()=>{n.disconnect(),r.disconnect()},4e3)}toggle(t,n){if(this.volumes[t]=n,t==="chimes"){this.intervals.chimes&&(clearInterval(this.intervals.chimes),delete this.intervals.chimes),n>0&&(this.init(),this.ctx.state==="suspended"&&this.ctx.resume(),this.intervals.chimes=setInterval(()=>{Math.random()<.3&&this.playChime(this.volumes.chimes)},2e3),this.playChime(n));return}if(this.nodes[t]){try{this.nodes[t].source.stop(),this.nodes[t].gain.disconnect()}catch{}delete this.nodes[t]}if(n>0){this.init(),this.ctx.state==="suspended"&&this.ctx.resume();const r=this.createNoise(t),o=this.ctx.createGain();o.gain.value=n,r.connect(o),o.connect(this.ctx.destination),r.start(),this.nodes[t]={source:r,gain:o}}}setVolume(t,n){if(this.volumes[t]=n,t==="chimes"){n<=0&&this.intervals.chimes?(clearInterval(this.intervals.chimes),delete this.intervals.chimes):n>0&&!this.intervals.chimes&&this.toggle("chimes",n);return}this.nodes[t]?this.nodes[t].gain.gain.linearRampToValueAtTime(n,this.ctx.currentTime+.1):n>0&&this.toggle(t,n)}stopAll(){Object.keys(this.nodes).forEach(t=>{try{this.nodes[t].source.stop()}catch{}}),Object.keys(this.intervals).forEach(t=>{clearInterval(this.intervals[t])}),this.nodes={},this.intervals={},this.ctx&&this.ctx.close(),this.ctx=null}}const cT=new i4,s4=({isActive:s})=>{const t=Ut.useRef(null);return Ut.useEffect(()=>{if(!s)return;const n=t.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const o=[],u=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6"];for(let p=0;p<150;p++)o.push({x:n.width/2,y:n.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20,size:Math.random()*8+2,color:u[Math.floor(Math.random()*u.length)],gravity:.5,drag:.96,life:100});const f=()=>{r.clearRect(0,0,n.width,n.height);let p=!1;o.forEach(g=>{g.life>0&&(p=!0,g.x+=g.vx,g.y+=g.vy,g.vy+=g.gravity,g.vx*=g.drag,g.vy*=g.drag,g.life--,r.fillStyle=g.color,r.beginPath(),r.arc(g.x,g.y,g.size,0,Math.PI*2),r.fill())}),p&&requestAnimationFrame(f)};f()},[s]),s?w.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"}):null},r4=({timeLeft:s,isActive:t,mode:n,toggleTimer:r,onExpand:o})=>{const u=f=>{const p=Math.floor(f/60),g=f%60;return`${p.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`};return w.jsxs("div",{className:"fixed bottom-6 right-6 bg-white p-3 pr-5 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200 flex items-center gap-4 z-50 animate-bounce-in",children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center cursor-pointer transition-colors ${n==="work"?"bg-indigo-100 text-indigo-600":"bg-teal-100 text-teal-600"}`,onClick:r,children:t?w.jsx(fT,{size:18,fill:"currentColor"}):w.jsx(dT,{size:18,fill:"currentColor"})}),w.jsxs("div",{className:"flex flex-col cursor-pointer",onClick:o,children:[w.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider leading-none mb-1",children:n}),w.jsx("span",{className:"text-xl font-mono font-bold text-slate-700 leading-none",children:u(s)})]}),w.jsx("button",{onClick:o,className:"p-2 text-slate-300 hover:text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",children:w.jsx(lS,{size:16})})]})},a4=({timeLeft:s,isActive:t,mode:n,toggleTimer:r,resetTimer:o,switchMode:u,volume:f,setVolume:p,dailyCount:g})=>{const b=lt=>{const pt=Math.floor(lt/60),ft=lt%60;return`${pt.toString().padStart(2,"0")}:${ft.toString().padStart(2,"0")}`},I=n==="work"?1500:300,k=(I-s)/I*100,Q=120,J=2*Math.PI*Q,W=J-k/100*J;return w.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-3xl mx-auto animate-fade-in",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full",children:[w.jsxs("div",{className:"md:col-span-2 bg-white rounded-3xl shadow-sm border border-slate-100 p-8 flex flex-col items-center relative overflow-hidden",children:[w.jsxs("div",{className:"flex space-x-2 bg-slate-50 p-1.5 rounded-xl mb-8 relative z-10",children:[w.jsx("button",{onClick:()=>u("work"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${n==="work"?"bg-white text-indigo-600 shadow-sm scale-105":"text-slate-400 hover:text-slate-600"}`,children:"Deep Work"}),w.jsx("button",{onClick:()=>u("break"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${n==="break"?"bg-white text-teal-600 shadow-sm scale-105":"text-slate-400 hover:text-slate-600"}`,children:"Rest"})]}),w.jsxs("div",{className:"relative mb-8 group cursor-default",children:[w.jsxs("svg",{className:"transform -rotate-90 w-80 h-80",children:[w.jsx("circle",{cx:"160",cy:"160",r:Q,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-50"}),w.jsx("circle",{cx:"160",cy:"160",r:Q,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:J,strokeDashoffset:W,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${n==="work"?"text-indigo-500":"text-teal-500"}`})]}),w.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[w.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${n==="work"?"text-indigo-900":"text-teal-900"}`,children:b(s)}),w.jsx("div",{className:"text-slate-400 text-sm font-medium mt-2 tracking-widest uppercase",children:t?"Focusing":"Paused"})]})]}),w.jsxs("div",{className:"flex items-center space-x-6 relative z-10",children:[w.jsx("button",{onClick:o,className:"p-4 rounded-2xl bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",children:w.jsx(pT,{size:24})}),w.jsx("button",{onClick:r,className:`p-6 rounded-3xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl ${t?"bg-amber-50 text-amber-500 hover:bg-amber-100 ring-4 ring-amber-50":n==="work"?"bg-indigo-600 text-white hover:bg-indigo-700 ring-4 ring-indigo-50":"bg-teal-500 text-white hover:bg-teal-600 ring-4 ring-teal-50"}`,children:t?w.jsx(fT,{size:36,fill:"currentColor"}):w.jsx(dT,{size:36,fill:"currentColor",className:"ml-1"})})]})]}),w.jsxs("div",{className:"flex flex-col space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(wS,{size:120})}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("h3",{className:"text-indigo-100 font-medium mb-1 flex items-center gap-2",children:[w.jsx(AS,{size:18})," Daily Focus"]}),w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("span",{className:"text-5xl font-bold",children:g}),w.jsx("span",{className:"text-indigo-200 text-sm font-medium",children:"sessions"})]}),w.jsx("div",{className:"mt-4 bg-white/20 h-2 rounded-full overflow-hidden backdrop-blur-sm",children:w.jsx("div",{className:"h-full bg-white/90 rounded-full transition-all duration-1000",style:{width:`${Math.min(g/8*100,100)}%`}})}),w.jsx("p",{className:"text-xs text-indigo-200 mt-2",children:"Goal: 8 sessions / day"})]})]}),w.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 flex-1",children:[w.jsxs("h3",{className:"text-slate-500 font-medium mb-4 flex items-center gap-2",children:[w.jsx(S0,{size:18})," Soundscape"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[w.jsx(OS,{size:18}),w.jsx(S0,{size:18})]}),w.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:f,onChange:lt=>p(parseFloat(lt.target.value)),className:"w-full h-2 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-600"}),w.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Adjust notification volume"})]})]})]})]})})},hm=({title:s,status:t,tasks:n,user:r,onDrop:o,onDragStart:u,color:f})=>{const p=b=>b.preventDefault(),g={todo:"border-blue-500",doing:"border-amber-500",done:"border-emerald-500"}[t]||"border-slate-300",_={todo:"bg-blue-50",doing:"bg-amber-50",done:"bg-emerald-50"}[t]||"bg-slate-50",E={todo:"text-blue-700",doing:"text-amber-700",done:"text-emerald-700"}[t]||"text-slate-700";return w.jsxs("div",{className:`flex-1 bg-slate-50/50 rounded-xl flex flex-col min-h-[500px] border-t-4 ${g} shadow-[0_8px_30px_rgb(0,0,0,0.04)]`,onDragOver:p,onDrop:b=>o(b,t),children:[w.jsxs("div",{className:`p-4 rounded-t-sm ${_} flex items-center justify-between border-b border-slate-200/50`,children:[w.jsx("h3",{className:`font-bold ${E} uppercase tracking-wide text-sm`,children:s}),w.jsx("span",{className:"bg-white/80 backdrop-blur-sm text-slate-500 text-xs font-bold px-2.5 py-1 rounded-full shadow-sm",children:n.length})]}),w.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-1",children:n.map(b=>w.jsxs("div",{draggable:!0,onDragStart:I=>u(I,b.id),className:"bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-move hover:shadow-lg hover:-translate-y-1 transition-all duration-200 group relative",children:[w.jsx("p",{className:"text-slate-700 font-medium text-sm leading-relaxed",children:b.content}),w.jsx("div",{className:"flex justify-end mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("button",{onClick:()=>Hp(Wr(rn,"artifacts",sn,"users",r.uid,"kanban",b.id)),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors",children:w.jsx(Bm,{size:14})})})]},b.id))})]})},o4=({user:s})=>{const[t,n]=Ut.useState([]),[r,o]=Ut.useState("");Ut.useEffect(()=>{if(!s)return;const g=qh(as(rn,"artifacts",sn,"users",s.uid,"kanban"));return Hh(g,E=>n(E.docs.map(b=>({id:b.id,...b.data()}))),E=>console.error("Kanban error",E))},[s]);const u=async g=>{g.preventDefault(),r.trim()&&(await $l(as(rn,"artifacts",sn,"users",s.uid,"kanban"),{content:r,status:"todo",createdAt:ro()}),o(""))},f=(g,_)=>g.dataTransfer.setData("taskId",_),p=async(g,_)=>{const E=g.dataTransfer.getData("taskId");E&&await qp(Wr(rn,"artifacts",sn,"users",s.uid,"kanban",E),{status:_})};return w.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[w.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:w.jsxs("form",{onSubmit:u,className:"flex gap-3",children:[w.jsxs("div",{className:"flex-1 relative",children:[w.jsx(mT,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),w.jsx("input",{type:"text",value:r,onChange:g=>o(g.target.value),placeholder:"Add a new task...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 rounded-lg border-transparent focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all text-slate-700"})]}),w.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-medium shadow-sm transition-all hover:shadow-md",children:"Add Task"})]})}),w.jsxs("div",{className:"flex-1 flex gap-6 overflow-x-auto pb-4 px-1",children:[w.jsx(hm,{title:"To Do",status:"todo",tasks:t.filter(g=>g.status==="todo"),user:s,onDrop:p,onDragStart:f}),w.jsx(hm,{title:"In Progress",status:"doing",tasks:t.filter(g=>g.status==="doing"),user:s,onDrop:p,onDragStart:f}),w.jsx(hm,{title:"Done",status:"done",tasks:t.filter(g=>g.status==="done"),user:s,onDrop:p,onDragStart:f})]})]})},l4=({user:s})=>{const[t,n]=Ut.useState([]),[r,o]=Ut.useState(null),u=Ut.useRef(null);Ut.useEffect(()=>{if(!s)return;const k=qh(as(rn,"artifacts",sn,"users",s.uid,"notes"),Bp("updatedAt","desc"));return Hh(k,Q=>{n(Q.docs.map(J=>({id:J.id,...J.data()})))})},[s]);const f=t.find(k=>k.id===r)||{title:"",content:"",isCode:!1},p=async()=>{const k=await $l(as(rn,"artifacts",sn,"users",s.uid,"notes"),{title:"",content:"",isCode:!1,updatedAt:ro()});o(k.id)},g=async(k,Q)=>{r&&await qp(Wr(rn,"artifacts",sn,"users",s.uid,"notes",r),{[k]:Q,updatedAt:ro()})},_=async(k,Q)=>{Q.stopPropagation(),await Hp(Wr(rn,"artifacts",sn,"users",s.uid,"notes",k)),r===k&&o(null)},E=()=>{if(!r)return;const k=document.createElement("a"),Q=new Blob([f.content],{type:"text/markdown"});k.href=URL.createObjectURL(Q),k.download=`${f.title||"untitled"}.md`,document.body.appendChild(k),k.click(),document.body.removeChild(k)},b=()=>u.current.click(),I=async k=>{const Q=k.target.files[0];if(!Q)return;const J=new FileReader;J.onload=async W=>{const lt=W.target.result,pt=Q.name.replace(".md","").replace(".txt","");await $l(as(rn,"artifacts",sn,"users",s.uid,"notes"),{title:pt,content:lt,isCode:!1,updatedAt:ro()})},J.readAsText(Q),k.target.value=null};return w.jsxs("div",{className:"h-full flex bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:[w.jsxs("div",{className:"w-64 bg-slate-50 border-r border-slate-200 flex flex-col",children:[w.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-white",children:[w.jsxs("h2",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[w.jsx(xl,{size:18,className:"text-indigo-500"})," Library"]}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("input",{type:"file",ref:u,onChange:I,className:"hidden",accept:".md,.txt"}),w.jsx("button",{onClick:b,className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-500 hover:text-indigo-600 transition-colors",title:"Import Markdown",children:w.jsx(IS,{size:16})}),w.jsx("button",{onClick:p,className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-500 hover:text-indigo-600 transition-colors",children:w.jsx(mT,{size:16})})]})]}),w.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1",children:t.map(k=>w.jsxs("div",{onClick:()=>o(k.id),className:`p-3 rounded-lg cursor-pointer group transition-all ${r===k.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-slate-200":"text-slate-600 hover:bg-white hover:shadow-sm"}`,children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h4",{className:`font-medium truncate text-sm ${k.title?"":"italic opacity-50"}`,children:k.title||"Untitled Note"}),w.jsx("button",{onClick:Q=>_(k.id,Q),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-500 transition-opacity",children:w.jsx(Bm,{size:14})})]}),w.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 flex items-center gap-1",children:[k.isCode?w.jsx(b0,{size:10}):w.jsx(xl,{size:10}),new Date(k.updatedAt?.seconds*1e3||Date.now()).toLocaleDateString()]})]},k.id))})]}),w.jsx("div",{className:"flex-1 flex flex-col h-full bg-white",children:r?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"px-8 py-4 border-b border-slate-100 flex items-center justify-between",children:[w.jsx("div",{className:"flex-1 mr-4",children:w.jsx("input",{value:f.title,onChange:k=>g("title",k.target.value),className:"text-xl font-bold text-slate-800 outline-none w-full bg-transparent placeholder:text-slate-300",placeholder:"Untitled Note"})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:E,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 rounded transition-colors",title:"Export to Markdown",children:w.jsx(Wb,{size:18})}),w.jsx("div",{className:"h-4 w-px bg-slate-200 mx-1"}),w.jsx("button",{onClick:()=>g("isCode",!f.isCode),className:`px-3 py-1.5 rounded-lg flex items-center gap-2 text-xs font-bold tracking-wide transition-colors ${f.isCode?"bg-slate-800 text-green-400":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:f.isCode?w.jsxs(w.Fragment,{children:[w.jsx(b0,{size:14})," CODE"]}):w.jsxs(w.Fragment,{children:[w.jsx(xl,{size:14})," TEXT"]})})]})]}),w.jsx("textarea",{className:`flex-1 w-full p-8 outline-none resize-none leading-relaxed text-base ${f.isCode?"font-mono bg-[#1e1e1e] text-[#d4d4d4]":"bg-white text-slate-600 selection:bg-indigo-100"}`,value:f.content,onChange:k=>g("content",k.target.value),placeholder:f.isCode?"// Type code snippet here...":"Start writing...",spellCheck:!f.isCode})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300",children:[w.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:w.jsx(xl,{size:40})}),w.jsx("p",{className:"font-medium",children:"Select a note to view details"})]})})]})},u4=({user:s})=>{const[t,n]=Ut.useState([]),[r,o]=Ut.useState(""),u=Ut.useMemo(()=>{const b=[];for(let I=6;I>=0;I--){const k=new Date;k.setDate(k.getDate()-I),b.push(k.toISOString().split("T")[0])}return b},[]);Ut.useEffect(()=>{if(!s)return;const b=qh(as(rn,"artifacts",sn,"users",s.uid,"habits"),Bp("createdAt","desc"));return Hh(b,I=>{n(I.docs.map(k=>({id:k.id,...k.data()})))})},[s]);const f=async b=>{b.preventDefault(),r.trim()&&(await $l(as(rn,"artifacts",sn,"users",s.uid,"habits"),{name:r,history:{},createdAt:ro()}),o(""))},p=async(b,I)=>{const k={...b.history};k[I]?delete k[I]:k[I]=!0,await qp(Wr(rn,"artifacts",sn,"users",s.uid,"habits",b.id),{history:k})},g=async b=>{window.confirm("Stop tracking this habit?")&&await Hp(Wr(rn,"artifacts",sn,"users",s.uid,"habits",b))},_=b=>{let I=0;const k=new Date;let Q=new Date(k),J=Q.toISOString().split("T")[0];if(!b[J]&&(Q.setDate(Q.getDate()-1),J=Q.toISOString().split("T")[0],!b[J]))return 0;for(;J=Q.toISOString().split("T")[0],b[J];)I++,Q.setDate(Q.getDate()-1);return I},E=b=>{let I=0;return u.forEach(k=>{b[k]&&I++}),I/7*100};return w.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[w.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[w.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:w.jsx(fm,{size:24})}),w.jsxs("form",{onSubmit:f,className:"flex-1 flex gap-2",children:[w.jsx("input",{type:"text",value:r,onChange:b=>o(b.target.value),placeholder:"What habit do you want to build?",className:"flex-1 px-4 py-2 bg-transparent outline-none text-lg text-slate-700 placeholder:text-slate-300"}),w.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-6 py-2 rounded-xl hover:bg-slate-800 font-medium transition-colors",children:"Add Habit"})]})]}),w.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden flex-1 flex flex-col",children:w.jsx("div",{className:"overflow-x-auto flex-1",children:w.jsxs("table",{className:"w-full min-w-[800px]",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[w.jsx("th",{className:"text-left p-6 text-sm font-bold text-slate-400 uppercase tracking-wider w-1/3",children:"Habit"}),w.jsx("th",{className:"text-left p-6 text-sm font-bold text-slate-400 uppercase tracking-wider w-32",children:"Streak"}),u.map(b=>{const I=new Date(b),k=new Date().toDateString()===I.toDateString();return w.jsx("th",{className:"p-4 text-center w-16",children:w.jsxs("div",{className:`flex flex-col items-center justify-center w-10 h-10 rounded-lg ${k?"bg-indigo-600 text-white shadow-md":""}`,children:[w.jsx("span",{className:`text-[10px] font-bold uppercase ${k?"text-indigo-200":"text-slate-400"}`,children:I.toLocaleDateString("en-US",{weekday:"short"})}),w.jsx("span",{className:`text-sm font-bold ${k?"text-white":"text-slate-600"}`,children:I.getDate()})]})},b)}),w.jsx("th",{className:"w-16"})]})}),w.jsxs("tbody",{children:[t.map(b=>{const I=_(b.history),k=E(b.history);return w.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50/80 transition-colors group",children:[w.jsxs("td",{className:"p-6",children:[w.jsx("div",{className:"font-semibold text-slate-700 text-lg",children:b.name}),w.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[w.jsx("div",{className:"h-1.5 w-24 bg-slate-100 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${k}%`}})}),w.jsxs("span",{className:"text-xs text-slate-400",children:[Math.round(k),"% weekly"]})]})]}),w.jsx("td",{className:"p-6",children:w.jsxs("div",{className:`flex items-center gap-2 font-bold ${I>2?"text-orange-500":"text-slate-400"}`,children:[w.jsx(nS,{size:20,className:`${I>2?"fill-orange-500 animate-pulse":""}`}),I," days"]})}),u.map(Q=>{const J=b.history?.[Q];return w.jsx("td",{className:"p-2 text-center",children:w.jsx("button",{onClick:()=>p(b,Q),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${J?"bg-emerald-500 text-white shadow-lg shadow-emerald-200 scale-105":"bg-slate-100 text-slate-300 hover:bg-slate-200 hover:scale-105"}`,children:J?w.jsx(TS,{size:20}):w.jsx("div",{className:"w-3 h-3 rounded-sm bg-slate-300/50"})})},Q)}),w.jsx("td",{className:"p-2 text-center",children:w.jsx("button",{onClick:()=>g(b.id),className:"p-2 text-slate-300 hover:text-red-400 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:w.jsx(Bm,{size:18})})})]},b.id)}),t.length===0&&w.jsx("tr",{children:w.jsxs("td",{colSpan:10,className:"p-12 text-center text-slate-400",children:[w.jsx(fm,{size:48,className:"mx-auto mb-4 opacity-20"}),w.jsx("p",{children:"No habits tracked yet. Start your journey today!"})]})})]})]})})})]})},c4=()=>{const[s,t]=Ut.useState({pink:0,brown:0,white:0,chimes:0}),[n,r]=Ut.useState(!1);Ut.useEffect(()=>()=>cT.stopAll(),[]);const o=(u,f)=>{const p={...s,[u]:f};t(p),cT.setVolume(u,f)};return w.jsxs("div",{className:"h-full grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 p-8 flex flex-col",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[w.jsx(_S,{size:24,className:"text-indigo-600"})," Ambient Mixer"]}),w.jsx("p",{className:"text-slate-400 mt-2",children:"Mix your own soundscape using generated noise colors."})]}),w.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pr-2",children:[w.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-400"})," Rain (Pink Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(s.pink*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:s.pink,onChange:u=>o("pink",parseFloat(u.target.value)),className:"w-full h-2 bg-slate-200 rounded-full appearance-none cursor-pointer accent-pink-500"})]}),w.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400"})," Wind Chimes"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(s.chimes*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:s.chimes,onChange:u=>o("chimes",parseFloat(u.target.value)),className:"w-full h-2 bg-slate-200 rounded-full appearance-none cursor-pointer accent-indigo-500"})]}),w.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-700"})," River (Brown Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(s.brown*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:s.brown,onChange:u=>o("brown",parseFloat(u.target.value)),className:"w-full h-2 bg-slate-200 rounded-full appearance-none cursor-pointer accent-amber-700"})]}),w.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"})," Static (White Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(s.white*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.1",step:"0.01",value:s.white,onChange:u=>o("white",parseFloat(u.target.value)),className:"w-full h-2 bg-slate-200 rounded-full appearance-none cursor-pointer accent-slate-400"})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-6",children:[w.jsx("div",{className:"bg-black rounded-3xl shadow-xl overflow-hidden relative group h-[400px] border border-white/10",children:w.jsx("iframe",{width:"100%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:`https://w.soundcloud.com/player/?url=${encodeURIComponent("https://soundcloud.com/chillhopdotcom/sets/lofihiphop")}&color=%236366f1&auto_play=false&hide_related=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=true&visual=true`,className:"h-full w-full",title:"Chillhop SoundCloud"})}),w.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-8 text-white shadow-lg flex-1 flex flex-col justify-center items-center text-center relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10",children:w.jsxs("svg",{width:"100%",height:"100%",children:[w.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:w.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"white",strokeWidth:"1"})}),w.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),w.jsxs("div",{className:"relative z-10",children:[w.jsx(aS,{size:48,className:"mb-4 mx-auto opacity-80"}),w.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Focus Mode Active"}),w.jsx("p",{className:"text-indigo-200 max-w-xs mx-auto",children:"Combine the ambient noise on the left with the music above for deep focus."})]})]})]})]})},h4=()=>{const[s,t]=Ut.useState(null),[n,r]=Ut.useState("pomodoro"),[o,u]=Ut.useState(!0),f=1500,p=300,[g,_]=Ut.useState(f),[E,b]=Ut.useState(!1),[I,k]=Ut.useState("work"),[Q,J]=Ut.useState(.5),[W,lt]=Ut.useState(!1),[pt,ft]=Ut.useState(0);Ut.useEffect(()=>((async()=>{try{if(typeof __initial_auth_token<"u"&&__initial_auth_token)await wI(cm,__initial_auth_token);else{const D=new is;await YI(cm,D)}}catch(D){console.error("Auth failed",D)}})(),CI(cm,D=>{t(D),u(!1)})),[]),Ut.useEffect(()=>{if(!s)return;const R=qh(as(rn,"artifacts",sn,"users",s.uid,"pomodoro_sessions"),Bp("completedAt","desc"));return Hh(R,D=>{const L=new Date().toDateString(),C=D.docs.filter(te=>{const ce=te.data().completedAt?.toDate();return ce&&ce.toDateString()===L}).length;ft(C)},D=>{console.error("Error fetching pomodoro sessions:",D)})},[s]),Ut.useEffect(()=>{let R=null;return E&&g>0?R=setInterval(()=>_(V=>V-1),1e3):g===0&&E&&qt(),()=>clearInterval(R)},[E,g]);const qt=async()=>{b(!1),uT(Q,"complete"),I==="work"&&(lt(!0),setTimeout(()=>lt(!1),3e3),s&&await $l(as(rn,"artifacts",sn,"users",s.uid,"pomodoro_sessions"),{completedAt:ro(),duration:25,mode:"work"}))},Yt=()=>{E||uT(Q,"click"),b(!E)},Ot=()=>{b(!1),_(I==="work"?f:p)},N=R=>{k(R),b(!1),_(R==="work"?f:p)};if(o)return w.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 text-slate-400 space-y-4",children:[w.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),w.jsx("p",{className:"font-medium animate-pulse",children:"Loading your workspace..."})]});if(!s)return w.jsx("div",{className:"h-screen flex items-center justify-center",children:"Please refresh to sign in."});const S=()=>{switch(n){case"pomodoro":return w.jsx(a4,{timeLeft:g,isActive:E,mode:I,toggleTimer:Yt,resetTimer:Ot,switchMode:N,volume:Q,setVolume:J,dailyCount:pt});case"kanban":return w.jsx(o4,{user:s});case"notes":return w.jsx(l4,{user:s});case"habits":return w.jsx(u4,{user:s});case"sounds":return w.jsx(c4,{});default:return null}};return w.jsxs("div",{className:"flex h-screen bg-[#f8fafc] font-sans text-slate-900 overflow-hidden selection:bg-indigo-100 selection:text-indigo-900",children:[w.jsx(s4,{isActive:W}),w.jsxs("div",{className:"w-24 bg-white flex flex-col items-center py-8 space-y-8 shadow-2xl z-20 border-r border-slate-100",children:[w.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl text-white shadow-lg shadow-indigo-200",children:w.jsx(fS,{size:28})}),w.jsxs("nav",{className:"flex-1 flex flex-col gap-6 w-full px-3",children:[w.jsx(Cl,{icon:pT,label:"Focus",active:n==="pomodoro",onClick:()=>r("pomodoro")}),w.jsx(Cl,{icon:fm,label:"Habits",active:n==="habits",onClick:()=>r("habits")}),w.jsx(Cl,{icon:sS,label:"Kanban",active:n==="kanban",onClick:()=>r("kanban")}),w.jsx(Cl,{icon:xl,label:"Notes",active:n==="notes",onClick:()=>r("notes")}),w.jsx(Cl,{icon:cS,label:"Sounds",active:n==="sounds",onClick:()=>r("sounds")})]}),w.jsx("div",{className:"mt-auto",children:w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-400 hover:text-indigo-600 transition-colors cursor-pointer shadow-sm",title:`User: ${s.uid}`,children:w.jsx(xS,{size:20})})})]}),w.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-slate-50/50",children:[w.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-slate-200/60 flex items-center px-10 justify-between sticky top-0 z-10",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-800 capitalize tracking-tight",children:n==="sounds"?"Focus Sounds":n}),w.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:" Productivity Dashboard v2.1"})]}),w.jsxs("div",{className:"flex items-center gap-3 text-xs font-semibold bg-slate-100 px-3 py-1.5 rounded-full text-slate-500",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Syncing to Cloud"]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-8 scroll-smooth",children:w.jsx("div",{className:"max-w-7xl mx-auto h-full",children:S()})}),n!=="pomodoro"&&w.jsx(r4,{timeLeft:g,isActive:E,mode:I,toggleTimer:Yt,onExpand:()=>r("pomodoro")})]})]})},Cl=({icon:s,label:t,active:n,onClick:r})=>w.jsxs("button",{onClick:r,className:`w-full aspect-square flex flex-col items-center justify-center rounded-2xl transition-all duration-300 group relative ${n?"bg-indigo-50 text-indigo-600 shadow-inner":"text-slate-400 hover:bg-white hover:shadow-md hover:text-slate-600 hover:-translate-y-0.5"}`,children:[w.jsx(s,{size:26,className:`mb-1 transition-transform duration-300 ${n?"scale-110":"group-hover:scale-110"}`,strokeWidth:n?2.5:2}),w.jsx("span",{className:"text-[10px] font-bold tracking-wide absolute -bottom-8 opacity-0 group-hover:opacity-100 transition-all bg-slate-800 text-white px-2 py-1 rounded-lg z-50 pointer-events-none shadow-xl translate-y-2 group-hover:translate-y-0",children:t})]});Fb.createRoot(document.getElementById("root")).render(w.jsx(Ut.StrictMode,{children:w.jsx(h4,{})}));
