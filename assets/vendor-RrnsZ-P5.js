var $f={exports:{}},no={};var t_;function eA(){if(t_)return no;t_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var e_;function nA(){return e_||(e_=1,$f.exports=eA()),$f.exports}var bw=nA(),Wf={exports:{}},gt={};var n_;function iA(){if(n_)return gt;n_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),B=Symbol.iterator;function X(V){return V===null||typeof V!="object"?null:(V=B&&V[B]||V["@@iterator"],typeof V=="function"?V:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ft(V,Q,tt){this.props=V,this.context=Q,this.refs=J,this.updater=tt||$}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function St(){}St.prototype=ft.prototype;function yt(V,Q,tt){this.props=V,this.context=Q,this.refs=J,this.updater=tt||$}var Zt=yt.prototype=new St;Zt.constructor=yt,et(Zt,ft.prototype),Zt.isPureReactComponent=!0;var $t=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(V,Q,tt){var rt=tt.ref;return{$$typeof:a,type:V,key:Q,ref:rt!==void 0?rt:null,props:tt}}function O(V,Q){return I(V.type,Q,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function U(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return Q[tt]})}var R=/\/+/g;function ie(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Q.toString(36)}function Ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ut,Ut):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function j(V,Q,tt,rt,dt){var Tt=typeof V;(Tt==="undefined"||Tt==="boolean")&&(V=null);var Ot=!1;if(V===null)Ot=!0;else switch(Tt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(V.$$typeof){case a:case e:Ot=!0;break;case A:return Ot=V._init,j(Ot(V._payload),Q,tt,rt,dt)}}if(Ot)return dt=dt(V),Ot=rt===""?"."+ie(V,0):rt,$t(dt)?(tt="",Ot!=null&&(tt=Ot.replace(R,"$&/")+"/"),j(dt,Q,tt,"",function(Qr){return Qr})):dt!=null&&(N(dt)&&(dt=O(dt,tt+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(R,"$&/")+"/")+Ot)),Q.push(dt)),1;Ot=0;var De=rt===""?".":rt+":";if($t(V))for(var re=0;re<V.length;re++)rt=V[re],Tt=De+ie(rt,re),Ot+=j(rt,Q,tt,Tt,dt);else if(re=X(V),typeof re=="function")for(V=re.call(V),re=0;!(rt=V.next()).done;)rt=rt.value,Tt=De+ie(rt,re++),Ot+=j(rt,Q,tt,Tt,dt);else if(Tt==="object"){if(typeof V.then=="function")return j(Ce(V),Q,tt,rt,dt);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function W(V,Q,tt){if(V==null)return V;var rt=[],dt=0;return j(V,rt,"","",function(Tt){return Q.call(tt,Tt,dt++)}),rt}function ut(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var xt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qt={map:W,forEach:function(V,Q,tt){W(V,function(){Q.apply(this,arguments)},tt)},count:function(V){var Q=0;return W(V,function(){Q++}),Q},toArray:function(V){return W(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return gt.Activity=b,gt.Children=qt,gt.Component=ft,gt.Fragment=i,gt.Profiler=o,gt.PureComponent=yt,gt.StrictMode=s,gt.Suspense=v,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,gt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},gt.cache=function(V){return function(){return V.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(V,Q,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=et({},V.props),dt=V.key;if(Q!=null)for(Tt in Q.key!==void 0&&(dt=""+Q.key),Q)!S.call(Q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Q.ref===void 0||(rt[Tt]=Q[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=tt;else if(1<Tt){for(var Ot=Array(Tt),De=0;De<Tt;De++)Ot[De]=arguments[De+2];rt.children=Ot}return I(V.type,dt,rt)},gt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},gt.createElement=function(V,Q,tt){var rt,dt={},Tt=null;if(Q!=null)for(rt in Q.key!==void 0&&(Tt=""+Q.key),Q)S.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=Q[rt]);var Ot=arguments.length-2;if(Ot===1)dt.children=tt;else if(1<Ot){for(var De=Array(Ot),re=0;re<Ot;re++)De[re]=arguments[re+2];dt.children=De}if(V&&V.defaultProps)for(rt in Ot=V.defaultProps,Ot)dt[rt]===void 0&&(dt[rt]=Ot[rt]);return I(V,Tt,dt)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(V){return{$$typeof:y,render:V}},gt.isValidElement=N,gt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ut}},gt.memo=function(V,Q){return{$$typeof:_,type:V,compare:Q===void 0?null:Q}},gt.startTransition=function(V){var Q=C.T,tt={};C.T=tt;try{var rt=V(),dt=C.S;dt!==null&&dt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,xt)}catch(Tt){xt(Tt)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),C.T=Q}},gt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},gt.use=function(V){return C.H.use(V)},gt.useActionState=function(V,Q,tt){return C.H.useActionState(V,Q,tt)},gt.useCallback=function(V,Q){return C.H.useCallback(V,Q)},gt.useContext=function(V){return C.H.useContext(V)},gt.useDebugValue=function(){},gt.useDeferredValue=function(V,Q){return C.H.useDeferredValue(V,Q)},gt.useEffect=function(V,Q){return C.H.useEffect(V,Q)},gt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},gt.useId=function(){return C.H.useId()},gt.useImperativeHandle=function(V,Q,tt){return C.H.useImperativeHandle(V,Q,tt)},gt.useInsertionEffect=function(V,Q){return C.H.useInsertionEffect(V,Q)},gt.useLayoutEffect=function(V,Q){return C.H.useLayoutEffect(V,Q)},gt.useMemo=function(V,Q){return C.H.useMemo(V,Q)},gt.useOptimistic=function(V,Q){return C.H.useOptimistic(V,Q)},gt.useReducer=function(V,Q,tt){return C.H.useReducer(V,Q,tt)},gt.useRef=function(V){return C.H.useRef(V)},gt.useState=function(V){return C.H.useState(V)},gt.useSyncExternalStore=function(V,Q,tt){return C.H.useSyncExternalStore(V,Q,tt)},gt.useTransition=function(){return C.H.useTransition()},gt.version="19.2.0",gt}var i_;function Pd(){return i_||(i_=1,Wf.exports=iA()),Wf.exports}var oo=Pd(),td={exports:{}},io={},ed={exports:{}},nd={};var r_;function rA(){return r_||(r_=1,(function(a){function e(j,W){var ut=j.length;j.push(W);t:for(;0<ut;){var xt=ut-1>>>1,qt=j[xt];if(0<o(qt,W))j[xt]=W,j[ut]=qt,ut=xt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var W=j[0],ut=j.pop();if(ut!==W){j[0]=ut;t:for(var xt=0,qt=j.length,V=qt>>>1;xt<V;){var Q=2*(xt+1)-1,tt=j[Q],rt=Q+1,dt=j[rt];if(0>o(tt,ut))rt<qt&&0>o(dt,tt)?(j[xt]=dt,j[rt]=ut,xt=rt):(j[xt]=tt,j[Q]=ut,xt=Q);else if(rt<qt&&0>o(dt,ut))j[xt]=dt,j[rt]=ut,xt=rt;else break t}}return W}function o(j,W){var ut=j.sortIndex-W.sortIndex;return ut!==0?ut:j.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,B=3,X=!1,$=!1,et=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Zt(j){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=j)s(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function $t(j){if(et=!1,Zt(j),!$)if(i(v)!==null)$=!0,Ut||(Ut=!0,U());else{var W=i(_);W!==null&&Ce($t,W.startTime-j)}}var Ut=!1,C=-1,S=5,I=-1;function O(){return J?!0:!(a.unstable_now()-I<S)}function N(){if(J=!1,Ut){var j=a.unstable_now();I=j;var W=!0;try{t:{$=!1,et&&(et=!1,St(C),C=-1),X=!0;var ut=B;try{e:{for(Zt(j),b=i(v);b!==null&&!(b.expirationTime>j&&O());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,B=b.priorityLevel;var qt=xt(b.expirationTime<=j);if(j=a.unstable_now(),typeof qt=="function"){b.callback=qt,Zt(j),W=!0;break e}b===i(v)&&s(v),Zt(j)}else s(v);b=i(v)}if(b!==null)W=!0;else{var V=i(_);V!==null&&Ce($t,V.startTime-j),W=!1}}break t}finally{b=null,B=ut,X=!1}W=void 0}}finally{W?U():Ut=!1}}}var U;if(typeof yt=="function")U=function(){yt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){ft(N,0)};function Ce(j,W){C=ft(function(){j(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return B},a.unstable_next=function(j){switch(B){case 1:case 2:case 3:var W=3;break;default:W=B}var ut=B;B=W;try{return j()}finally{B=ut}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ut=B;B=j;try{return W()}finally{B=ut}},a.unstable_scheduleCallback=function(j,W,ut){var xt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,j){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,j={id:A++,callback:W,priorityLevel:j,startTime:ut,expirationTime:qt,sortIndex:-1},ut>xt?(j.sortIndex=ut,e(_,j),i(v)===null&&j===i(_)&&(et?(St(C),C=-1):et=!0,Ce($t,ut-xt))):(j.sortIndex=qt,e(v,j),$||X||($=!0,Ut||(Ut=!0,U()))),j},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(j){var W=B;return function(){var ut=B;B=W;try{return j.apply(this,arguments)}finally{B=ut}}}})(nd)),nd}var s_;function sA(){return s_||(s_=1,ed.exports=rA()),ed.exports}var id={exports:{}},Qe={};var a_;function aA(){if(a_)return Qe;a_=1;var a=Pd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),B=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:B,fetchPriority:X}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:B,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var l_;function lA(){if(l_)return id.exports;l_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),id.exports=aA(),id.exports}var o_;function oA(){if(o_)return io;o_=1;var a=sA(),e=Pd(),i=lA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===r){g=!0,r=c,l=f;break}if(T===l){g=!0,l=c,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=c;break}if(T===l){g=!0,l=f,r=c;break}T=T.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,B=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Zt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case $t:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case yt:return t.displayName||"Context";case St:return(t._context.displayName||"Context")+".Consumer";case Zt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ce=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],qt=-1;function V(t){return{current:t}}function Q(t){0>qt||(t.current=xt[qt],xt[qt]=null,qt--)}function tt(t,n){qt++,xt[qt]=t.current,t.current=n}var rt=V(null),dt=V(null),Tt=V(null),Ot=V(null);function De(t,n){switch(tt(Tt,n),tt(dt,t),tt(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sy(n),t=by(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(rt),tt(rt,t)}function re(){Q(rt),Q(dt),Q(Tt)}function Qr(t){t.memoizedState!==null&&tt(Ot,t);var n=rt.current,r=by(n,t.type);n!==r&&(tt(dt,t),tt(rt,r))}function ks(t){dt.current===t&&(Q(rt),Q(dt)),Ot.current===t&&(Q(Ot),$l._currentValue=ut)}var zs,Ps;function Zn(t){if(zs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zs=n&&n[1]||"",Ps=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+t+Ps}var $a=!1;function Yr(t,n){if(!t||$a)return"";$a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var z=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){z=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){z=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var w=g.split(`
`),k=T.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===k.length)for(l=w.length-1,c=k.length-1;1<=l&&0<=c&&w[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==k[c]){var H=`
`+w[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{$a=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Zn(r):""}function Wa(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Yr(t.type,!1);case 11:return Yr(t.type.render,!1);case 1:return Yr(t.type,!0);case 31:return Zn("Activity");default:return""}}function tl(t){try{var n="",r=null;do n+=Wa(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,Xi=a.unstable_cancelCallback,Wc=a.unstable_shouldYield,xo=a.unstable_requestPaint,Ze=a.unstable_now,Kr=a.unstable_getCurrentPriorityLevel,el=a.unstable_ImmediatePriority,nl=a.unstable_UserBlockingPriority,Zi=a.unstable_NormalPriority,th=a.unstable_LowPriority,Lo=a.unstable_IdlePriority,ko=a.log,zo=a.unstable_setDisableYieldValue,Un=null,ke=null;function Tn(t){if(typeof ko=="function"&&zo(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,t)}catch{}}var ce=Math.clz32?Math.clz32:Bo,Po=Math.log,Bs=Math.LN2;function Bo(t){return t>>>=0,t===0?32:31-(Po(t)/Bs|0)|0}var Jn=256,Xr=262144,pe=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=$n(l):(g&=T,g!==0?c=$n(g):r||(r=T&~t,r!==0&&(c=$n(r))))):(T=l&~f,T!==0?c=$n(T):g!==0?c=$n(g):r||(r=l&~t,r!==0&&(c=$n(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function eh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function ti(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Zr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nh(t,n,r,l,c,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,k=t.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ce(r),F=1<<H;T[H]=0,w[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Jr(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Jr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function il(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ce(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function rl(t,n){var r=n&-n;return r=(r&42)!==0?1:$r(r),(r&(t.suspendedLanes|n))!==0?0:r}function $r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ho(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function Ln(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ei="__reactContainer$"+kn,qs="__reactEvents$"+kn,ih="__reactListeners$"+kn,jo="__reactHandles$"+kn,Go="__reactResources$"+kn,ni="__reactMarker$"+kn;function Hs(t){delete t[ye],delete t[Me],delete t[qs],delete t[ih],delete t[jo]}function ii(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ei]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Vy(t);t!==null;){if(r=t[ye])return r;t=Vy(t)}return n}t=r,r=t.parentNode}return null}function En(t){if(t=t[ye]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ri(t){var n=t[Go];return n||(n=t[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ni]=!0}var sl=new Set,al={};function si(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(al[t]=n,t=0;t<n.length;t++)sl.add(n[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ul={};function Fo(t){return ge.call(ul,t)?!0:ge.call(ol,t)?!1:ll.test(t)?ul[t]=!0:(ol[t]=!0,!1)}function js(t,n,r){if(Fo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function hn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ve(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Ji(t)?"checked":"value";t._valueTracker=cl(t,n,""+t[n])}}function Wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ts=/[\n"\\]/g;function We(t){return t.replace(ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gs(t,n,r,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ue(n)):t.value!==""+Ue(n)&&(t.value=""+Ue(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?hl(t,g,Ue(n)):r!=null?hl(t,g,Ue(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ue(T):t.removeAttribute("name")}function Qo(t,n,r,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(t);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function hl(t,n,r){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function $i(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yo(t,n,r){if(n!=null&&(n=""+Ue(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ue(r):""}function Wi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ue(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ht(t)}function tn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Ko.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function dl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fl(t,f,n[f])}function Fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var ml=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var er=null,oi=null;function es(t){var n=En(t);if(n&&(t=n.stateNode)){var r=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Gs(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Gs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Wr(l)}break t;case"textarea":Yo(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&$i(t,!!r.multiple,n,!1)}}}var Ys=!1;function nr(t,n,r){if(Ys)return t(n,r);Ys=!0;try{var l=t(n);return l}finally{if(Ys=!1,(er!==null||oi!==null)&&(Hu(),er&&(n=er,t=oi,oi=er=null,es(n),t)))for(n=0;n<t.length;n++)es(t[n])}}function Pn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(Sn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{ns=!1}var ui=null,gl=null,is=null;function pl(){if(is)return is;var t,n=gl,r=n.length,l,c="value"in ui?ui.value:ui.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[f-l];l++);return is=c.slice(t,1<l?1-l:void 0)}function rs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Bn(){return!1}function ze(t){function n(r,l,c,f,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ze(Ii),ir=b({},Ii,{view:0,detail:0}),yl=ze(ir),rr,Ks,hi,Xs=b({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(rr=t.screenX-hi.screenX,Ks=t.screenY-hi.screenY):Ks=rr=0,hi=t),rr)},movementY:function(t){return"movementY"in t?t.movementY:Ks}}),_l=ze(Xs),ss=b({},Xs,{dataTransfer:0}),Zo=ze(ss),Jo=b({},ir,{relatedTarget:0}),as=ze(Jo),vl=b({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=ze(vl),Zs=b({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wo=ze(Zs),tu=b({},Ii,{data:0}),fi=ze(tu),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=iu[t])?!!n[t]:!1}function sr(){return ru}var Je=b({},ir,{key:function(t){if(t.key){var n=eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),su=ze(Je),au=b({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=ze(au),u=b({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),m=ze(u),p=b({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=ze(p),x=b({},Xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=ze(x),Z=b({},Ii,{newState:0,oldState:0}),_t=ze(Z),he=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,di=Sn&&(!zt||se&&8<se&&11>=se),qn=" ",Hn=!1;function ls(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function R0(t,n){switch(t){case"compositionend":return Js(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return t=n.data,t===qn&&Hn?null:t;default:return null}}function w0(t,n){if($s)return t==="compositionend"||!zt&&ls(t,n)?(t=pl(),is=gl=ui=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!I0[t.type]:n==="textarea"}function xm(t,n,r,l){er?oi?oi.push(l):oi=[l]:er=l,n=Xu(n,"onChange"),0<n.length&&(r=new ci("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Tl=null,El=null;function C0(t){yy(t,0)}function lu(t){var n=cn(t);if(Wr(n))return t}function Lm(t,n){if(t==="change")return n}var km=!1;if(Sn){var rh;if(Sn){var sh="oninput"in document;if(!sh){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),sh=typeof zm.oninput=="function"}rh=sh}else rh=!1;km=rh&&(!document.documentMode||9<document.documentMode)}function Pm(){Tl&&(Tl.detachEvent("onpropertychange",Bm),El=Tl=null)}function Bm(t){if(t.propertyName==="value"&&lu(El)){var n=[];xm(n,El,t,An(t)),nr(C0,n)}}function D0(t,n,r){t==="focusin"?(Pm(),Tl=n,El=r,Tl.attachEvent("onpropertychange",Bm)):t==="focusout"&&Pm()}function N0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(El)}function V0(t,n){if(t==="click")return lu(n)}function O0(t,n){if(t==="input"||t==="change")return lu(n)}function M0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:M0;function Al(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!ge.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,n){var r=qm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=qm(r)}}function jm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=li(t.document)}return n}function ah(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U0=Sn&&"documentMode"in document&&11>=document.documentMode,Ws=null,lh=null,Sl=null,oh=!1;function Fm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oh||Ws==null||Ws!==li(l)||(l=Ws,"selectionStart"in l&&ah(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=Xu(lh,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ws)))}function os(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ta={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},uh={},Qm={};Sn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function us(t){if(uh[t])return uh[t];if(!ta[t])return t;var n=ta[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Qm)return uh[t]=n[r];return t}var Ym=us("animationend"),Km=us("animationiteration"),Xm=us("animationstart"),x0=us("transitionrun"),L0=us("transitionstart"),k0=us("transitioncancel"),Zm=us("transitionend"),Jm=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function jn(t,n){Jm.set(t,n),si(n,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],ea=0,hh=0;function uu(){for(var t=ea,n=hh=ea=0;n<t;){var r=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&$m(r,c,f)}}function cu(t,n,r,l){Rn[ea++]=t,Rn[ea++]=n,Rn[ea++]=r,Rn[ea++]=l,hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fh(t,n,r,l){return cu(t,n,r,l),hu(t)}function cs(t,n){return cu(t,null,null,n),hu(t)}function $m(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function hu(t){if(50<Fl)throw Fl=0,Af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var na={};function z0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,r,l){return new z0(t,n,r,l)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var r=t.alternate;return r===null?(r=dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Wm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fu(t,n,r,l,c,f){var g=0;if(l=t,typeof t=="function")dh(t)&&(g=1);else if(typeof t=="string")g=jE(t,r,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=dn(31,r,n,c),t.elementType=I,t.lanes=f,t;case et:return hs(r.children,c,f,n);case J:g=8,c|=24;break;case ft:return t=dn(12,r,n,c|2),t.elementType=ft,t.lanes=f,t;case $t:return t=dn(13,r,n,c),t.elementType=$t,t.lanes=f,t;case Ut:return t=dn(19,r,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yt:g=10;break t;case St:g=9;break t;case Zt:g=11;break t;case C:g=14;break t;case S:g=16,l=null;break t}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function hs(t,n,r,l){return t=dn(7,t,l,n),t.lanes=r,t}function mh(t,n,r){return t=dn(6,t,null,n),t.lanes=r,t}function tg(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function gh(t,n,r){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var eg=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var r=eg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:tl(n)},eg.set(t,n),n)}return{value:t,source:n,stack:tl(n)}}var ia=[],ra=0,du=null,bl=0,In=[],Cn=0,ar=null,mi=1,gi="";function Ni(t,n){ia[ra++]=bl,ia[ra++]=du,du=t,bl=n}function ng(t,n,r){In[Cn++]=mi,In[Cn++]=gi,In[Cn++]=ar,ar=t;var l=mi;t=gi;var c=32-ce(l)-1;l&=~(1<<c),r+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,mi=1<<32-ce(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function ph(t){t.return!==null&&(Ni(t,1),ng(t,1,0))}function yh(t){for(;t===du;)du=ia[--ra],ia[ra]=null,bl=ia[--ra],ia[ra]=null;for(;t===ar;)ar=In[--Cn],In[Cn]=null,gi=In[--Cn],In[Cn]=null,mi=In[--Cn],In[Cn]=null}function ig(t,n){In[Cn++]=mi,In[Cn++]=gi,In[Cn++]=ar,mi=n.id,gi=n.overflow,ar=t}var Pe=null,Wt=null,Vt=!1,lr=null,Dn=!1,_h=Error(s(519));function or(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(wn(n,t)),_h}function rg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Me]=l,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<Yl.length;r++)Rt(Yl[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Wi(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ey(n.textContent,r)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||or(t,!0)}function sg(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Pe=Pe.return}}function sa(t){if(t!==Pe)return!1;if(!Vt)return sg(t),Vt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||kf(t.type,t.memoizedProps)),r=!r),r&&Wt&&or(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Ny(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Ny(t)}else n===27?(n=Wt,Ar(t.type)?(t=Hf,Hf=null,Wt=t):Wt=n):Wt=Pe?Vn(t.stateNode.nextSibling):null;return!0}function fs(){Wt=Pe=null,Vt=!1}function vh(){var t=lr;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),lr=null),t}function Rl(t){lr===null?lr=[t]:lr.push(t)}var Th=V(null),ds=null,Vi=null;function ur(t,n,r){tt(Th,n._currentValue),n._currentValue=r}function Oi(t){t._currentValue=Th.current,Q(Th)}function Eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Ah(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Eh(f.return,r,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Eh(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function aa(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var T=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}c=c.return}t!==null&&Ah(n,t,r,l),n.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return ag(ds,t)}function gu(t,n){return ds===null&&ms(t),ag(t,n)}function ag(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return r}var P0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},B0=a.unstable_scheduleCallback,q0=a.unstable_NormalPriority,Te={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new P0,data:new Map,refCount:0}}function wl(t){t.refCount--,t.refCount===0&&B0(q0,function(){t.controller.abort()})}var Il=null,bh=0,la=0,oa=null;function H0(t,n){if(Il===null){var r=Il=[];bh=0,la=Cf(),oa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return bh++,n.then(lg,lg),n}function lg(){if(--bh===0&&Il!==null){oa!==null&&(oa.status="fulfilled");var t=Il;Il=null,la=0,oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function j0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var og=j.S;j.S=function(t,n){Fp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&H0(t,n),og!==null&&og(t,n)};var gs=V(null);function Rh(){var t=gs.current;return t!==null?t:Xt.pooledCache}function pu(t,n){n===null?tt(gs,gs.current):tt(gs,n.pool)}function ug(){var t=Rh();return t===null?null:{parent:Te._currentValue,pool:t}}var ua=Error(s(460)),wh=Error(s(474)),yu=Error(s(542)),_u={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw ys=n,ua}}function ps(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ys=r,ua):r}}var ys=null;function fg(){if(ys===null)throw Error(s(459));var t=ys;return ys=null,t}function dg(t){if(t===ua||t===yu)throw Error(s(483))}var ca=null,Cl=0;function vu(t){var n=Cl;return Cl+=1,ca===null&&(ca=[]),hg(ca,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===B?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(M,D){if(t){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function r(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=Di(M,D),M.index=0,M.sibling=null,M}function f(M,D,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function T(M,D,L,G){return D===null||D.tag!==6?(D=mh(L,M.mode,G),D.return=M,D):(D=c(D,L),D.return=M,D)}function w(M,D,L,G){var lt=L.type;return lt===et?H(M,D,L.props.children,G,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ps(lt)===D.type)?(D=c(D,L.props),Dl(D,L),D.return=M,D):(D=fu(L.type,L.key,L.props,null,M.mode,G),Dl(D,L),D.return=M,D)}function k(M,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=gh(L,M.mode,G),D.return=M,D):(D=c(D,L.children||[]),D.return=M,D)}function H(M,D,L,G,lt){return D===null||D.tag!==7?(D=hs(L,M.mode,G,lt),D.return=M,D):(D=c(D,L),D.return=M,D)}function F(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=mh(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return L=fu(D.type,D.key,D.props,null,M.mode,L),Dl(L,D),L.return=M,L;case $:return D=gh(D,M.mode,L),D.return=M,D;case S:return D=ps(D),F(M,D,L)}if(Ce(D)||U(D))return D=hs(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return F(M,vu(D),L);if(D.$$typeof===yt)return F(M,gu(M,D),L);Tu(M,D)}return null}function z(M,D,L,G){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:T(M,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case X:return L.key===lt?w(M,D,L,G):null;case $:return L.key===lt?k(M,D,L,G):null;case S:return L=ps(L),z(M,D,L,G)}if(Ce(L)||U(L))return lt!==null?null:H(M,D,L,G,null);if(typeof L.then=="function")return z(M,D,vu(L),G);if(L.$$typeof===yt)return z(M,D,gu(M,L),G);Tu(M,L)}return null}function q(M,D,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,T(D,M,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return M=M.get(G.key===null?L:G.key)||null,w(D,M,G,lt);case $:return M=M.get(G.key===null?L:G.key)||null,k(D,M,G,lt);case S:return G=ps(G),q(M,D,L,G,lt)}if(Ce(G)||U(G))return M=M.get(L)||null,H(D,M,G,lt,null);if(typeof G.then=="function")return q(M,D,L,vu(G),lt);if(G.$$typeof===yt)return q(M,D,L,gu(D,G),lt);Tu(D,G)}return null}function st(M,D,L,G){for(var lt=null,Lt=null,at=D,Et=D=0,It=null;at!==null&&Et<L.length;Et++){at.index>Et?(It=at,at=null):It=at.sibling;var kt=z(M,at,L[Et],G);if(kt===null){at===null&&(at=It);break}t&&at&&kt.alternate===null&&n(M,at),D=f(kt,D,Et),Lt===null?lt=kt:Lt.sibling=kt,Lt=kt,at=It}if(Et===L.length)return r(M,at),Vt&&Ni(M,Et),lt;if(at===null){for(;Et<L.length;Et++)at=F(M,L[Et],G),at!==null&&(D=f(at,D,Et),Lt===null?lt=at:Lt.sibling=at,Lt=at);return Vt&&Ni(M,Et),lt}for(at=l(at);Et<L.length;Et++)It=q(at,M,Et,L[Et],G),It!==null&&(t&&It.alternate!==null&&at.delete(It.key===null?Et:It.key),D=f(It,D,Et),Lt===null?lt=It:Lt.sibling=It,Lt=It);return t&&at.forEach(function(Ir){return n(M,Ir)}),Vt&&Ni(M,Et),lt}function ct(M,D,L,G){if(L==null)throw Error(s(151));for(var lt=null,Lt=null,at=D,Et=D=0,It=null,kt=L.next();at!==null&&!kt.done;Et++,kt=L.next()){at.index>Et?(It=at,at=null):It=at.sibling;var Ir=z(M,at,kt.value,G);if(Ir===null){at===null&&(at=It);break}t&&at&&Ir.alternate===null&&n(M,at),D=f(Ir,D,Et),Lt===null?lt=Ir:Lt.sibling=Ir,Lt=Ir,at=It}if(kt.done)return r(M,at),Vt&&Ni(M,Et),lt;if(at===null){for(;!kt.done;Et++,kt=L.next())kt=F(M,kt.value,G),kt!==null&&(D=f(kt,D,Et),Lt===null?lt=kt:Lt.sibling=kt,Lt=kt);return Vt&&Ni(M,Et),lt}for(at=l(at);!kt.done;Et++,kt=L.next())kt=q(at,M,Et,kt.value,G),kt!==null&&(t&&kt.alternate!==null&&at.delete(kt.key===null?Et:kt.key),D=f(kt,D,Et),Lt===null?lt=kt:Lt.sibling=kt,Lt=kt);return t&&at.forEach(function(tA){return n(M,tA)}),Vt&&Ni(M,Et),lt}function Kt(M,D,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case X:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===et){if(D.tag===7){r(M,D.sibling),G=c(D,L.props.children),G.return=M,M=G;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ps(lt)===D.type){r(M,D.sibling),G=c(D,L.props),Dl(G,L),G.return=M,M=G;break t}r(M,D);break}else n(M,D);D=D.sibling}L.type===et?(G=hs(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=fu(L.type,L.key,L.props,null,M.mode,G),Dl(G,L),G.return=M,M=G)}return g(M);case $:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(M,D.sibling),G=c(D,L.children||[]),G.return=M,M=G;break t}else{r(M,D);break}else n(M,D);D=D.sibling}G=gh(L,M.mode,G),G.return=M,M=G}return g(M);case S:return L=ps(L),Kt(M,D,L,G)}if(Ce(L))return st(M,D,L,G);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ct(M,D,L,G)}if(typeof L.then=="function")return Kt(M,D,vu(L),G);if(L.$$typeof===yt)return Kt(M,D,gu(M,L),G);Tu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(M,D.sibling),G=c(D,L),G.return=M,M=G):(r(M,D),G=mh(L,M.mode,G),G.return=M,M=G),g(M)):r(M,D)}return function(M,D,L,G){try{Cl=0;var lt=Kt(M,D,L,G);return ca=null,lt}catch(at){if(at===ua||at===yu)throw at;var Lt=dn(29,at,null,M.mode);return Lt.lanes=G,Lt.return=M,Lt}finally{}}}var _s=mg(!0),gg=mg(!1),cr=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=hu(t),$m(t,null,r),n}return cu(t,l,n,r),hu(t)}function Nl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,il(t,r)}}function Dh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Nh=!1;function Vl(){if(Nh){var t=oa;if(t!==null)throw t}}function Ol(t,n,r,l){Nh=!1;var c=t.updateQueue;cr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var w=T,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==g&&(T===null?H.firstBaseUpdate=k:T.next=k,H.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;g=0,H=k=w=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(wt&z)===z:(l&z)===z){z!==0&&z===la&&(Nh=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var st=t,ct=T;z=n;var Kt=r;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){F=st.call(Kt,F,z);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call(Kt,F,z):st,z==null)break t;F=b({},F,z);break t;case 2:cr=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(k=H=q,w=F):H=H.next=q,g|=z;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(w=F),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),yr|=g,t.lanes=g,t.memoizedState=F}}function pg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function yg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pg(r[t],n)}var ha=V(null),Eu=V(0);function _g(t,n){t=qi,tt(Eu,t),tt(ha,n),qi=t|n.baseLanes}function Vh(){tt(Eu,qi),tt(ha,ha.current)}function Oh(){qi=Eu.current,Q(ha),Q(Eu)}var mn=V(null),Nn=null;function dr(t){var n=t.alternate;tt(fe,fe.current&1),tt(mn,t),Nn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(Nn=t)}function Mh(t){tt(fe,fe.current),tt(mn,t),Nn===null&&(Nn=t)}function vg(t){t.tag===22?(tt(fe,fe.current),tt(mn,t),Nn===null&&(Nn=t)):mr()}function mr(){tt(fe,fe.current),tt(mn,mn.current)}function gn(t){Q(mn),Nn===t&&(Nn=null),Q(fe)}var fe=V(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Bf(r)||qf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=0,vt=null,Qt=null,Ee=null,Su=!1,fa=!1,vs=!1,bu=0,Ml=0,da=null,G0=0;function oe(){throw Error(s(321))}function Uh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!fn(t[r],n[r]))return!1;return!0}function xh(t,n,r,l,c,f){return Mi=f,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?np:Zh,vs=!1,f=r(l,c),vs=!1,fa&&(f=Eg(n,r,l,c)),Tg(t),f}function Tg(t){j.H=Ll;var n=Qt!==null&&Qt.next!==null;if(Mi=0,Ee=Qt=vt=null,Su=!1,Ml=0,da=null,n)throw Error(s(300));t===null||Ae||(t=t.dependencies,t!==null&&mu(t)&&(Ae=!0))}function Eg(t,n,r,l){vt=t;var c=0;do{if(fa&&(da=null),Ml=0,fa=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=ip,f=n(r,l)}while(fa);return f}function F0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(vt.flags|=1024),n}function Lh(){var t=bu!==0;return bu=0,t}function kh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function zh(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}Mi=0,Ee=Qt=vt=null,fa=!1,Ml=bu=0,da=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?vt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function de(){if(Qt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=Ee===null?vt.memoizedState:Ee.next;if(n!==null)Ee=n,Qt=t;else{if(t===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Ee===null?vt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var n=Ml;return Ml+=1,da===null&&(da=[]),t=hg(da,t,n),n=vt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?np:Zh),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===yt)return Be(t)}throw Error(s(438,String(t)))}function Ph(t){var n=null,r=vt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ru(),vt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ui(t,n){return typeof n=="function"?n(t):n}function Iu(t){var n=de();return Bh(n,Qt,t)}function Bh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,w=null,k=n,H=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(wt&F)===F:(Mi&F)===F){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===la&&(H=!0);else if((Mi&z)===z){k=k.next,z===la&&(H=!0);continue}else F={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=F,g=f):w=w.next=F,vt.lanes|=z,yr|=z;F=k.action,vs&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else z={lane:F,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=z,g=f):w=w.next=z,vt.lanes|=F,yr|=F;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=T,!fn(f,t.memoizedState)&&(Ae=!0,H&&(r=oa,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qh(t){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Ag(t,n,r){var l=vt,c=de(),f=Vt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!fn((Qt||c).memoizedState,r);if(g&&(c.memoizedState=r,Ae=!0),c=c.queue,Gh(Rg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,ma(9,{destroy:void 0},bg.bind(null,l,c,r,n),null),Xt===null)throw Error(s(349));f||(Mi&127)!==0||Sg(l,n,r)}return r}function Sg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=vt.updateQueue,n===null?(n=Ru(),vt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function bg(t,n,r,l){n.value=r,n.getSnapshot=l,wg(n)&&Ig(t)}function Rg(t,n,r){return r(function(){wg(n)&&Ig(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!fn(t,r)}catch{return!0}}function Ig(t){var n=cs(t,2);n!==null&&an(n,t,2)}function Hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),vs){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Cg(t,n,r,l){return t.baseState=r,Bh(t,Qt,typeof l=="function"?l:Ui)}function Q0(t,n,r,l,c){if(Nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Dg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Dg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var T=r(c,l),w=j.S;w!==null&&w(g,T),Ng(t,n,T)}catch(k){jh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=r(c,l),Ng(t,n,f)}catch(k){jh(t,n,k)}}function Ng(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Vg(t,n,l)},function(l){return jh(t,n,l)}):Vg(t,n,r)}function Vg(t,n,r){n.status="fulfilled",n.value=r,Og(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Dg(t,r)))}function jh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Og(n),n=n.next;while(n!==l)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Ug(t,n){if(Vt){var r=Xt.formState;if(r!==null){t:{var l=vt;if(Vt){if(Wt){e:{for(var c=Wt,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=Vn(c.nextSibling),l=c.data==="F!";break t}}or(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},r.queue=l,r=Wg.bind(null,vt,l),l.dispatch=r,l=Hh(!1),f=Xh.bind(null,vt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Q0.bind(null,vt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=de();return Lg(n,Qt,t)}function Lg(t,n,r){if(n=Bh(t,n,Mg)[0],t=Iu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ul(n)}catch(g){throw g===ua?yu:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(vt.flags|=2048,ma(9,{destroy:void 0},Y0.bind(null,c,r),null)),[l,f,t]}function Y0(t,n){t.action=n}function kg(t){var n=de(),r=Qt;if(r!==null)return Lg(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ma(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=vt.updateQueue,n===null&&(n=Ru(),vt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function zg(){return de().memoizedState}function Cu(t,n,r,l){var c=$e();vt.flags|=t,c.memoizedState=ma(1|n,{destroy:void 0},r,l===void 0?null:l)}function Du(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Uh(l,Qt.memoizedState.deps)?c.memoizedState=ma(n,f,r,l):(vt.flags|=t,c.memoizedState=ma(1|n,f,r,l))}function Pg(t,n){Cu(8390656,8,t,n)}function Gh(t,n){Du(2048,8,t,n)}function K0(t){vt.flags|=4;var n=vt.updateQueue;if(n===null)n=Ru(),vt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Bg(t){var n=de().memoizedState;return K0({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Du(4,2,t,n)}function Hg(t,n){return Du(4,4,t,n)}function jg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gg(t,n,r){r=r!=null?r.concat([t]):null,Du(4,4,jg.bind(null,n,t),r)}function Fh(){}function Fg(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Uh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Qg(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Uh(n,l[1]))return l[0];if(l=t(),vs){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l}function Qh(t,n,r){return r===void 0||(Mi&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Yp(),vt.lanes|=t,yr|=t,r)}function Yg(t,n,r,l){return fn(r,n)?r:ha.current!==null?(t=Qh(t,r,l),fn(t,n)||(Ae=!0),t):(Mi&42)===0||(Mi&1073741824)!==0&&(wt&261930)===0?(Ae=!0,t.memoizedState=r):(t=Yp(),vt.lanes|=t,yr|=t,n)}function Kg(t,n,r,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=j.T,T={};j.T=T,Xh(t,!1,n,r);try{var w=c(),k=j.S;if(k!==null&&k(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=j0(w,l);xl(t,n,H,_n(t))}else xl(t,n,l,_n(t))}catch(F){xl(t,n,{then:function(){},status:"rejected",reason:F},_n())}finally{W.p=f,g!==null&&T.types!==null&&(g.types=T.types),j.T=g}}function X0(){}function Yh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Xg(t).queue;Kg(t,c,n,ut,r===null?X0:function(){return Zg(t),r(l)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zg(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),xl(t,n.next.queue,{},_n())}function Kh(){return Be($l)}function Jg(){return de().memoizedState}function $g(){return de().memoizedState}function Z0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();t=hr(r);var l=fr(n,t,r);l!==null&&(an(l,n,r),Nl(l,n,r)),n={cache:Sh()},t.payload=n;return}n=n.return}}function J0(t,n,r){var l=_n();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nu(t)?tp(n,r):(r=fh(t,n,r,l),r!==null&&(an(r,t,l),ep(r,n,l)))}function Wg(t,n,r){var l=_n();xl(t,n,r,l)}function xl(t,n,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))tp(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(c.hasEagerState=!0,c.eagerState=T,fn(T,g))return cu(t,n,c,0),Xt===null&&uu(),!1}catch{}finally{}if(r=fh(t,n,c,l),r!==null)return an(r,t,l),ep(r,n,l),!0}return!1}function Xh(t,n,r,l){if(l={lane:2,revertLane:Cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(n)throw Error(s(479))}else n=fh(t,r,l,2),n!==null&&an(n,t,2)}function Nu(t){var n=t.alternate;return t===vt||n!==null&&n===vt}function tp(t,n){fa=Su=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ep(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,il(t,r)}}var Ll={readContext:Be,use:wu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Ll.useEffectEvent=oe;var np={readContext:Be,use:wu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:Pg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Cu(4194308,4,jg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Cu(4194308,4,t,n)},useInsertionEffect:function(t,n){Cu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(vs){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(vs){Tn(!0);try{r(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=J0.bind(null,vt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Hh(t);var n=t.queue,r=Wg.bind(null,vt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Fh,useDeferredValue:function(t,n){var r=$e();return Qh(r,t,n)},useTransition:function(){var t=Hh(!1);return t=Kg.bind(null,vt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=vt,c=$e();if(Vt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));(wt&127)!==0||Sg(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Pg(Rg.bind(null,l,f,t),[t]),l.flags|=2048,ma(9,{destroy:void 0},bg.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Xt.identifierPrefix;if(Vt){var r=gi,l=mi;r=(l&~(1<<32-ce(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=G0++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Kh,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Xh.bind(null,vt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ph,useCacheRefresh:function(){return $e().memoizedState=Z0.bind(null,vt)},useEffectEvent:function(t){var n=$e(),r={impl:t};return n.memoizedState=r,function(){if((Pt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Zh={readContext:Be,use:wu,useCallback:Fg,useContext:Be,useEffect:Gh,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:Iu,useRef:zg,useState:function(){return Iu(Ui)},useDebugValue:Fh,useDeferredValue:function(t,n){var r=de();return Yg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Iu(Ui)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Kh,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=de();return Cg(r,Qt,t,n)},useMemoCache:Ph,useCacheRefresh:$g};Zh.useEffectEvent=Bg;var ip={readContext:Be,use:wu,useCallback:Fg,useContext:Be,useEffect:Gh,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:qh,useRef:zg,useState:function(){return qh(Ui)},useDebugValue:Fh,useDeferredValue:function(t,n){var r=de();return Qt===null?Qh(r,t,n):Yg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=qh(Ui)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Kh,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var r=de();return Qt!==null?Cg(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:$g};ip.useEffectEvent=Bg;function Jh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $h={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=_n(),c=hr(l);c.payload=n,r!=null&&(c.callback=r),n=fr(t,c,l),n!==null&&(an(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=_n(),c=hr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=fr(t,c,l),n!==null&&(an(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=_n(),l=hr(r);l.tag=2,n!=null&&(l.callback=n),n=fr(t,l,r),n!==null&&(an(n,t,r),Nl(n,t,r))}};function rp(t,n,r,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Al(r,l)||!Al(c,f):!0}function sp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&$h.enqueueReplaceState(n,n.state,null)}function Ts(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}function ap(t){ou(t)}function lp(t){console.error(t)}function op(t){ou(t)}function Vu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function up(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wh(t,n,r){return r=hr(r),r.tag=3,r.payload={element:null},r.callback=function(){Vu(t,n)},r}function cp(t){return t=hr(t),t.tag=3,t}function hp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){up(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){up(n,r,l),typeof c!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&aa(n,r,c,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?ju():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===_u?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Rf(t,l,c)),!1;case 22:return r.flags|=65536,l===_u?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Rf(t,l,c)),!1}throw Error(s(435,r.tag))}return Rf(t,l,c),ju(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==_h&&(t=Error(s(422),{cause:l}),Rl(wn(t,r)))):(l!==_h&&(n=Error(s(423),{cause:l}),Rl(wn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,r),c=Wh(t.stateNode,l,c),Dh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,r),Gl===null?Gl=[f]:Gl.push(f),ue!==4&&(ue=2),n===null)return!0;l=wn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Wh(r.stateNode,l,t),Dh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=cp(c),hp(c,t,r,l),Dh(r,c),!1}r=r.return}while(r!==null);return!1}var tf=Error(s(461)),Ae=!1;function qe(t,n,r,l){n.child=t===null?gg(n,null,r,l):_s(n,t.child,r,l)}function fp(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return ms(n),l=xh(t,n,r,g,f,c),T=Lh(),t!==null&&!Ae?(kh(t,n,c),xi(t,n,c)):(Vt&&T&&ph(n),n.flags|=1,qe(t,n,l,c),n.child)}function dp(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!dh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mp(t,n,f,l,c)):(t=fu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!uf(t,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(g,l)&&t.ref===n.ref)return xi(t,n,c)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function mp(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Al(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,uf(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,xi(t,n,c)}return ef(t,n,r,l,c)}function gp(t,n,r,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return pp(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):Vh(),vg(n);else return l=n.lanes=536870912,pp(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(pu(n,f.cachePool),_g(n,f),mr(),n.memoizedState=null):(t!==null&&pu(n,null),Vh(),mr());return qe(t,n,c,r),n.child}function kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pp(t,n,r,l,c){var f=Rh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&pu(n,null),Vh(),vg(n),t!==null&&aa(t,n,l,!0),n.childLanes=c,null}function Ou(t,n){return n=Uu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yp(t,n,r){return _s(n,t.child,null,r),t=Ou(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function W0(t,n,r){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Vt){if(l.mode==="hidden")return t=Ou(n,l),n.lanes=536870912,kl(null,t);if(Mh(n),(t=Wt)?(t=Dy(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ar!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=tg(t),r.return=n,n.child=r,Pe=n,Wt=null)):t=null,t===null)throw or(n);return n.lanes=536870912,null}return Ou(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Mh(n),c)if(n.flags&256)n.flags&=-257,n=yp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||aa(t,n,r,!1),c=(r&t.childLanes)!==0,Ae||c){if(l=Xt,l!==null&&(g=rl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,cs(t,g),an(l,t,g),tf;ju(),n=yp(t,n,r)}else t=f.treeContext,Wt=Vn(g.nextSibling),Pe=n,Vt=!0,lr=null,Dn=!1,t!==null&&ig(n,t),n=Ou(n,l),n.flags|=4096;return n}return t=Di(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function ef(t,n,r,l,c){return ms(n),r=xh(t,n,r,l,void 0,c),l=Lh(),t!==null&&!Ae?(kh(t,n,c),xi(t,n,c)):(Vt&&l&&ph(n),n.flags|=1,qe(t,n,r,c),n.child)}function _p(t,n,r,l,c,f){return ms(n),n.updateQueue=null,r=Eg(n,l,r,c),Tg(t),l=Lh(),t!==null&&!Ae?(kh(t,n,f),xi(t,n,f)):(Vt&&l&&ph(n),n.flags|=1,qe(t,n,r,f),n.child)}function vp(t,n,r,l,c){if(ms(n),n.stateNode===null){var f=na,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ih(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):na,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Jh(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&$h.enqueueReplaceState(f,f.state,null),Ol(n,l,f,c),Vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=Ts(r,T);f.props=w;var k=f.context,H=r.contextType;g=na,typeof H=="object"&&H!==null&&(g=Be(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==g)&&sp(n,f,l,g),cr=!1;var z=n.memoizedState;f.state=z,Ol(n,l,f,c),Vl(),k=n.memoizedState,T||z!==k||cr?(typeof F=="function"&&(Jh(n,r,F,l),k=n.memoizedState),(w=cr||rp(n,r,w,l,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(t,n),g=n.memoizedProps,H=Ts(r,g),f.props=H,F=n.pendingProps,z=f.context,k=r.contextType,w=na,typeof k=="object"&&k!==null&&(w=Be(k)),T=r.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==w)&&sp(n,f,l,w),cr=!1,z=n.memoizedState,f.state=z,Ol(n,l,f,c),Vl();var q=n.memoizedState;g!==F||z!==q||cr||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof T=="function"&&(Jh(n,r,T,l),q=n.memoizedState),(H=cr||rp(n,r,H,l,z,q,w)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=w,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=_s(n,t.child,null,c),n.child=_s(n,null,r,c)):qe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=xi(t,n,c),t}function Tp(t,n,r,l){return fs(),n.flags|=256,qe(t,n,r,l),n.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:ug()}}function sf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=yn),t}function Ep(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Vt){if(c?dr(n):mr(),(t=Wt)?(t=Dy(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ar!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},r=tg(t),r.return=n,n.child=r,Pe=n,Wt=null)):t=null,t===null)throw or(n);return qf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(mr(),c=n.mode,T=Uu({mode:"hidden",children:T},c),l=hs(l,c,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=rf(r),l.childLanes=sf(t,g,r),n.memoizedState=nf,kl(null,l)):(dr(n),af(n,T))}var w=t.memoizedState;if(w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(dr(n),n.flags&=-257,n=lf(t,n,r)):n.memoizedState!==null?(mr(),n.child=t.child,n.flags|=128,n=null):(mr(),T=l.fallback,c=n.mode,l=Uu({mode:"visible",children:l.children},c),T=hs(T,c,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,_s(n,t.child,null,r),l=n.child,l.memoizedState=rf(r),l.childLanes=sf(t,g,r),n.memoizedState=nf,n=kl(null,l));else if(dr(n),qf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,Rl({value:l,source:null,stack:null}),n=lf(t,n,r)}else if(Ae||aa(t,n,r,!1),g=(r&t.childLanes)!==0,Ae||g){if(g=Xt,g!==null&&(l=rl(g,r),l!==0&&l!==w.retryLane))throw w.retryLane=l,cs(t,l),an(g,t,l),tf;Bf(T)||ju(),n=lf(t,n,r)}else Bf(T)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,Wt=Vn(T.nextSibling),Pe=n,Vt=!0,lr=null,Dn=!1,t!==null&&ig(n,t),n=af(n,l.children),n.flags|=4096);return n}return c?(mr(),T=l.fallback,c=n.mode,w=t.child,k=w.sibling,l=Di(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,k!==null?T=Di(k,T):(T=hs(T,c,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,kl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=rf(r):(c=T.cachePool,c!==null?(w=Te._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=ug(),T={baseLanes:T.baseLanes|r,cachePool:c}),l.memoizedState=T,l.childLanes=sf(t,g,r),n.memoizedState=nf,kl(t.child,l)):(dr(n),r=t.child,t=r.sibling,r=Di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function af(t,n){return n=Uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function lf(t,n,r){return _s(n,t.child,null,r),t=af(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ap(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,r)}function of(t,n,r,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Sp(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(t,n,l,r),l=Vt?bl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,r,n);else if(t.tag===19)Ap(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Au(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),of(n,!1,c,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Au(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}of(n,!0,r,null,f,l);break;case"together":of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),yr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(aa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function tE(t,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ur(n,Te,t.memoizedState.cache),fs();break;case 27:case 5:Qr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ur(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Mh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ep(t,n,r):(dr(n),t=xi(t,n,r),t!==null?t.sibling:null);dr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(aa(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Sp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,gp(t,n,r,n.pendingProps);case 24:ur(n,Te,t.memoizedState.cache)}return xi(t,n,r)}function bp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!uf(t,r)&&(n.flags&128)===0)return Ae=!1,tE(t,n,r);Ae=(t.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&ng(n,bl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ps(n.elementType),n.type=t,typeof t=="function")dh(t)?(l=Ts(t,l),n.tag=1,n=vp(null,n,t,l,r)):(n.tag=0,n=ef(null,n,t,l,r));else{if(t!=null){var c=t.$$typeof;if(c===Zt){n.tag=11,n=fp(null,n,t,l,r);break t}else if(c===C){n.tag=14,n=dp(null,n,t,l,r);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return ef(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Ts(l,n.pendingProps),vp(t,n,l,c,r);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ch(t,n),Ol(n,l,null,r);var g=n.memoizedState;if(l=g.cache,ur(n,Te,l),l!==f.cache&&Ah(n,[Te],r,!0),Vl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Tp(t,n,l,r);break t}else if(l!==c){c=wn(Error(s(424)),n),Rl(c),n=Tp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Vn(t.firstChild),Pe=n,Vt=!0,lr=null,Dn=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(fs(),l===c){n=xi(t,n,r);break t}qe(t,n,l,r)}n=n.child}return n;case 26:return Mu(t,n),t===null?(r=xy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,t=n.pendingProps,l=Zu(Tt.current).createElement(r),l[ye]=n,l[Me]=t,He(l,r,t),_e(l),n.stateNode=l):n.memoizedState=xy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qr(n),t===null&&Vt&&(l=n.stateNode=Oy(n.type,n.pendingProps,Tt.current),Pe=n,Dn=!0,c=Wt,Ar(n.type)?(Hf=c,Wt=Vn(l.firstChild)):Wt=c),qe(t,n,n.pendingProps.children,r),Mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Vt&&((c=l=Wt)&&(l=NE(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Pe=n,Wt=Vn(l.firstChild),Dn=!1,c=!0):c=!1),c||or(n)),Qr(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,kf(c,f)?l=null:g!==null&&kf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=xh(t,n,F0,null,null,r),$l._currentValue=c),Mu(t,n),qe(t,n,l,r),n.child;case 6:return t===null&&Vt&&((t=r=Wt)&&(r=VE(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,Pe=n,Wt=null,t=!0):t=!1),t||or(n)),null;case 13:return Ep(t,n,r);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_s(n,null,l,r):qe(t,n,l,r),n.child;case 11:return fp(t,n,n.type,n.pendingProps,r);case 7:return qe(t,n,n.pendingProps,r),n.child;case 8:return qe(t,n,n.pendingProps.children,r),n.child;case 12:return qe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ur(n,n.type,l.value),qe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ms(n),c=Be(c),l=l(c),n.flags|=1,qe(t,n,l,r),n.child;case 14:return dp(t,n,n.type,n.pendingProps,r);case 15:return mp(t,n,n.type,n.pendingProps,r);case 19:return Sp(t,n,r);case 31:return W0(t,n,r);case 22:return gp(t,n,r,n.pendingProps);case 24:return ms(n),l=Be(Te),t===null?(c=Rh(),c===null&&(c=Xt,f=Sh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Ih(n),ur(n,Te,c)):((t.lanes&r)!==0&&(Ch(t,n),Ol(n,null,null,r),Vl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ur(n,Te,l)):(l=f.cache,ur(n,Te,l),l!==c.cache&&Ah(n,[Te],r,!0))),qe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function cf(t,n,r,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Jp())t.flags|=8192;else throw ys=_u,wh}else t.flags&=-16777217}function Rp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!By(n))if(Jp())t.flags|=8192;else throw ys=_u,wh}function xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qo():536870912,t.lanes|=n,_a|=n)}function zl(t,n){if(!Vt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function eE(t,n,r){var l=n.pendingProps;switch(yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Te),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sa(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vh())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(te(n),Rp(n,f)):(te(n),cf(n,c,null,l,r))):f?f!==t.memoizedState?(Li(n),te(n),Rp(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),te(n),cf(n,c,t,l,r)),null;case 27:if(ks(n),r=Tt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=rt.current,sa(n)?rg(n):(t=Oy(c,l,r),n.stateNode=t,Li(n))}return te(n),null;case 5:if(ks(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=rt.current,sa(n))rg(n);else{var g=Zu(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return te(n),cf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,sa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,r)),t||or(n,!0)}else t=Zu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return te(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=sa(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ye]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else r=vh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=sa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=vh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),xu(n,n.updateQueue),te(n),null);case 4:return re(),t===null&&Of(n.stateNode.containerInfo),te(n),null;case 10:return Oi(n.type),te(n),null;case 19:if(Q(fe),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)zl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Au(t),f!==null){for(n.flags|=128,zl(l,!1),t=f.updateQueue,n.updateQueue=t,xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Wm(r,t),r=r.sibling;return tt(fe,fe.current&1|2),Vt&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Bu&&(n.flags|=128,c=!0,zl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,xu(n,t),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*Ze()-l.renderingStartTime>Bu&&r!==536870912&&(n.flags|=128,c=!0,zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,r=fe.current,tt(fe,c?r&1|2:r&1),Vt&&Ni(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return gn(n),Oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(gs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Oi(Te),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function nE(t,n){switch(yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Te),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ks(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(fe),null;case 4:return re(),null;case 10:return Oi(n.type),null;case 22:case 23:return gn(n),Oh(),t!==null&&Q(gs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Te),null;case 25:return null;default:return null}}function wp(t,n){switch(yh(n),n.tag){case 3:Oi(Te),re();break;case 26:case 27:case 5:ks(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(fe);break;case 10:Oi(n.type);break;case 22:case 23:gn(n),Oh(),t!==null&&Q(gs);break;case 24:Oi(Te)}}function Pl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==c)}}catch(T){Gt(n,n.return,T)}}function gr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var w=r,k=T;try{k()}catch(H){Gt(c,w,H)}}}l=l.next}while(l!==f)}}catch(H){Gt(n,n.return,H)}}function Ip(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{yg(n,r)}catch(l){Gt(t,t.return,l)}}}function Cp(t,n,r){r.props=Ts(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Gt(t,n,l)}}function Bl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Gt(t,n,c)}}function pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Gt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Gt(t,n,c)}else r.current=null}function Dp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Gt(t,t.return,c)}}function hf(t,n,r){try{var l=t.stateNode;bE(l,t.type,r,n),l[Me]=n}catch(c){Gt(t,t.return,c)}}function Np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ar(t.type)||t.tag===4}function ff(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&Ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(df(t,n,r),t=t.sibling;t!==null;)df(t,n,r),t=t.sibling}function Lu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Lu(t,n,r),t=t.sibling;t!==null;)Lu(t,n,r),t=t.sibling}function Vp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,r),n[ye]=t,n[Me]=r}catch(f){Gt(t,t.return,f)}}var ki=!1,Se=!1,mf=!1,Op=typeof WeakSet=="function"?WeakSet:Set,xe=null;function iE(t,n){if(t=t.containerInfo,xf=ic,t=Gm(t),ah(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,w=-1,k=0,H=0,F=t,z=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(T=g+c),F!==f||l!==0&&F.nodeType!==3||(w=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)z=F,F=q;for(;;){if(F===t)break e;if(z===r&&++k===c&&(T=g),z===f&&++H===l&&(w=g),(q=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=q}r=T===-1||w===-1?null:{start:T,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lf={focusedElem:t,selectionRange:r},ic=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)c=t[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var st=Ts(r.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Gt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Pf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Mp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(t,r),l&4&&Pl(5,r);break;case 1:if(Pi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Gt(r,r.return,g)}else{var c=Ts(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(r,r.return,g)}}l&64&&Ip(r),l&512&&Bl(r,r.return);break;case 3:if(Pi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yg(t,n)}catch(g){Gt(r,r.return,g)}}break;case 27:n===null&&l&4&&Vp(r);case 26:case 5:Pi(t,r),n===null&&l&4&&Dp(r),l&512&&Bl(r,r.return);break;case 12:Pi(t,r);break;case 31:Pi(t,r),l&4&&Lp(t,r);break;case 13:Pi(t,r),l&4&&kp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=fE.bind(null,r),OE(t,r))));break;case 22:if(l=r.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||Se,c=ki;var f=Se;ki=l,(Se=n)&&!f?Bi(t,r,(r.subtreeFlags&8772)!==0):Pi(t,r),ki=c,Se=f}break;case 30:break;default:Pi(t,r)}}function Up(t){var n=t.alternate;n!==null&&(t.alternate=null,Up(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function zi(t,n,r){for(r=r.child;r!==null;)xp(t,n,r),r=r.sibling}function xp(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||pi(r,n),zi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||pi(r,n);var l=ae,c=en;Ar(r.type)&&(ae=r.stateNode,en=!1),zi(t,n,r),Xl(r.stateNode),ae=l,en=c;break;case 5:Se||pi(r,n);case 6:if(l=ae,c=en,ae=null,zi(t,n,r),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Gt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Gt(r,n,f)}break;case 18:ae!==null&&(en?(t=ae,Iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),wa(t)):Iy(ae,r.stateNode));break;case 4:l=ae,c=en,ae=r.stateNode.containerInfo,en=!0,zi(t,n,r),ae=l,en=c;break;case 0:case 11:case 14:case 15:gr(2,r,n),Se||gr(4,r,n),zi(t,n,r);break;case 1:Se||(pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cp(r,n,l)),zi(t,n,r);break;case 21:zi(t,n,r);break;case 22:Se=(l=Se)||r.memoizedState!==null,zi(t,n,r),Se=l;break;default:zi(t,n,r)}}function Lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wa(t)}catch(r){Gt(n,n.return,r)}}}function kp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wa(t)}catch(r){Gt(n,n.return,r)}}function rE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Op),n;default:throw Error(s(435,t.tag))}}function ku(t,n){var r=rE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var c=dE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ar(T.type)){ae=T.stateNode,en=!1;break t}break;case 5:ae=T.stateNode,en=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ae===null)throw Error(s(160));xp(f,g,c),ae=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zp(n,t),n=n.sibling}var Gn=null;function zp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),rn(t),l&4&&(gr(3,t,t.return),Pl(3,t),gr(5,t,t.return));break;case 1:nn(n,t),rn(t),l&512&&(Se||r===null||pi(r,r.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Gn;if(nn(n,t),rn(t),l&512&&(Se||r===null||pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,r),f[ye]=t,_e(f),l=f;break t;case"link":var g=zy("link","href",c).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),He(f,l,r),c.head.appendChild(f);break;case"meta":if(g=zy("meta","content",c).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=c.createElement(l),He(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else Py(c,t.type,t.stateNode);else t.stateNode=ky(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Py(c,t.type,t.stateNode):ky(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:nn(n,t),rn(t),l&512&&(Se||r===null||pi(r,r.return)),r!==null&&l&4&&hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(nn(n,t),rn(t),l&512&&(Se||r===null||pi(r,r.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Gt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,hf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(mf=!0);break;case 6:if(nn(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(st){Gt(t,t.return,st)}}break;case 3:if(Wu=null,c=Gn,Gn=Ju(n.containerInfo),nn(n,t),Gn=c,rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(n.containerInfo)}catch(st){Gt(t,t.return,st)}mf&&(mf=!1,Pp(t));break;case 4:l=Gn,Gn=Ju(t.stateNode.containerInfo),nn(n,t),rn(t),Gn=l;break;case 12:nn(n,t),rn(t);break;case 31:nn(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 13:nn(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Pu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,k=ki,H=Se;if(ki=k||c,Se=H||w,nn(n,t),Se=H,ki=k,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||ki||Se||Es(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=w.stateNode;var F=w.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(w,w.return,st)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Gt(w,w.return,st)}}}else if(n.tag===18){if(r===null){w=n;try{var q=w.stateNode;c?Cy(q,!0):Cy(w.stateNode,!1)}catch(st){Gt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ku(t,r))));break;case 19:nn(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 30:break;case 21:break;default:nn(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Np(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=ff(t);Lu(t,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(tn(g,""),r.flags&=-33);var T=ff(t);Lu(t,T,g);break;case 3:case 4:var w=r.stateNode.containerInfo,k=ff(t);df(t,k,w);break;default:throw Error(s(161))}}catch(H){Gt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mp(t,n.alternate,n),n=n.sibling}function Es(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:gr(4,n,n.return),Es(n);break;case 1:pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cp(n,n.return,r),Es(n);break;case 27:Xl(n.stateNode);case 26:case 5:pi(n,n.return),Es(n);break;case 22:n.memoizedState===null&&Es(n);break;case 30:Es(n);break;default:Es(n)}t=t.sibling}}function Bi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,r),Pl(4,f);break;case 1:if(Bi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Gt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)pg(w[c],T)}catch(k){Gt(l,l.return,k)}}r&&g&64&&Ip(f),Bl(f,f.return);break;case 27:Vp(f);case 26:case 5:Bi(c,f,r),r&&l===null&&g&4&&Dp(f),Bl(f,f.return);break;case 12:Bi(c,f,r);break;case 31:Bi(c,f,r),r&&g&4&&Lp(c,f);break;case 13:Bi(c,f,r),r&&g&4&&kp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,r),Bl(f,f.return);break;case 30:break;default:Bi(c,f,r)}n=n.sibling}}function gf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&wl(r))}function pf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t))}function Fn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bp(t,n,r,l),n=n.sibling}function Bp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,r,l),c&2048&&Pl(9,n);break;case 1:Fn(t,n,r,l);break;case 3:Fn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t)));break;case 12:if(c&2048){Fn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Gt(n,n.return,w)}}else Fn(t,n,r,l);break;case 31:Fn(t,n,r,l);break;case 13:Fn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,r,l):ql(t,n):f._visibility&2?Fn(t,n,r,l):(f._visibility|=2,ga(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&gf(g,n);break;case 24:Fn(t,n,r,l),c&2048&&pf(n.alternate,n);break;default:Fn(t,n,r,l)}}function ga(t,n,r,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,w=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:ga(f,g,T,w,c),Pl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ga(f,g,T,w,c):ql(f,g):(H._visibility|=2,ga(f,g,T,w,c)),c&&k&2048&&gf(g.alternate,g);break;case 24:ga(f,g,T,w,c),c&&k&2048&&pf(g.alternate,g);break;default:ga(f,g,T,w,c)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ql(r,l),c&2048&&gf(l.alternate,l);break;case 24:ql(r,l),c&2048&&pf(l.alternate,l);break;default:ql(r,l)}n=n.sibling}}var Hl=8192;function pa(t,n,r){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)qp(t,n,r),t=t.sibling}function qp(t,n,r){switch(t.tag){case 26:pa(t,n,r),t.flags&Hl&&t.memoizedState!==null&&GE(r,Gn,t.memoizedState,t.memoizedProps);break;case 5:pa(t,n,r);break;case 3:case 4:var l=Gn;Gn=Ju(t.stateNode.containerInfo),pa(t,n,r),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,pa(t,n,r),Hl=l):pa(t,n,r));break;default:pa(t,n,r)}}function Hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function jl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Gp(l,t)}Hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jp(t),t=t.sibling}function jp(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&gr(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zu(t)):jl(t);break;default:jl(t)}}function zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Gp(l,t)}Hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:gr(8,n,n.return),zu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,zu(n));break;default:zu(n)}t=t.sibling}}function Gp(t,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:gr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xe=l;else t:for(r=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(Up(l),l===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var sE={getCacheForType:function(t){var n=Be(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Be(Te).controller.signal}},aE=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Xt=null,bt=null,wt=0,jt=0,pn=null,pr=!1,ya=!1,yf=!1,qi=0,ue=0,yr=0,As=0,_f=0,yn=0,_a=0,Gl=null,sn=null,vf=!1,Pu=0,Fp=0,Bu=1/0,qu=null,_r=null,Ve=0,vr=null,va=null,Hi=0,Tf=0,Ef=null,Qp=null,Fl=0,Af=null;function _n(){return(Pt&2)!==0&&wt!==0?wt&-wt:j.T!==null?Cf():Ho()}function Yp(){if(yn===0)if((wt&536870912)===0||Vt){var t=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function an(t,n,r){(t===Xt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Ta(t,0),Tr(t,wt,yn,!1)),Zr(t,r),((Pt&2)===0||t!==Xt)&&(t===Xt&&((Pt&2)===0&&(As|=r),ue===4&&Tr(t,wt,yn,!1)),yi(t))}function Kp(t,n,r){if((Pt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||xn(t,n),c=l?uE(t,n):bf(t,n,!0),f=l;do{if(c===0){ya&&!l&&Tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!lE(r)){c=bf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=Gl;var w=T.current.memoizedState.isDehydrated;if(w&&(Ta(T,g).flags|=256),g=bf(T,g,!1),g!==2){if(yf&&!w){T.errorRecoveryDisabledLanes|=f,As|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ta(t,0),Tr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Tr(l,n,yn,!pr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Pu+300-Ze(),10<c)){if(Tr(l,n,yn,!pr),Wn(l,0,!0)!==0)break t;Hi=n,l.timeoutHandle=Ry(Xp.bind(null,l,r,sn,qu,vf,n,yn,As,_a,pr,f,"Throttled",-0,0),c);break t}Xp(l,r,sn,qu,vf,n,yn,As,_a,pr,f,null,-0,0)}}break}while(!0);yi(t)}function Xp(t,n,r,l,c,f,g,T,w,k,H,F,z,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},qp(n,f,F);var st=(f&62914560)===f?Pu-Ze():(f&4194048)===f?Fp-Ze():0;if(st=FE(F,st),st!==null){Hi=f,t.cancelPendingCommit=st(iy.bind(null,t,n,f,r,l,c,g,T,w,H,F,null,z,q)),Tr(t,f,g,!k);return}}iy(t,n,f,r,l,c,g,T,w)}function lE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(t,n,r,l){n&=~_f,n&=~As,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}r!==0&&Jr(t,r,n)}function Hu(){return(Pt&6)===0?(Ql(0),!1):!0}function Sf(){if(bt!==null){if(jt===0)var t=bt.return;else t=bt,Vi=ds=null,zh(t),ca=null,Cl=0,t=bt;for(;t!==null;)wp(t.alternate,t),t=t.return;bt=null}}function Ta(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,IE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hi=0,Sf(),Xt=t,bt=r=Di(t.current,null),wt=n,jt=0,pn=null,pr=!1,ya=xn(t,n),yf=!1,_a=yn=_f=As=yr=ue=0,sn=Gl=null,vf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return qi=n,uu(),r}function Zp(t,n){vt=null,j.H=Ll,n===ua||n===yu?(n=fg(),jt=3):n===wh?(n=fg(),jt=4):jt=n===tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(ue=1,Vu(t,wn(n,t.current)))}function Jp(){var t=mn.current;return t===null?!0:(wt&4194048)===wt?Nn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Nn:!1}function $p(){var t=j.H;return j.H=Ll,t===null?Ll:t}function Wp(){var t=j.A;return j.A=sE,t}function ju(){ue=4,pr||(wt&4194048)!==wt&&mn.current!==null||(ya=!0),(yr&134217727)===0&&(As&134217727)===0||Xt===null||Tr(Xt,wt,yn,!1)}function bf(t,n,r){var l=Pt;Pt|=2;var c=$p(),f=Wp();(Xt!==t||wt!==n)&&(qu=null,Ta(t,n)),n=!1;var g=ue;t:do try{if(jt!==0&&bt!==null){var T=bt,w=pn;switch(jt){case 8:Sf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=jt;if(jt=0,pn=null,Ea(t,T,w,k),r&&ya){g=0;break t}break;default:k=jt,jt=0,pn=null,Ea(t,T,w,k)}}oE(),g=ue;break}catch(H){Zp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Vi=ds=null,Pt=l,j.H=c,j.A=f,bt===null&&(Xt=null,wt=0,uu()),g}function oE(){for(;bt!==null;)ty(bt)}function uE(t,n){var r=Pt;Pt|=2;var l=$p(),c=Wp();Xt!==t||wt!==n?(qu=null,Bu=Ze()+500,Ta(t,n)):ya=xn(t,n);t:do try{if(jt!==0&&bt!==null){n=bt;var f=pn;e:switch(jt){case 1:jt=0,pn=null,Ea(t,n,f,1);break;case 2:case 9:if(cg(f)){jt=0,pn=null,ey(n);break}n=function(){jt!==2&&jt!==9||Xt!==t||(jt=7),yi(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:cg(f)?(jt=0,pn=null,ey(n)):(jt=0,pn=null,Ea(t,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var T=bt;if(g?By(g):T.stateNode.complete){jt=0,pn=null;var w=T.sibling;if(w!==null)bt=w;else{var k=T.return;k!==null?(bt=k,Gu(k)):bt=null}break e}}jt=0,pn=null,Ea(t,n,f,5);break;case 6:jt=0,pn=null,Ea(t,n,f,6);break;case 8:Sf(),ue=6;break t;default:throw Error(s(462))}}cE();break}catch(H){Zp(t,H)}while(!0);return Vi=ds=null,j.H=l,j.A=c,Pt=r,bt!==null?0:(Xt=null,wt=0,uu(),ue)}function cE(){for(;bt!==null&&!Wc();)ty(bt)}function ty(t){var n=bp(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?Gu(t):bt=n}function ey(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=_p(r,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=_p(r,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:zh(n);default:wp(r,n),n=bt=Wm(n,qi),n=bp(r,n,qi)}t.memoizedProps=t.pendingProps,n===null?Gu(t):bt=n}function Ea(t,n,r,l){Vi=ds=null,zh(n),ca=null,Cl=0;var c=n.return;try{if($0(t,c,n,r,wt)){ue=1,Vu(t,wn(r,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,Vu(t,wn(r,t.current)),bt=null;return}n.flags&32768?(Vt||l===1?t=!0:ya||(wt&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):Gu(n)}function Gu(t){var n=t;do{if((n.flags&32768)!==0){ny(n,pr);return}t=n.return;var r=eE(n.alternate,n,qi);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ue===0&&(ue=5)}function ny(t,n){do{var r=nE(t.alternate,t);if(r!==null){r.flags&=32767,bt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=r}while(t!==null);ue=6,bt=null}function iy(t,n,r,l,c,f,g,T,w){t.cancelPendingCommit=null;do Fu();while(Ve!==0);if((Pt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=hh,nh(t,r,f,g,T,w),t===Xt&&(bt=Xt=null,wt=0),va=n,vr=t,Hi=r,Tf=f,Ef=c,Qp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mE(Zi,function(){return oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=W.p,W.p=2,g=Pt,Pt|=4;try{iE(t,n,r)}finally{Pt=g,W.p=c,j.T=l}}Ve=1,ry(),sy(),ay()}}function ry(){if(Ve===1){Ve=0;var t=vr,n=va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=Pt;Pt|=4;try{zp(n,t);var f=Lf,g=Gm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&jm(T.ownerDocument.documentElement,T)){if(w!==null&&ah(T)){var k=w.start,H=w.end;if(H===void 0&&(H=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(H,T.value.length);else{var F=T.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=T.textContent.length,ct=Math.min(w.start,st),Kt=w.end===void 0?ct:Math.min(w.end,st);!q.extend&&ct>Kt&&(g=Kt,Kt=ct,ct=g);var M=Hm(T,ct),D=Hm(T,Kt);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=F.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),ct>Kt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(F=[],q=T;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<F.length;T++){var G=F[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ic=!!xf,Lf=xf=null}finally{Pt=c,W.p=l,j.T=r}}t.current=n,Ve=2}}function sy(){if(Ve===2){Ve=0;var t=vr,n=va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=Pt;Pt|=4;try{Mp(t,n.alternate,n)}finally{Pt=c,W.p=l,j.T=r}}Ve=3}}function ay(){if(Ve===4||Ve===3){Ve=0,xo();var t=vr,n=va,r=Hi,l=Qp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,va=vr=null,ly(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_r=null),Ri(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=W.p,W.p=2,j.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{j.T=n,W.p=c}}(Hi&3)!==0&&Fu(),yi(t),c=t.pendingLanes,(r&261930)!==0&&(c&42)!==0?t===Af?Fl++:(Fl=0,Af=t):Fl=0,Ql(0)}}function ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,wl(n)))}function Fu(){return ry(),sy(),ay(),oy()}function oy(){if(Ve!==5)return!1;var t=vr,n=Tf;Tf=0;var r=Ri(Hi),l=j.T,c=W.p;try{W.p=32>r?32:r,j.T=null,r=Ef,Ef=null;var f=vr,g=Hi;if(Ve=0,va=vr=null,Hi=0,(Pt&6)!==0)throw Error(s(331));var T=Pt;if(Pt|=4,jp(f.current),Bp(f,f.current,g,r),Pt=T,Ql(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{W.p=c,j.T=l,ly(t,n)}}function uy(t,n,r){n=wn(r,n),n=Wh(t.stateNode,n,2),t=fr(t,n,2),t!==null&&(Zr(t,2),yi(t))}function Gt(t,n,r){if(t.tag===3)uy(t,t,r);else for(;n!==null;){if(n.tag===3){uy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=wn(r,t),r=cp(2),l=fr(n,r,2),l!==null&&(hp(r,l,n,t),Zr(l,2),yi(l));break}}n=n.return}}function Rf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new aE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(yf=!0,c.add(r),t=hE.bind(null,t,n,r),n.then(t,t))}function hE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(wt&r)===r&&(ue===4||ue===3&&(wt&62914560)===wt&&300>Ze()-Pu?(Pt&2)===0&&Ta(t,0):_f|=r,_a===wt&&(_a=0)),yi(t)}function cy(t,n){n===0&&(n=qo()),t=cs(t,n),t!==null&&(Zr(t,n),yi(t))}function fE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),cy(t,r)}function dE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),cy(t,r)}function mE(t,n){return Ne(t,n)}var Qu=null,Aa=null,wf=!1,Yu=!1,If=!1,Er=0;function yi(t){t!==Aa&&t.next===null&&(Aa===null?Qu=Aa=t:Aa=Aa.next=t),Yu=!0,wf||(wf=!0,pE())}function Ql(t,n){if(!If&&Yu){If=!0;do for(var r=!1,l=Qu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,my(l,f))}else f=wt,f=Wn(l,l===Xt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xn(l,f)||(r=!0,my(l,f));l=l.next}while(r);If=!1}}function gE(){hy()}function hy(){Yu=wf=!1;var t=0;Er!==0&&wE()&&(t=Er);for(var n=Ze(),r=null,l=Qu;l!==null;){var c=l.next,f=fy(l,n);f===0?(l.next=null,r===null?Qu=c:r.next=c,c===null&&(Aa=r)):(r=l,(t!==0||(f&3)!==0)&&(Yu=!0)),l=c}Ve!==0&&Ve!==5||Ql(t),Er!==0&&(Er=0)}function fy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),T=1<<g,w=c[g];w===-1?((T&r)===0||(T&l)!==0)&&(c[g]=eh(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Xt,r=wt,r=Wn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Xi(l),Ri(r)){case 2:case 8:r=nl;break;case 32:r=Zi;break;case 268435456:r=Lo;break;default:r=Zi}return l=dy.bind(null,t),r=Ne(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Xi(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Fu()&&t.callbackNode!==r)return null;var l=wt;return l=Wn(t,t===Xt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kp(t,l,n),fy(t,Ze()),t.callbackNode!=null&&t.callbackNode===r?dy.bind(null,t):null)}function my(t,n){if(Fu())return null;Kp(t,n,!0)}function pE(){CE(function(){(Pt&6)!==0?Ne(el,gE):hy()})}function Cf(){if(Er===0){var t=la;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Er=t}return Er}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function py(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function yE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=gy((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?gy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new ci("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Er!==0){var w=g?py(c,g):new FormData(c);Yh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=g?py(c,g):new FormData(c),Yh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Df=0;Df<ch.length;Df++){var Nf=ch[Df],_E=Nf.toLowerCase(),vE=Nf[0].toUpperCase()+Nf.slice(1);jn(_E,"on"+vE)}jn(Ym,"onAnimationEnd"),jn(Km,"onAnimationIteration"),jn(Xm,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(x0,"onTransitionRun"),jn(L0,"onTransitionStart"),jn(k0,"onTransitionCancel"),jn(Zm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function yy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],w=T.instance,k=T.currentTarget;if(T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(H){ou(H)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(T=l[g],w=T.instance,k=T.currentTarget,T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(H){ou(H)}c.currentTarget=null,f=w}}}}function Rt(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(_y(n,t,2,!1),r.add(l))}function Vf(t,n,r){var l=0;n&&(l|=4),_y(r,t,l,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Ku]){t[Ku]=!0,sl.forEach(function(r){r!=="selectionchange"&&(TE.has(r)||Vf(r,!1,t),Vf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,Vf("selectionchange",!1,n))}}function _y(t,n,r,l){switch(Yy(n)){case 2:var c=KE;break;case 8:c=XE;break;default:c=Yf}r=c.bind(null,n,r,t),c=void 0,!ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Mf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=ii(T),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}T=T.parentNode}}l=l.return}nr(function(){var k=f,H=An(r),F=[];t:{var z=Jm.get(t);if(z!==void 0){var q=ci,st=t;switch(t){case"keypress":if(rs(r)===0)break t;case"keydown":case"keyup":q=su;break;case"focusin":st="focus",q=as;break;case"focusout":st="blur",q=as;break;case"beforeblur":case"afterblur":q=as;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ym:case Km:case Xm:q=$o;break;case Zm:q=E;break;case"scroll":case"scrollend":q=yl;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ci;break;case"toggle":case"beforetoggle":q=_t}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),M=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=k,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=Pn(D,M),G!=null&&ct.push(Kl(D,G,L))),Kt)break;D=D.return}0<ct.length&&(z=new q(z,st,null,r,H),F.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==ml&&(st=r.relatedTarget||r.fromElement)&&(ii(st)||st[ei]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=k,st=st?ii(st):null,st!==null&&(Kt=h(st),ct=st.tag,st!==Kt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ct=_l,G="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Ci,G="onPointerLeave",M="onPointerEnter",D="pointer"),Kt=q==null?z:cn(q),L=st==null?z:cn(st),z=new ct(G,D+"leave",q,r,H),z.target=Kt,z.relatedTarget=L,G=null,ii(H)===k&&(ct=new ct(M,D+"enter",st,r,H),ct.target=L,ct.relatedTarget=Kt,G=ct),Kt=G,q&&st)e:{for(ct=EE,M=q,D=st,L=0,G=M;G;G=ct(G))L++;G=0;for(var lt=D;lt;lt=ct(lt))G++;for(;0<L-G;)M=ct(M),L--;for(;0<G-L;)D=ct(D),G--;for(;L--;){if(M===D||D!==null&&M===D.alternate){ct=M;break e}M=ct(M),D=ct(D)}ct=null}else ct=null;q!==null&&vy(F,z,q,ct,!1),st!==null&&Kt!==null&&vy(F,Kt,st,ct,!0)}}t:{if(z=k?cn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=Lm;else if(Um(z))if(km)Lt=O0;else{Lt=N0;var at=D0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&Fs(k.elementType)&&(Lt=Lm):Lt=V0;if(Lt&&(Lt=Lt(t,k))){xm(F,Lt,r,H);break t}at&&at(t,z,k),t==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&hl(z,"number",z.value)}switch(at=k?cn(k):window,t){case"focusin":(Um(at)||at.contentEditable==="true")&&(Ws=at,lh=k,Sl=null);break;case"focusout":Sl=lh=Ws=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Fm(F,r,H);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Fm(F,r,H)}var Et;if(zt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else $s?ls(t,r)&&(It="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(di&&r.locale!=="ko"&&($s||It!=="onCompositionStart"?It==="onCompositionEnd"&&$s&&(Et=pl()):(ui=H,gl="value"in ui?ui.value:ui.textContent,$s=!0)),at=Xu(k,It),0<at.length&&(It=new fi(It,t,null,r,H),F.push({event:It,listeners:at}),Et?It.data=Et:(Et=Js(r),Et!==null&&(It.data=Et)))),(Et=bn?R0(t,r):w0(t,r))&&(It=Xu(k,"onBeforeInput"),0<It.length&&(at=new fi("onBeforeInput","beforeinput",null,r,H),F.push({event:at,listeners:It}),at.data=Et)),yE(F,t,k,r,H)}yy(F,n)})}function Kl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Xu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pn(t,r),c!=null&&l.unshift(Kl(t,c,f)),c=Pn(t,n),c!=null&&l.push(Kl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function EE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,n,r,l,c){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,w=T.alternate,k=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||k===null||(w=k,c?(k=Pn(r,f),k!=null&&g.unshift(Kl(r,k,w))):c||(k=Pn(r,f),k!=null&&g.push(Kl(r,k,w)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var AE=/\r\n?/g,SE=/\u0000|\uFFFD/g;function Ty(t){return(typeof t=="string"?t:""+t).replace(AE,`
`).replace(SE,"")}function Ey(t,n){return n=Ty(n),Ty(t)===n}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,r,l);break;case"style":dl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Qs(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Qs(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Qs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),js(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Xo.get(r)||r,js(t,r,l))}}function Uf(t,n,r,l,c,f){switch(r){case"style":dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):js(t,r,l)}}}function He(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,g,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Rt("invalid",t);var T=f=g=c=null,w=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Yt(t,n,l,H,r,null)}}Qo(t,f,T,w,k,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(T=r[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Yt(t,n,c,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?$i(t,!!l,n,!1):r!=null&&$i(t,!!l,r,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(t,n,g,T,r,null)}Wi(t,l,c,f);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,w,l,r,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Rt(Yl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,k,l,r,null)}return;default:if(Fs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Uf(t,n,H,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Yt(t,n,T,l,r,null))}function bE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,w=null,k=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var z in l){var q=l[z];if(F=r[z],l.hasOwnProperty(z)&&(q!=null||F!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,z,q,l,F)}}Gs(t,g,T,w,k,H,f,c);return;case"select":q=g=T=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==w&&Yt(t,n,c,f,l,w)}n=T,r=g,l=q,z!=null?$i(t,!!r,z,!1):!!l!=!!r&&(n!=null?$i(t,!!r,n,!0):$i(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(c=r[T],r.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=r[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,g,c,l,f)}Yo(t,z,q);return;case"option":for(var st in r)if(z=r[st],r.hasOwnProperty(st)&&z!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Yt(t,n,st,null,l,z)}for(w in l)if(z=l[w],q=r[w],l.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(t,n,w,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,z);for(k in l)if(z=l[k],q=r[k],l.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Yt(t,n,k,z,l,q)}return;default:if(Fs(n)){for(var Kt in r)z=r[Kt],r.hasOwnProperty(Kt)&&z!==void 0&&!l.hasOwnProperty(Kt)&&Uf(t,n,Kt,void 0,l,z);for(H in l)z=l[H],q=r[H],!l.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||Uf(t,n,H,z,l,q);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z==null&&q==null||Yt(t,n,F,z,l,q)}function Ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Ay(g)){for(g=0,T=c.responseEnd,l+=1;l<r.length;l++){var w=r[l],k=w.startTime;if(k>T)break;var H=w.transferSize,F=w.initiatorType;H&&Ay(F)&&(w=w.responseEnd,g+=H*(w<T?1:(T-k)/(w-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xf=null,Lf=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function Sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function kf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===zf?!1:(zf=t,!0):(zf=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(DE)}:Ry;function DE(t){setTimeout(function(){throw t})}function Ar(t){return t==="head"}function Iy(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(c),wa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Xl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Xl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Xl(t.ownerDocument.body);r=c}while(r);wa(n)}function Cy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Pf(r),Hs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function NE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function VE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function Dy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function Bf(t){return t.data==="$?"||t.data==="$~"}function qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Hf=null;function Ny(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Vy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Oy(t,n,r){switch(n=Zu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hs(t)}var On=new Map,My=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=W.d;W.d={f:ME,r:UE,D:xE,C:LE,L:kE,m:zE,X:BE,S:PE,M:qE};function ME(){var t=ji.f(),n=Hu();return t||n}function UE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?Zg(n):ji.r(t)}var Sa=typeof document>"u"?null:document;function Uy(t,n,r){var l=Sa;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),My.has(c)||(My.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),_e(n),l.head.appendChild(n)))}}function xE(t){ji.D(t),Uy("dns-prefetch",t,null)}function LE(t,n){ji.C(t,n),Uy("preconnect",t,n)}function kE(t,n,r){ji.L(t,n,r);var l=Sa;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+We(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+We(r.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=ba(t);break;case"script":f=Ra(t)}On.has(f)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Zl(f))||n==="script"&&l.querySelector(Jl(f))||(n=l.createElement("link"),He(n,"link",t),_e(n),l.head.appendChild(n)))}}function zE(t,n){ji.m(t,n);var r=Sa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ra(t)}if(!On.has(f)&&(t=b({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jl(f)))return}l=r.createElement("link"),He(l,"link",t),_e(l),r.head.appendChild(l)}}}function PE(t,n,r){ji.S(t,n,r);var l=Sa;if(l&&t){var c=ri(l).hoistableStyles,f=ba(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Zl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&jf(t,r);var w=g=l.createElement("link");_e(w),He(w,"link",t),w._p=new Promise(function(k,H){w.onload=k,w.onerror=H}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$u(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function BE(t,n){ji.X(t,n);var r=Sa;if(r&&t){var l=ri(r).hoistableScripts,c=Ra(t),f=l.get(c);f||(f=r.querySelector(Jl(c)),f||(t=b({src:t,async:!0},n),(n=On.get(c))&&Gf(t,n),f=r.createElement("script"),_e(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function qE(t,n){ji.M(t,n);var r=Sa;if(r&&t){var l=ri(r).hoistableScripts,c=Ra(t),f=l.get(c);f||(f=r.querySelector(Jl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=On.get(c))&&Gf(t,n),f=r.createElement("script"),_e(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function xy(t,n,r,l){var c=(c=Tt.current)?Ju(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ba(r.href),r=ri(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ba(r.href);var f=ri(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Zl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||HE(c,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ra(r),r=ri(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ba(t){return'href="'+We(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function HE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",r),_e(n),t.head.appendChild(n))}function Ra(t){return'[src="'+We(t)+'"]'}function Jl(t){return"script[async]"+t}function ky(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(r.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),He(l,"style",c),$u(l,r.precedence,t),n.instance=l;case"stylesheet":c=ba(r.href);var f=t.querySelector(Zl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Ly(r),(c=On.get(c))&&jf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(T,w){g.onload=T,g.onerror=w}),He(f,"link",l),n.state.loading|=4,$u(f,r.precedence,t),n.instance=f;case"script":return f=Ra(r.src),(c=t.querySelector(Jl(f)))?(n.instance=c,_e(c),c):(l=r,(c=On.get(f))&&(l=b({},r),Gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,$u(l,r.precedence,t));return n.instance}function $u(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wu=null;function zy(t,n,r){if(Wu===null){var l=new Map,c=Wu=new Map;c.set(r,l)}else c=Wu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[ni]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function Py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function jE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function By(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GE(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=ba(l.href),f=n.querySelector(Zl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,l=Ly(l),(c=On.get(c))&&jf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(T,w){g.onload=T,g.onerror=w}),He(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ff=0;function FE(t,n){return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ff===0&&(Ff=62500*RE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ff?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,n.forEach(QE,t),ec=null,tc.call(t))}function QE(t,n){if(!(n.state.loading&4)){var r=ec.get(t);if(r)var l=r.get(null);else{r=new Map,ec.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,c),r.set(g,c),this.count++,l=tc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function YE(t,n,r,l,c,f,g,T,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function qy(t,n,r,l,c,f,g,T,w,k,H,F){return t=new YE(t,n,r,g,w,k,H,F,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Sh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ih(f),t}function Hy(t){return t?(t=na,t):na}function jy(t,n,r,l,c,f){c=Hy(c),l.context===null?l.context=c:l.pendingContext=c,l=hr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=fr(t,l,n),r!==null&&(an(r,t,n),Nl(r,t,n))}function Gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Qf(t,n){Gy(t,n),(t=t.alternate)&&Gy(t,n)}function Fy(t){if(t.tag===13||t.tag===31){var n=cs(t,67108864);n!==null&&an(n,t,67108864),Qf(t,67108864)}}function Qy(t){if(t.tag===13||t.tag===31){var n=_n();n=$r(n);var r=cs(t,n);r!==null&&an(r,t,n),Qf(t,n)}}var ic=!0;function KE(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=2,Yf(t,n,r,l)}finally{W.p=f,j.T=c}}function XE(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=8,Yf(t,n,r,l)}finally{W.p=f,j.T=c}}function Yf(t,n,r,l){if(ic){var c=Kf(l);if(c===null)Mf(t,n,l,rc,r),Ky(t,l);else if(JE(c,t,n,r,l))l.stopPropagation();else if(Ky(t,l),n&4&&-1<ZE.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var w=1<<31-ce(g);T.entanglements[1]|=w,g&=~w}yi(f),(Pt&6)===0&&(Bu=Ze()+500,Ql(0))}}break;case 31:case 13:T=cs(f,2),T!==null&&an(T,f,2),Hu(),Qf(f,2)}if(f=Kf(l),f===null&&Mf(t,n,l,rc,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Mf(t,n,l,null,r)}}function Kf(t){return t=An(t),Xf(t)}var rc=null;function Xf(t){if(rc=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case el:return 2;case nl:return 8;case Zi:case th:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var Zf=!1,Sr=null,br=null,Rr=null,Wl=new Map,to=new Map,wr=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(t,n){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function eo(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&Fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function JE(t,n,r,l,c){switch(n){case"focusin":return Sr=eo(Sr,t,n,r,l,c),!0;case"dragenter":return br=eo(br,t,n,r,l,c),!0;case"mouseover":return Rr=eo(Rr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Wl.set(f,eo(Wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,to.set(f,eo(to.get(f)||null,t,n,r,l,c)),!0}return!1}function Xy(t){var n=ii(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ln(t.priority,function(){Qy(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,Ln(t.priority,function(){Qy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Kf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ml=l,r.target.dispatchEvent(l),ml=null}else return n=En(r),n!==null&&Fy(n),t.blockedOn=r,!1;n.shift()}return!0}function Zy(t,n,r){sc(t)&&r.delete(n)}function $E(){Zf=!1,Sr!==null&&sc(Sr)&&(Sr=null),br!==null&&sc(br)&&(br=null),Rr!==null&&sc(Rr)&&(Rr=null),Wl.forEach(Zy),to.forEach(Zy)}function ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Zf||(Zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$E)))}var lc=null;function Jy(t){lc!==t&&(lc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Xf(l||r)===null)continue;break}var f=En(r);f!==null&&(t.splice(n,3),n-=3,Yh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function wa(t){function n(w){return ac(w,t)}Sr!==null&&ac(Sr,t),br!==null&&ac(br,t),Rr!==null&&ac(Rr,t),Wl.forEach(n),to.forEach(n);for(var r=0;r<wr.length;r++){var l=wr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)Xy(r),r.blockedOn===null&&wr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],g=c[Me]||null;if(typeof f=="function")g||Jy(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)T=g.formAction;else if(Xf(c)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Jy(r)}}}function $y(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Jf(t){this._internalRoot=t}oc.prototype.render=Jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=_n();jy(r,l,t,n,null,null)},oc.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;jy(t.current,2,null,t,null,null),Hu(),n[ei]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ho();t={blockedOn:null,target:t,priority:n};for(var r=0;r<wr.length&&n!==0&&n<wr[r].priority;r++);wr.splice(r,0,t),r===0&&Xy(t)}};var Wy=e.version;if(Wy!=="19.2.0")throw Error(s(527,Wy,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var WE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Un=uc.inject(WE),ke=uc}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=ap,f=lp,g=op;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=qy(t,1,!1,null,null,r,l,null,c,f,g,$y),t[ei]=n.current,Of(t),new Jf(n)},io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=ap,g=lp,T=op,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=qy(t,1,!0,n,r??null,l,c,w,f,g,T,$y),n.context=Hy(null),r=n.current,l=_n(),l=$r(l),c=hr(l),c.callback=null,fr(r,c,l),r=l,n.current.lanes=r,Zr(n,r),yi(n),t[ei]=n.current,Of(t),new oc(n)},io.version="19.2.0",io}var u_;function uA(){if(u_)return td.exports;u_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),td.exports=oA(),td.exports}var Rw=uA();const cA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),c_=a=>{const e=hA(a);return e.charAt(0).toUpperCase()+e.slice(1)},Vv=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),fA=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mA=oo.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...y},v)=>oo.createElement("svg",{ref:v,...dA,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:Vv("lucide",o),...!h&&!fA(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>oo.createElement(_,A)),...Array.isArray(h)?h:[h]]));const ne=(a,e)=>{const i=oo.forwardRef(({className:s,...o},h)=>oo.createElement(mA,{ref:h,iconNode:e,className:Vv(`lucide-${cA(c_(a))}`,`lucide-${a}`,s),...o}));return i.displayName=c_(a),i};const gA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ww=ne("activity",gA);const pA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Iw=ne("code",pA);const yA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cw=ne("download",yA);const _A=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dw=ne("file-text",_A);const vA=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Nw=ne("flame",vA);const TA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Vw=ne("grip-vertical",TA);const EA=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Ow=ne("headphones",EA);const AA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Mw=ne("log-in",AA);const SA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uw=ne("log-out",SA);const bA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],xw=ne("maximize-2",bA);const RA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lw=ne("music",RA);const wA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],kw=ne("panels-top-left",wA);const IA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],zw=ne("pause",IA);const CA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Pw=ne("play",CA);const DA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bw=ne("plus",DA);const NA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qw=ne("rotate-ccw",NA);const VA=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Hw=ne("sliders-vertical",VA);const OA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jw=ne("square-check-big",OA);const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gw=ne("target",MA);const UA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fw=ne("trash-2",UA);const xA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Qw=ne("trophy",xA);const LA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yw=ne("upload",LA);const kA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kw=ne("user",kA);const zA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Xw=ne("volume-2",zA);const PA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Zw=ne("volume-x",PA),BA=()=>{};var h_={};const Ov=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],y=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,y=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let B=(y&15)<<2|_>>6,X=_&63;v||(X=64,d||(B=64)),s.push(i[A],i[b],i[B],i[X])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Ov(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):qA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],y=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||y==null||_==null||b==null)throw new HA;const B=h<<2|y>>4;if(s.push(B),_!==64){const X=y<<4&240|_>>2;if(s.push(X),b!==64){const $=_<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class HA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(a){const e=Ov(a);return Mv.encodeByteArray(e,!0)},Uv=function(a){return jA(a).replace(/\./g,"")},xv=function(a){try{return Mv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FA=()=>GA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof h_>"u")return;const a=h_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},YA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&xv(a[1]);return e&&JSON.parse(e)},Lv=()=>{try{return BA()||FA()||QA()||YA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},KA=a=>Lv()?.[`_${a}`];function Bd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function ZA(){const a=Lv()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const iS="FirebaseError";class Ki extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=iS,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?rS(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ki(o,y,s)}}function rS(a,e){return a.replace(sS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sS=/\{\$([^}]+)}/g;function qd(a){const e=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function aS(a,e){const i=new lS(a,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=rd),o.error===void 0&&(o.error=rd),o.complete===void 0&&(o.complete=rd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function rd(){}function Xe(a){return a&&a._delegate?a._delegate:a}class za{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const uS={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},cS=Ct.INFO,hS={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},fS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=hS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hd{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const dS=(a,e)=>e.some(i=>a instanceof i);let f_,d_;function mS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,pd=new WeakMap,zv=new WeakMap,sd=new WeakMap,jd=new WeakMap;function pS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ur(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&kv.set(i,a)}).catch(()=>{}),jd.set(e,a),e}function yS(a){if(pd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});pd.set(a,e)}let yd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return pd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||zv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function _S(a){yd=a(yd)}function vS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(ad(this),e,...i);return zv.set(s,e.sort?e.sort():[e]),Ur(s)}:gS().includes(a)?function(...e){return a.apply(ad(this),e),Ur(kv.get(this))}:function(...e){return Ur(a.apply(ad(this),e))}}function TS(a){return typeof a=="function"?vS(a):(a instanceof IDBTransaction&&yS(a),dS(a,mS())?new Proxy(a,yd):a)}function Ur(a){if(a instanceof IDBRequest)return pS(a);if(sd.has(a))return sd.get(a);const e=TS(a);return e!==a&&(sd.set(a,e),jd.set(e,a)),e}const ad=a=>jd.get(a);function ES(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),y=Ur(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ur(d.result),v.oldVersion,v.newVersion,Ur(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],ld=new Map;function m_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=SS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AS.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return ld.set(e,h),h}_S(a=>({...a,get:(e,i,s)=>m_(e,i)||a.get(e,i,s),has:(e,i)=>!!m_(e,i)||a.has(e,i)}));class bS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function RS(a){return a.getComponent()?.type==="VERSION"}const _d="@firebase/app",g_="0.14.6";const Fi=new Hd("@firebase/app"),wS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",DS="@firebase/app-check-compat",NS="@firebase/app-check",VS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",US="@firebase/data-connect",xS="@firebase/database-compat",LS="@firebase/functions",kS="@firebase/functions-compat",zS="@firebase/installations",PS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",jS="@firebase/performance-compat",GS="@firebase/remote-config",FS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",KS="@firebase/firestore",XS="@firebase/ai",ZS="@firebase/firestore-compat",JS="firebase",$S="12.6.0",WS={[_d]:"fire-core",[wS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[NS]:"fire-app-check",[DS]:"fire-app-check-compat",[VS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[US]:"fire-data-connect",[xS]:"fire-rtdb-compat",[LS]:"fire-fn",[kS]:"fire-fn-compat",[zS]:"fire-iid",[PS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[jS]:"fire-perf-compat",[GS]:"fire-rc",[FS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[KS]:"fire-fst",[ZS]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};const t1=new Map,e1=new Map,p_=new Map;function y_(a,e){try{a.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Pa(a){const e=a.name;if(p_.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,a);for(const i of t1.values())y_(i,a);for(const i of e1.values())y_(i,a);return!0}function vi(a){return a==null?!1:a.settings!==void 0}const n1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gd=new wo("app","Firebase",n1);const Lc=$S;function xr(a,e,i){let s=WS[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}Pa(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const i1="firebase-heartbeat-database",r1=1,go="firebase-heartbeat-store";let od=null;function Pv(){return od||(od=ES(i1,r1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw Gd.create("idb-open",{originalErrorMessage:a.message})})),od}async function s1(a){try{const i=(await Pv()).transaction(go),s=await i.objectStore(go).get(Bv(a));return await i.done,s}catch(e){if(e instanceof Ki)Fi.warn(e.message);else{const i=Gd.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(i.message)}}}async function __(a,e){try{const s=(await Pv()).transaction(go,"readwrite");await s.objectStore(go).put(e,Bv(a)),await s.done}catch(i){if(i instanceof Ki)Fi.warn(i.message);else{const s=Gd.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(s.message)}}}function Bv(a){return`${a.name}!${a.options.appId}`}const a1=1024,l1=30;class o1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>l1){const o=h1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:i,unsentEntries:s}=u1(this._heartbeatsCache.heartbeats),o=Uv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fi.warn(e),""}}}function v_(){return new Date().toISOString().substring(0,10)}function u1(a,e=a1){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),T_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class c1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await s1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function T_(a){return Uv(JSON.stringify({version:2,heartbeats:a})).length}function h1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function f1(a){Pa(new za("platform-logger",e=>new bS(e),"PRIVATE")),Pa(new za("heartbeat",e=>new o1(e),"PRIVATE")),xr(_d,g_,a),xr(_d,g_,"esm2020"),xr("fire-js","")}f1("");var d1="firebase",m1="12.6.0";xr(d1,m1,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g1=qv,Hv=new wo("auth","Firebase",qv());const Sc=new Hd("@firebase/auth");function p1(a,...e){Sc.logLevel<=Ct.WARN&&Sc.warn(`Auth (${Lc}): ${a}`,...e)}function pc(a,...e){Sc.logLevel<=Ct.ERROR&&Sc.error(`Auth (${Lc}): ${a}`,...e)}function Ds(a,...e){throw Qd(a,...e)}function Va(a,...e){return Qd(a,...e)}function Fd(a,e,i){const s={...g1(),[e]:i};return new wo("auth","Firebase",s).create(e,{appName:a.name})}function Oa(a){return Fd(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y1(a,e,i){const s=i;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ds(a,"argument-error"),Fd(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qd(a,...e){if(typeof a!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return Hv.create(a,...e)}function At(a,e,...i){if(!a)throw Qd(e,...i)}function Gi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw pc(e),new Error(e)}function Ns(a,e){a||Gi(e)}function _1(){return E_()==="http:"||E_()==="https:"}function E_(){return typeof self<"u"&&self.location?.protocol||null}function v1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_1()||$A()||"connection"in navigator)?navigator.onLine:!0}function T1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Io{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ns(i>e,"Short delay should be less than long delay!"),this.isMobile=XA()||WA()}get(){return v1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function E1(a,e){Ns(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class jv{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const S1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b1=new Io(3e4,6e4);function Yd(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Co(a,e,i,s,o={}){return Gv(a,o,async()=>{let h={},d={};s&&(e==="GET"?d=s:h={body:JSON.stringify(s)});const y=qd({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:e,headers:v,...h};return JA()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Bd(a.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(await Fv(a,a.config.apiHost,i,y),_)})}async function Gv(a,e,i){a._canInitEmulator=!1;const s={...A1,...e};try{const o=new w1(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw cc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw cc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw cc(a,"user-disabled",d);const A=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fd(a,A,_);Ds(a,A)}}catch(o){if(o instanceof Ki)throw o;Ds(a,"network-request-failed",{message:String(o)})}}async function R1(a,e,i,s,o={}){const h=await Co(a,e,i,s,o);return"mfaPendingCredential"in h&&Ds(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function Fv(a,e,i,s){const o=`${e}${i}?${s}`,h=a,d=h.config.emulator?E1(a.config,o):`${a.config.apiScheme}://${o}`;return S1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class w1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Va(this.auth,"network-request-failed")),b1.get())})}}function cc(a,e,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=Va(a,e,s);return o.customData._tokenResponse=i,o}async function I1(a,e){return Co(a,"POST","/v1/accounts:delete",e)}async function bc(a,e){return Co(a,"POST","/v1/accounts:lookup",e)}function uo(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C1(a,e=!1){const i=Xe(a),s=await i.getIdToken(e),o=Kd(s);At(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:s,authTime:uo(ud(o.auth_time)),issuedAtTime:uo(ud(o.iat)),expirationTime:uo(ud(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ud(a){return Number(a)*1e3}function Kd(a){const[e,i,s]=a.split(".");if(e===void 0||i===void 0||s===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=xv(i);return o?JSON.parse(o):(pc("Failed to decode base64 JWT payload"),null)}catch(o){return pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function A_(a){const e=Kd(a);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function po(a,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Ki&&D1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function D1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class N1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=uo(this.lastLoginAt),this.creationTime=uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rc(a){const e=a.auth,i=await a.getIdToken(),s=await po(a,bc(e,{idToken:i}));At(s?.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const h=o.providerUserInfo?.length?Qv(o.providerUserInfo):[],d=O1(a.providerData,h),y=a.isAnonymous,v=!(a.email&&o.passwordHash)&&!d?.length,_=y?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(a,A)}async function V1(a){const e=Xe(a);await Rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O1(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Qv(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function M1(a,e){const i=await Gv(a,{},async()=>{const s=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await Fv(a,o,"/v1/token",`key=${h}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return a.emulatorConfig&&Bd(a.emulatorConfig.host)&&(v.credentials="include"),jv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function U1(a,e){return Co(a,"POST","/v2/accounts:revokeToken",Yd(a,e))}class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){At(e.length!==0,"internal-error");const i=A_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:h}=await M1(e,i);this.updateTokensAndExpiration(s,o,Number(h))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:h}=i,d=new Ma;return s&&(At(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(At(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Gi("not implemented")}}function Cr(a,e){At(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new N1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await po(this,this.stsTokenManager.getToken(this.auth,e));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return C1(this,e)}reload(){return V1(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Rc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await po(this,I1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:B,isAnonymous:X,providerData:$,stsTokenManager:et}=i;At(b&&et,e,"internal-error");const J=Ma.fromJSON(this.name,et);At(typeof b=="string",e,"internal-error"),Cr(s,e.name),Cr(o,e.name),At(typeof B=="boolean",e,"internal-error"),At(typeof X=="boolean",e,"internal-error"),Cr(h,e.name),Cr(d,e.name),Cr(y,e.name),Cr(v,e.name),Cr(_,e.name),Cr(A,e.name);const ft=new Qn({uid:b,auth:e,email:o,emailVerified:B,displayName:s,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:J,createdAt:_,lastLoginAt:A});return $&&Array.isArray($)&&(ft.providerData=$.map(St=>({...St}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(e,i,s=!1){const o=new Ma;o.updateFromServerResponse(i);const h=new Qn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rc(h),h}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];At(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?Qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,y=new Ma;y.updateFromIdToken(s);const v=new Qn({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const S_=new Map;function Ss(a){Ns(a instanceof Function,"Expected a class definition");let e=S_.get(a);return e?(Ns(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,S_.set(a,e),e)}class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Yv.type="NONE";const b_=Yv;function cd(a,e,i){return`firebase:${a}:${e}:${i}`}class Ua{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:h}=this.auth;this.fullUserKey=cd(this.userKey,o.apiKey,h),this.fullPersistenceKey=cd("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await bc(this.auth,{idToken:e}).catch(()=>{});return i?Qn._fromGetAccountInfoResponse(this.auth,i,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ua(Ss(b_),e,s);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||Ss(b_);const d=cd(s,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const B=await bc(e,{idToken:A}).catch(()=>{});if(!B)break;b=await Qn._fromGetAccountInfoResponse(e,B,A)}else b=Qn._fromJSON(e,A);_!==h&&(y=b),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Ua(h,e,s):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ua(h,e,s))}}function R_(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(q1(e))return"Webos";if(L1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function x1(a=Kn()){return/firefox\//i.test(a)}function L1(a=Kn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(a=Kn()){return/crios\//i.test(a)}function z1(a=Kn()){return/iemobile/i.test(a)}function P1(a=Kn()){return/android/i.test(a)}function B1(a=Kn()){return/blackberry/i.test(a)}function q1(a=Kn()){return/webos/i.test(a)}function Kv(a,e=[]){let i;switch(a){case"Browser":i=R_(Kn());break;case"Worker":i=`${R_(Kn())}-${a}`;break;default:i=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Lc}/${s}`}class H1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=h=>new Promise((d,y)=>{try{const v=e(h);d(v)}catch(v){y(v)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function j1(a,e={}){return Co(a,"GET","/v2/passwordPolicy",Yd(a,e))}const G1=6;class F1{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??G1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class Q1{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new H1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await bc(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Rc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vi(this.app))return Promise.reject(Oa(this));const i=e?Xe(e):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vi(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j1(this),i=new F1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wo("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await U1(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ss(e)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,s,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xv(a){return Xe(a)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Y1(a,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Ss);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e?.popupRedirectResolver)}class Zv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,i){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function xa(a,e){return R1(a,"POST","/v1/accounts:signInWithIdp",Yd(a,e))}const K1="http://localhost";class Vs extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...h}=i;if(!s||!o)return null;const d=new Vs(s,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return xa(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,xa(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,xa(e,i)}buildRequest(){const e={requestUri:K1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=qd(i)}return e}}class Jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kc extends Jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dr extends kc{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";class Nr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Vs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Nr.credential(i,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Vr extends kc{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Or extends kc{constructor(){super("twitter.com")}static credential(e,i){return Vs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Or.credential(i,s)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const h=await Qn._fromIdTokenResponse(e,s,o),d=I_(s);return new Ba({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=I_(s);return new Ba({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function I_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class wc extends Ki{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new wc(e,i,s,o)}}function $v(a,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(a,h,e,s):h})}async function X1(a,e,i=!1){const s=await po(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return Ba._forOperation(a,"link",s)}async function Z1(a,e,i=!1){const{auth:s}=a;if(vi(s.app))return Promise.reject(Oa(s));const o="reauthenticate";try{const h=await po(a,$v(s,o,e,a),i);At(h.idToken,s,"internal-error");const d=Kd(h.idToken);At(d,s,"internal-error");const{sub:y}=d;return At(a.uid===y,s,"user-mismatch"),Ba._forOperation(a,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ds(s,"user-mismatch"),h}}async function J1(a,e,i=!1){if(vi(a.app))return Promise.reject(Oa(a));const s="signIn",o=await $v(a,s,e),h=await Ba._fromIdTokenResponse(a,s,o);return i||await a._updateCurrentUser(h.user),h}function Jw(a,e,i,s){return Xe(a).onAuthStateChanged(e,i,s)}function $w(a){return Xe(a).signOut()}function $1(a="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return a+i}new Io(3e4,6e4);function W1(a,e){return At(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver}class Xd extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return xa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function tb(a){return J1(a.auth,new Xd(a),a.bypassAuthState)}function eb(a){const{auth:e,user:i}=a;return At(i,e,"internal-error"),Z1(i,new Xd(a),a.bypassAuthState)}async function nb(a){const{auth:e,user:i}=a;return At(i,e,"internal-error"),X1(i,new Xd(a),a.bypassAuthState)}class ib{constructor(e,i,s,o,h=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:h,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tb;case"linkViaPopup":case"linkViaRedirect":return nb;case"reauthViaPopup":case"reauthViaRedirect":return eb;default:Ds(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rb=new Io(2e3,1e4);async function Ww(a,e,i){if(vi(a.app))return Promise.reject(Va(a,"operation-not-supported-in-this-environment"));const s=Xv(a);y1(a,e,Jv);const o=W1(s);return new bs(s,"signInViaPopup",e,o).executeNotNull()}class bs extends ib{constructor(e,i,s,o,h){super(e,i,o,h),this.provider=s,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=$1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rb.get())};e()}}bs.currentPopupAction=null;new Io(3e4,6e4);new Io(5e3,15e3);var C_="@firebase/auth",D_="1.11.1";class sb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ab(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lb(a){Pa(new za("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kv(a)},_=new Q1(s,o,h,v);return Y1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Pa(new za("auth-internal",e=>{const i=Xv(e.getProvider("auth").getImmediate());return(s=>new sb(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(C_,D_,ab(a)),xr(C_,D_,"esm2020")}const ob=300;KA("authIdTokenMaxAge");lb("Browser");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lr,Wv;(function(){var a;function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,N,U){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return S.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,I){I||(I=0);const O=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)O[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)O[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],R;R=S+(U^I&(N^U))+O[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(U^I&(N^U))+O[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(N^S&(I^N))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(I^U&(S^I))+O[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(S^N&(U^S))+O[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(I^N))+O[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(I^N))+O[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(S^I))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(U^S))+O[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(N^U))+O[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(I^N^U)+O[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^U)+O[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^N)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^I)+O[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^S)+O[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(N^(I|~U))+O[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~U))+O[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~N))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~I))+O[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,O=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(O[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,O),N=0;break}}else for(;U<S;)if(O[N++]=C[U++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[S++]=this.g[I]>>>O&255;return C};function h(C,S){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let O=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;O&&U==S||(I[N]=U,O=!1)}this.g=I}var y={};function v(C){return-128<=C&&C<128?h(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(_(-C));const S=[];let I=1;for(let O=0;C>=I;O++)S[O]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return J(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let O=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),O=O.j(N).add(_(R))):(O=O.j(I),O=O.add(_(R)))}return O}var b=v(0),B=v(1),X=v(16777216);a=d.prototype,a.m=function(){if(et(this))return-J(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(et(this))return"-"+J(this).toString(C);const S=_(Math.pow(C,6));var I=this;let O="";for(;;){const N=Zt(I,S).g;I=ft(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}a.l=function(C){return C=ft(this,C),et(C)?-1:$(C)?0:1};function J(C){const S=C.g.length,I=[];for(let O=0;O<S;O++)I[O]=~C.g[O];return new d(I,~C.h).add(B)}a.abs=function(){return et(this)?J(this):this},a.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let N=0;N<=S;N++){let U=O+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=R>>>16,U&=65535,R&=65535,I[N]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add(J(S))}a.j=function(C){if($(this)||$(C))return b;if(et(this))return et(C)?J(this).j(J(C)):J(J(this).j(C));if(et(C))return J(this.j(J(C)));if(this.l(X)<0&&C.l(X)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const U=this.i(O)>>>16,R=this.i(O)&65535,ie=C.i(N)>>>16,Ce=C.i(N)&65535;I[2*O+2*N]+=R*Ce,St(I,2*O+2*N),I[2*O+2*N+1]+=U*Ce,St(I,2*O+2*N+1),I[2*O+2*N+1]+=R*ie,St(I,2*O+2*N+1),I[2*O+2*N+2]+=U*ie,St(I,2*O+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function St(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function yt(C,S){this.g=C,this.h=S}function Zt(C,S){if($(S))throw Error("division by zero");if($(C))return new yt(b,b);if(et(C))return S=Zt(J(C),S),new yt(J(S.g),J(S.h));if(et(S))return S=Zt(C,J(S)),new yt(J(S.g),S.h);if(C.g.length>30){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var I=B,O=S;O.l(C)<=0;)I=$t(I),O=$t(O);var N=Ut(I,1),U=Ut(O,1);for(O=Ut(O,2),I=Ut(I,2);!$(O);){var R=U.add(O);R.l(C)<=0&&(N=N.add(I),U=R),O=Ut(O,1),I=Ut(I,1)}return S=ft(C,N.j(S)),new yt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(I),R=U.j(S);et(R)||R.l(C)>0;)I-=O,U=_(I),R=U.j(S);$(U)&&(U=B),N=N.add(U),C=ft(C,R)}return new yt(N,C)}a.B=function(C){return Zt(this,C).h},a.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)&C.i(O);return new d(I,this.h&C.h)},a.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)|C.i(O);return new d(I,this.h|C.h)},a.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)^C.i(O);return new d(I,this.h^C.h)};function $t(C){const S=C.g.length+1,I=[];for(let O=0;O<S;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(I,C.h)}function Ut(C,S){const I=S>>5;S%=32;const O=C.g.length-I,N=[];for(let U=0;U<O;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Wv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Lr=d}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tT,ro,eT,yc,Td,nT,iT,rT;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var x=u[E];if(!(x in p))break t;p=p[x]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&p.push([E,m[E]]);return p}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(E,x,P){for(var Z=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Z[_t-2]=arguments[_t];return m.prototype[x].apply(E,Z)}}var B=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function $(u,m){for(let E=1;E<arguments.length;E++){const x=arguments[E];var p=typeof x;if(p=p!="object"?p:x?Array.isArray(x)?"array":p:"null",p=="array"||p=="object"&&typeof x.length=="number"){p=u.length||0;const P=x.length||0;u.length=p+P;for(let Z=0;Z<P;Z++)u[p+Z]=x[Z]}else u.push(x)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,p){const E=yt.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var yt=new et(()=>new Zt,u=>u.reset());class Zt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Ut=!1,C=new St,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(p){J(p)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,p,E,x){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=x,this.key=++j,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function qt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let p,E;for(let x=1;x<arguments.length;x++){E=arguments[x];for(p in E)u[p]=E[p];for(let P=0;P<Q.length;P++)p=Q[P],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,E,x){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const Z=Tt(u,m,E,x);return Z>-1?(m=u[Z],p||(m.fa=!1)):(m=new W(m,this.src,P,!!E,x),m.fa=p,u.push(m)),m};function dt(u,m){const p=m.type;if(p in u.g){var E=u.g[p],x=Array.prototype.indexOf.call(E,m,void 0),P;(P=x>=0)&&Array.prototype.splice.call(E,x,1),P&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Tt(u,m,p,E){for(let x=0;x<u.length;++x){const P=u[x];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==E)return x}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,p,E,x){if(Array.isArray(m)){for(let P=0;P<m.length;P++)re(u,m[P],p,E,x);return null}return p=tl(p),u&&u[Ce]?u.J(m,p,y(E)?!!E.capture:!1,x):Qr(u,m,p,!1,E,x)}function Qr(u,m,p,E,x,P){if(!m)throw Error("Invalid event type");const Z=y(x)?!!x.capture:!!x;let _t=Yr(u);if(_t||(u[Ot]=_t=new rt(u)),p=_t.add(m,p,E,Z,P),p.proxy)return p;if(E=ks(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)U||(x=Z),x===void 0&&(x=!1),u.addEventListener(m.toString(),E,x);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ks(){function u(p){return m.call(u.src,u.listener,p)}const m=$a;return u}function zs(u,m,p,E,x){if(Array.isArray(m))for(var P=0;P<m.length;P++)zs(u,m[P],p,E,x);else E=y(E)?!!E.capture:!!E,p=tl(p),u&&u[Ce]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=Tt(m,p,E,x),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Yr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,p,E,x)),(p=u>-1?m[u]:null)&&Ps(p))}function Ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])dt(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(Zn(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=Yr(m))?(dt(p,u),p.h==0&&(p.src=null,m[Ot]=null)):ut(u)}}}function Zn(u){return u in De?De[u]:De[u]="on"+u}function $a(u,m){if(u.da)u=!0;else{m=new ie(m,this);const p=u.listener,E=u.ha||u.src;u.fa&&Ps(u),u=p.call(E,m)}return u}function Yr(u){return u=u[Ot],u instanceof rt?u:null}var Wa="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(u){return typeof u=="function"?u:(u[Wa]||(u[Wa]=function(m){return u.handleEvent(m)}),u[Wa])}function ge(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ge,O),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,p,E){zs(this,u,m,p,E)};function Ne(u,m){var p,E=u.G;if(E)for(p=[];E;E=E.G)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var x=m;m=new N(E,u),tt(m,x)}x=!0;let P,Z;if(p)for(Z=p.length-1;Z>=0;Z--)P=m.g=p[Z],x=Xi(P,E,!0,m)&&x;if(P=m.g=u,x=Xi(P,E,!0,m)&&x,x=Xi(P,E,!1,m)&&x,p)for(Z=0;Z<p.length;Z++)P=m.g=p[Z],x=Xi(P,E,!1,m)&&x}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let E=0;E<p.length;E++)ut(p[E]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},ge.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function Xi(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let P=0;P<m.length;++P){const Z=m[P];if(Z&&!Z.da&&Z.capture==p){const _t=Z.listener,he=Z.ha||Z.src;Z.fa&&dt(u.i,Z),x=_t.call(he,E)!==!1&&x}}return x&&!E.defaultPrevented}function Wc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xo(u){u.g=Wc(()=>{u.g=null,u.i&&(u.i=!1,xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){O.call(this),this.h=u,this.g={}}b(Kr,O);var el=[];function nl(u){xt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ps(m)},u),u.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),nl(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=d.JSON.stringify,th=d.JSON.parse,Lo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ko(){}function zo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}b(ke,N);function Tn(){N.call(this,"c")}b(Tn,N);var ce={},Po=null;function Bs(){return Po=Po||new ge}ce.Ia="serverreachability";function Bo(u){N.call(this,ce.Ia,u)}b(Bo,N);function Jn(u){const m=Bs();Ne(m,new Bo(m))}ce.STAT_EVENT="statevent";function Xr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(Xr,N);function pe(u){const m=Bs();Ne(m,new Xr(m,u))}ce.Ja="timingevent";function $n(u,m){N.call(this,ce.Ja,u),this.size=m}b($n,N);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function eh(u,m,p,E,x,P){u.info(function(){if(u.g)if(P){var Z="",_t=P.split("&");for(let zt=0;zt<_t.length;zt++){var he=_t[zt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");Z=bn.length>=2&&bn[1]=="type"?Z+(se+"="+he+"&"):Z+(se+"=redacted&")}}}else Z=null;else Z=P;return"XMLHTTP REQ ("+E+") [attempt "+x+"]: "+m+`
`+p+`
`+Z})}function qo(u,m,p,E,x,P,Z){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+x+"]: "+m+`
`+p+`
`+P+" "+Z})}function ti(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nh(u,p)+(E?" "+E:"")})}function Zr(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function nh(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var E=p[1];if(Array.isArray(E)&&!(E.length<1)){var x=E[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Z=1;Z<E.length;Z++)E[Z]=""}}}}return Zi(P)}catch{return m}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function $r(){}b($r,ko),$r.prototype.g=function(){return new XMLHttpRequest},rl=new $r;function Ri(u){return encodeURIComponent(String(u))}function Ho(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Ln(u,m,p,E){this.j=u,this.i=m,this.l=p,this.S=E||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ei(u,m,p){u.M=1,u.A=Wr(ve(m)),u.u=p,u.R=!0,qs(u,null)}function qs(u,m){u.F=Date.now(),ni(u),u.B=ve(u.A);var p=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Fs(p.i,"t",E),u.C=0,p=u.j.L,u.h=new kn,u.g=iu(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,E=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(el[0]=x.toString()),x=el);for(let P=0;P<x.length;P++){const Z=re(p,x[P],E||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),eh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const _t=Bn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||_t!=4||he==7||(he==8||zt<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var p=ih(this);if(this.o=m==200,qo(this.i,this.v,this.B,this.l,this.S,_t,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,x=this.g;if((E=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var P=E;break e}}P=null}if(u=P)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=Go(this,p),se==Me){_t==4&&(this.m=4,pe(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ti(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,se,null),ri(this,se);if(jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),vl(Z),Z.P=!0,pe(11))}}else ti(this.i,this.l,p,null),ri(this,p);_t==4&&cn(this),this.o&&!this.K&&(_t==4?Wo(this.j,this):(this.o=!1,ni(this)))}else Ii(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function ih(u){if(!jo(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let p="";const E=m.length,x=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<E;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(x&&P==E-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function jo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Go(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?Me:(p=Number(m.substring(p,E)),isNaN(p)?ye:(E+=1,E+p>m.length?Me:(m=m.slice(E,E+p),u.C=E+p,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ni(u){u.T=Date.now()+u.H,Hs(u,u.H)}function Hs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(Jn(),pe(17)),cn(this),this.m=2,En(this)):Hs(this,this.T-u)};function En(u){u.j.I==0||u.K||Wo(u.j,u)}function cn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,nl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ai(p.h,u))){if(!u.L&&ai(p.h,u)&&p.I==3){try{var E=p.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var x=E;if(x[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Zs(p),rr(p);else break t;as(p),pe(18)}}else p.xa=x[1],0<p.xa-p.K&&x[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Wn(_(p.Va,p),6e3));si(p.h)<=1&&p.ta&&(p.ta=void 0)}else fi(p,11)}else if((u.L||p.g==u)&&Zs(p),!R(m))for(x=p.Ba.g.parse(m),m=0;m<x.length;m++){let zt=x[m];const se=zt[0];if(!(se<=p.K))if(p.K=se,zt=zt[1],p.I==2)if(zt[0]=="c"){p.M=zt[1],p.ba=zt[2];const bn=zt[3];bn!=null&&(p.ka=bn,p.j.info("VER="+p.ka));const di=zt[4];di!=null&&(p.za=di,p.j.info("SVER="+p.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(E=1.5*qn,p.O=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const Hn=u.g;if(Hn){const ls=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var P=E.h;P.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(ll(P,P.h),P.h=null))}if(E.G){const Js=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(E.wa=Js,Ht(E.J,E.G,Js))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),E=p;var Z=u;if(E.na=nu(E,E.L?E.ba:null,E.W),Z.L){ol(E.h,Z);var _t=Z,he=E.O;he&&(_t.H=he),_t.D&&(ii(_t),ni(_t)),E.g=Z}else Jo(E);p.i.length>0&&hi(p)}else zt[0]!="stop"&&zt[0]!="close"||fi(p,7);else p.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?fi(p,7):yl(p):zt[0]!="noop"&&p.l&&p.l.qa(zt),p.A=0)}}Jn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ll(u,m){u.g?u.g.add(m):u.h=m}function ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}sl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return X(u.i)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const E=u[p].indexOf("=");let x,P=null;E>=0?(x=u[p].substring(0,E),P=u[p].substring(E+1)):x=u[p],m(x,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.u),this.h=u.h,cl(this,Xo(u.i)),this.m=u.m):u&&(m=String(u).match(Fo))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Ji(this,m[4]),this.h=li(m[5]||"",!0),cl(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ts(m,Gs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,Gs,!0),"@"),u.push(Ri(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ts(p,p.charAt(0)=="/"?hl:Qo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ts(p,Yo)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Ue(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var E=u.h;if(p)Ji(m,u.u);else if(p=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var x=m.h.lastIndexOf("/");x!=-1&&(E=m.h.slice(0,x+1)+E)}if(x=E,x==".."||x==".")E="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){E=x.lastIndexOf("/",0)==0,x=x.split("/");const P=[];for(let Z=0;Z<x.length;){const _t=x[Z++];_t=="."?E&&Z==x.length&&P.push(""):_t==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),E&&Z==x.length&&P.push("")):(P.push(_t),E=!0)}E=P.join("/")}else E=x}return p?m.h=E:p=u.i.toString()!=="",p?cl(m,Xo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new hn(u)}function Ue(u,m,p){u.j=p?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function cl(u,m,p){m instanceof Wi?(u.i=m,Qs(u.i,u.l)):(p||(m=ts(m,$i)),u.i=new Wi(m,u.l))}function Ht(u,m,p){u.i.set(m,p)}function Wr(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Qo=/[#\?:]/g,hl=/[#\?]/g,$i=/[#\?@]/g,Yo=/#/g;function Wi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&js(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Wi.prototype,a.add=function(u,m){tn(this),this.i=null,u=tr(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ko(u,m){tn(u),m=tr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fl(u,m){return tn(u),m=tr(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(p,E){p.forEach(function(x){u.call(m,x,E,this)},this)},this)};function dl(u,m){tn(u);let p=[];if(typeof m=="string")fl(u,m)&&(p=p.concat(u.g.get(tr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return tn(this),this.i=null,u=tr(this,u),fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=dl(this,u),u.length>0?String(u[0]):m):m};function Fs(u,m,p){Ko(u,m),p.length>0&&(u.i=null,u.g.set(tr(u,m),X(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var p=m[E];const x=Ri(p);p=dl(this,p);for(let P=0;P<p.length;P++){let Z=x;p[P]!==""&&(Z+="="+Ri(p[P])),u.push(Z)}}return this.i=u.join("&")};function Xo(u){const m=new Wi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function tr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qs(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,E){const x=E.toLowerCase();E!=x&&(Ko(this,E),Fs(this,x,p))},u)),u.j=m}function zn(u,m){const p=new xn;if(d.Image){const E=new Image;E.onload=A(An,p,"TestLoadImage: loaded",!0,m,E),E.onerror=A(An,p,"TestLoadImage: error",!1,m,E),E.onabort=A(An,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(An,p,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function ml(u,m){const p=new xn,E=new AbortController,x=setTimeout(()=>{E.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(P=>{clearTimeout(x),P.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,E,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),E(p)}catch{}}function er(){this.g=new Lo}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(oi,ko),oi.prototype.g=function(){return new es(this.i,this.h)};function es(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(es,ge),a=es.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Pn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ys(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ys(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?nr(this):Pn(this),this.readyState==3&&Ys(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,nr(this))},a.Na=function(u){this.g&&(this.response=u,nr(this))},a.ga=function(){this.g&&nr(this)};function nr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Pn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return xt(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function ns(u,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=Sn(p),typeof u=="string"?p!=null&&Ri(p):Ht(u,m,p))}function Ft(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ft,ge);var ui=/^https?$/i,gl=["POST","PUT"];a=Ft.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=B(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){is(this,P);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var x in E)p.set(x,E[x]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const P of E.keys())p.set(P,E.get(P));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(gl,m,void 0)>=0)||E||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,Z]of p)this.g.setRequestHeader(P,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){is(this,P)}};function is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,pl(u),wi(u)}function pl(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Ft.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?rs(this):this.Xa())},a.Xa=function(){rs(this)};function rs(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=P===0){let Z=String(u.D).match(Fo)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),E=!ui.test(Z?Z.toLowerCase():"")}p=E}if(p)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var x=Bn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",pl(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ne(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),th(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var p=Ho(u[E]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[x]||[];m[x]=P,P.push(p)}qt(m,function(E){return E.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ir(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(u&&u.concurrentRequestLimit),this.Ba=new er,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ir.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,E){pe(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.J=nu(this,null,this.W),hi(this)};function yl(u){if(Ks(u),u.I==3){var m=u.V++,p=ve(u.J);if(Ht(p,"SID",u.M),Ht(p,"RID",m),Ht(p,"TYPE","terminate"),ss(u,p),m=new Ln(u,u.j,m),m.M=2,m.A=Wr(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}eu(u)}function rr(u){u.g&&(vl(u),u.g.cancel(),u.g=null)}function Ks(u){rr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Zs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!al(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),Ut||($t(),Ut=!0),C.add(m,u),u.D=0}}function Xs(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),tu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Ln(this,this.j,u);let P=this.o;if(this.U&&(P?(P=V(P),tt(P,this.U)):P=this.U),this.u!==null||this.R||(x.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Zo(this,x,m),p=ve(this.J),Ht(p,"RID",u),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),ss(this,p),P&&(this.R?m="headers="+Ri(Sn(P))+"&"+m:this.u&&ns(p,this.u,P)),ll(this.h,x),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",m),Ht(p,"SID","null"),x.U=!0,ei(x,p,null)):ei(x,p,m),this.I=2}}else this.I==3&&(u?_l(this,u):this.i.length==0||al(this.h)||_l(this))};function _l(u,m){var p;m?p=m.l:p=u.V++;const E=ve(u.J);Ht(E,"SID",u.M),Ht(E,"RID",p),Ht(E,"AID",u.K),ss(u,E),u.u&&u.o&&ns(E,u.u,u.o),p=new Ln(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Zo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ll(u.h,p),ei(p,E,m)}function ss(u,m){u.H&&xt(u.H,function(p,E){Ht(m,E,p)}),u.l&&xt({},function(p,E){Ht(m,E,p)})}function Zo(u,m,p){p=Math.min(u.i.length,p);const E=u.l?_(u.l.Ka,u.l,u):null;t:{var x=u.i;let _t=-1;for(;;){const he=["count="+p];_t==-1?p>0?(_t=x[0].g,he.push("ofs="+_t)):_t=0:he.push("ofs="+_t);let zt=!0;for(let se=0;se<p;se++){var P=x[se].g;const bn=x[se].map;if(P-=_t,P<0)_t=Math.max(0,x[se].g-100),zt=!1;else try{P="req"+P+"_"||"";try{var Z=bn instanceof Map?bn:Object.entries(bn);for(const[di,qn]of Z){let Hn=qn;y(qn)&&(Hn=Zi(qn)),he.push(P+di+"="+encodeURIComponent(Hn))}}catch(di){throw he.push(P+"type="+encodeURIComponent("_badmap")),di}}catch{E&&E(bn)}}if(zt){Z=he.join("&");break t}}Z=void 0}return u=u.i.splice(0,p),m.G=u,Z}function Jo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),Ut||($t(),Ut=!0),C.add(m,u),u.A=0}}function as(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),tu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),rr(this),$o(this))};function vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function $o(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),ss(u,m),u.u&&u.o&&ns(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Wr(ve(m)),p.u=null,p.R=!0,qs(p,u)}a.Va=function(){this.C!=null&&(this.C=null,rr(this),as(this),pe(19))};function Zs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wo(u,m){var p=null;if(u.g==m){Zs(u),vl(u),u.g=null;var E=2}else if(ai(u.h,m))p=m.G,ol(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;E=Bs(),Ne(E,new $n(E,p)),hi(u)}else Jo(u);else if(x=m.m,x==3||x==0&&m.X>0||!(E==1&&Xs(u,m)||E==2&&as(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),x){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function tu(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),E=u.Ua;const x=!E;E=new hn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(E,"https"),Wr(E),x?zn(E.toString(),p):ml(E.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),eu(u),Ks(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const m=ul(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function nu(u,m,p){var E=p instanceof hn?ve(p):new hn(p);if(E.g!="")m&&(E.g=m+"."+E.g),Ji(E,E.u);else{var x=d.location;E=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const P=new hn(null);E&&Ue(P,E),m&&(P.g=m),x&&Ji(P,x),p&&(P.h=p),E=P}return p=u.G,m=u.wa,p&&m&&Ht(E,p,m),Ht(E,"VER",u.ka),ss(u,E),E}function iu(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ft(new oi({ab:p})):new Ft(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}a=ru.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function sr(){}sr.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new ir(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}b(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){yl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Zi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&hi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,Je.Z.N.call(this)};function su(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(su,ke);function au(){Tn.call(this),this.status=1}b(au,Tn);function Ci(u){this.g=u}b(Ci,ru),Ci.prototype.ra=function(){Ne(this.g,"a")},Ci.prototype.qa=function(u){Ne(this.g,new su(u))},Ci.prototype.pa=function(u){Ne(this.g,new au)},Ci.prototype.oa=function(){Ne(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,rT=function(){return new sr},iT=function(){return Bs()},nT=ce,Td={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,yc=Jr,il.COMPLETE="complete",eT=il,zo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,ro=zo,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,tT=Ft}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",O_="4.9.2";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Ya="12.3.0";const Os=new Hd("@firebase/firestore");function Ia(){return Os.logLevel}function it(a,...e){if(Os.logLevel<=Ct.DEBUG){const i=e.map(Zd);Os.debug(`Firestore (${Ya}): ${a}`,...i)}}function Qi(a,...e){if(Os.logLevel<=Ct.ERROR){const i=e.map(Zd);Os.error(`Firestore (${Ya}): ${a}`,...i)}}function yo(a,...e){if(Os.logLevel<=Ct.WARN){const i=e.map(Zd);Os.warn(`Firestore (${Ya}): ${a}`,...i)}}function Zd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function ht(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,sT(a,s,i)}function sT(a,e,i){let s=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Bt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||sT(e,o,s)}function pt(a,e){return a}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ki{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ub{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class hb{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ws,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ws)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new ub(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class fb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class db{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function Ed(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return hd(o)===hd(h)?Dt(o,h):hd(o)?1:-1}return Dt(a.length,e.length)}const pb=55296,yb=57343;function hd(a){const e=a.charCodeAt(0);return e>=pb&&e<=yb}function qa(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}const U_="__name__";class _i{constructor(e,i,s){i===void 0?i=0:i>e.length&&ht(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ht(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=_i.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=_i.isNumericId(e),o=_i.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(i)):Ed(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lr.fromString(e.substring(4,e.length-2))}}class Jt extends _i{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends _i{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new Ge([U_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Jt.fromString(e))}static fromName(e){return new ot(Jt.fromString(e).popFirst(5))}static empty(){return new ot(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Jt(e.slice()))}}function aT(a,e,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function vb(a,e,i,s){if(e===!0&&s===!0)throw new nt(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function x_(a){if(!ot.isDocumentKey(a))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function L_(a){if(ot.isDocumentKey(a))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function lT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function zc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":ht(12329,{type:typeof a})}function Is(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zc(a);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function we(a,e){const i={typeString:a};return e&&(i.value=e),i}function Do(a,e){if(!lT(a))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}const k_=-62135596800,z_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*z_);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k_)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Do(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new ee(0,0))}static max(){return new mt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _o=-1;function Tb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=mt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new zr(o,ot.empty(),e)}function Eb(a){return new zr(a.readTime,a.key,_o)}class zr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(mt.min(),ot.empty(),_o)}static max(){return new zr(mt.max(),ot.empty(),_o)}}function Ab(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}const Sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ka(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==Sb)throw a;it("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((o=>o?K.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function Rb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xa(a){return a.name==="IndexedDbTransactionError"}class Pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pc.ce=-1;const $d=-1;function Bc(a){return a==null}function Ic(a){return a===0&&1/a==-1/0}function wb(a){return typeof a=="number"&&Number.isInteger(a)&&!Ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const oT="";function Ib(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=P_(e)),e=Cb(a.get(i),e);return P_(e)}function Cb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case oT:i+="";break;default:i+=h}}return i}function P_(a){return a+oT+""}function B_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Gr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function uT(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new je(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Oe(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cT("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(a){if(Bt(!!a,39018),typeof a=="string"){let e=0;const i=Db.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Br(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function Wd(a){return(a?.mapValue?.fields||{})[fT]?.stringValue===hT}function qc(a){const e=a.mapValue.fields[dT];return Wd(e)?qc(e):e}function vo(a){const e=Pr(a.mapValue.fields[mT].timestampValue);return new ee(e.seconds,e.nanos)}class Nb{constructor(e,i,s,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ad="(default)";class To{constructor(e,i){this.projectId=e,this.database=i||Ad}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}const gT="__type__",Vb="__max__",dc={mapValue:{}},pT="__vector__",Cc="value";function qr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Wd(a)?4:Mb(a)?9007199254740991:Ob(a)?10:11:ht(28295,{value:a})}function bi(a,e){if(a===e)return!0;const i=qr(a);if(i!==qr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return vo(a).isEqual(vo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Pr(o.timestampValue),y=Pr(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Br(o.bytesValue).isEqual(Br(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),y=me(h.doubleValue);return d===y?Ic(d)===Ic(y):isNaN(d)&&isNaN(y)}return!1})(a,e);case 9:return qa(a.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(B_(d)!==B_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!bi(d[v],y[v])))return!1;return!0})(a,e);default:return ht(52216,{left:a})}}function Eo(a,e){return(a.values||[]).find((i=>bi(i,e)))!==void 0}function Ha(a,e){if(a===e)return 0;const i=qr(a),s=qr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(a,e);case 3:return H_(a.timestampValue,e.timestampValue);case 4:return H_(vo(a),vo(e));case 5:return Ed(a.stringValue,e.stringValue);case 6:return(function(h,d){const y=Br(h),v=Br(d);return y.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Dt(me(h.latitude),me(d.latitude));return y!==0?y:Dt(me(h.longitude),me(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return j_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Cc]?.arrayValue,A=v[Cc]?.arrayValue,b=Dt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:j_(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===dc.mapValue&&d===dc.mapValue)return 0;if(h===dc.mapValue)return 1;if(d===dc.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const B=Ed(v[b],A[b]);if(B!==0)return B;const X=Ha(y[v[b]],_[A[b]]);if(X!==0)return X}return Dt(v.length,A.length)})(a.mapValue,e.mapValue);default:throw ht(23264,{he:i})}}function H_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Pr(a),s=Pr(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function j_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ha(i[o],s[o]);if(h)return h}return Dt(i.length,s.length)}function ja(a){return Sd(a)}function Sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Pr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Br(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ot.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Sd(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Sd(i.fields[d])}`;return o+"}"})(a.mapValue):ht(61005,{value:a})}function _c(a){switch(qr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(a);return e?16+_c(e):16;case 5:return 2*a.stringValue.length;case 6:return Br(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+_c(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Gr(s.fields,((h,d)=>{o+=h.length+_c(d)})),o})(a.mapValue);default:throw ht(13486,{value:a})}}function G_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function bd(a){return!!a&&"integerValue"in a}function tm(a){return!!a&&"arrayValue"in a}function F_(a){return!!a&&"nullValue"in a}function Q_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function vc(a){return!!a&&"mapValue"in a}function Ob(a){return(a?.mapValue?.fields||{})[gT]?.stringValue===pT}function co(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Gr(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=co(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=co(a.arrayValue.values[i]);return e}return{...a}}function Mb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Vb}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!vc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=co(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Gr(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new un(co(this.value))}}function yT(a){const e=[];return Gr(a.fields,((i,s)=>{const o=new Ge([i]);if(vc(s)){const h=yT(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Ke{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,mt.min(),mt.min(),mt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,mt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,mt.min(),mt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,mt.min(),mt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dc{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Ha(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function K_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!bi(a.position[i],e.position[i]))return!1;return!0}class Ao{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ub(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class _T{}class Re extends _T{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Lb(e,i,s):i==="array-contains"?new Pb(e,s):i==="in"?new Bb(e,s):i==="not-in"?new qb(e,s):i==="array-contains-any"?new Hb(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new kb(e,s):new zb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ha(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Ha(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends _T{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return vT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(a){return a.op==="and"}function TT(a){return xb(a)&&vT(a)}function xb(a){for(const e of a.filters)if(e instanceof Xn)return!1;return!0}function Rd(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+ja(a.value);if(TT(a))return a.filters.map((e=>Rd(e))).join(",");{const e=a.filters.map((i=>Rd(i))).join(",");return`${a.op}(${e})`}}function ET(a,e){return a instanceof Re?(function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)})(a,e):a instanceof Xn?(function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&ET(d,o.filters[y])),!0):!1})(a,e):void ht(19439)}function AT(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`})(a):a instanceof Xn?(function(i){return i.op.toString()+" {"+i.getFilters().map(AT).join(" ,")+"}"})(a):"Filter"}class Lb extends Re{constructor(e,i,s){super(e,i,s),this.key=ot.fromName(s.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class kb extends Re{constructor(e,i){super(e,"in",i),this.keys=ST("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zb extends Re{constructor(e,i){super(e,"not-in",i),this.keys=ST("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ST(a,e){return(e.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class Pb extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tm(i)&&Eo(i.arrayValue,this.value)}}class Bb extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Eo(this.value.arrayValue,i)}}class qb extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Eo(this.value.arrayValue,i)}}class Hb extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Eo(this.value.arrayValue,s)))}}class jb{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function X_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new jb(a,e,i,s,o,h,d)}function em(a){const e=pt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Rd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ja(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ja(s))).join(",")),e.Te=i}return e.Te}function nm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Ub(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ET(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!K_(a.startAt,e.startAt)&&K_(a.endAt,e.endAt)}function wd(a){return ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Za{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gb(a,e,i,s,o,h,d,y){return new Za(a,e,i,s,o,h,d,y)}function im(a){return new Za(a)}function Z_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function bT(a){return a.collectionGroup!==null}function ho(a){const e=pt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Ao(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new Ao(Ge.keyField(),s))}return e.Ie}function Ti(a){const e=pt(a);return e.Ee||(e.Ee=Fb(e,ho(a))),e.Ee}function Fb(a,e){if(a.limitType==="F")return X_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Ao(o.field,h)}));const i=a.endAt?new Dc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Dc(a.startAt.position,a.startAt.inclusive):null;return X_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Id(a,e){const i=a.filters.concat([e]);return new Za(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Cd(a,e,i){return new Za(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Hc(a,e){return nm(Ti(a),Ti(e))&&a.limitType===e.limitType}function RT(a){return`${em(Ti(a))}|lt:${a.limitType}`}function Ca(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>AT(o))).join(", ")}]`),Bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ja(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ja(o))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function jc(a,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ot.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,o){for(const h of ho(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=Y_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,ho(s),o)||s.endAt&&!(function(d,y,v){const _=Y_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,ho(s),o))})(a,e)}function Qb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function wT(a){return(e,i)=>{let s=!1;for(const o of ho(a)){const h=Yb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Yb(a,e,i){const s=a.field.isKeyField()?ot.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ha(v,_):ht(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ht(19790,{direction:a.dir})}}class Us{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const Kb=new le(ot.comparator);function Yi(){return Kb}const IT=new le(ot.comparator);function so(...a){let e=IT;for(const i of a)e=e.insert(i.key,i);return e}function CT(a){let e=IT;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Rs(){return fo()}function DT(){return fo()}function fo(){return new Us((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Xb=new le(ot.comparator),Zb=new Oe(ot.comparator);function Nt(...a){let e=Zb;for(const i of a)e=e.add(i);return e}const Jb=new Oe(Dt);function $b(){return Jb}function rm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function NT(a){return{integerValue:""+a}}function Wb(a,e){return wb(e)?NT(e):rm(a,e)}class Gc{constructor(){this._=void 0}}function t2(a,e,i){return a instanceof So?(function(o,h){const d={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Wd(h)&&(h=qc(h)),h&&(d.fields[dT]=h),{mapValue:d}})(i,e):a instanceof bo?OT(a,e):a instanceof Ro?MT(a,e):(function(o,h){const d=VT(o,h),y=J_(d)+J_(o.Ae);return bd(d)&&bd(o.Ae)?NT(y):rm(o.serializer,y)})(a,e)}function e2(a,e,i){return a instanceof bo?OT(a,e):a instanceof Ro?MT(a,e):i}function VT(a,e){return a instanceof Nc?(function(s){return bd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class So extends Gc{}class bo extends Gc{constructor(e){super(),this.elements=e}}function OT(a,e){const i=UT(e);for(const s of a.elements)i.some((o=>bi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ro extends Gc{constructor(e){super(),this.elements=e}}function MT(a,e){let i=UT(e);for(const s of a.elements)i=i.filter((o=>!bi(o,s)));return{arrayValue:{values:i}}}class Nc extends Gc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(a){return me(a.integerValue||a.doubleValue)}function UT(a){return tm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class n2{constructor(e,i){this.field=e,this.transform=i}}function i2(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof bo&&o instanceof bo||s instanceof Ro&&o instanceof Ro?qa(s.elements,o.elements,bi):s instanceof Nc&&o instanceof Nc?bi(s.Ae,o.Ae):s instanceof So&&o instanceof So})(a.transform,e.transform)}class r2{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Fc{}function xT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new sm(a.key,Yn.none()):new No(a.key,a.data,Yn.none());{const i=a.data,s=un.empty();let o=new Oe(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Fr(a.key,s,new vn(o.toArray()),Yn.none())}}function s2(a,e,i){a instanceof No?(function(o,h,d){const y=o.value.clone(),v=W_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):a instanceof Fr?(function(o,h,d){if(!Tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=W_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(LT(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function mo(a,e,i,s){return a instanceof No?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=h.value.clone(),A=tv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,s):a instanceof Fr?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=tv(h.fieldTransforms,v,d),A=d.data;return A.setAll(LT(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(a,e,i,s):(function(h,d,y){return Tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,e,i)}function a2(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=VT(s.transform,o||null);h!=null&&(i===null&&(i=un.empty()),i.set(s.field,h))}return i||null}function $_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qa(s,o,((h,d)=>i2(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class No extends Fc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends Fc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function LT(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function W_(a,e,i){const s=new Map;Bt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,e2(d,y,i[o]))}return s}function tv(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,t2(h,d,e))}return s}class sm extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&s2(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=DT();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=xT(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(mt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,((i,s)=>$_(i,s)))&&qa(this.baseMutations,e.baseMutations,((i,s)=>$_(i,s)))}}class am{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Bt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Xb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new am(e,i,s,o)}}class u2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class c2{constructor(e,i){this.count=e,this.unchangedNames=i}}var be,Mt;function h2(a){switch(a){case Y.OK:return ht(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ht(15467,{code:a})}}function kT(a){if(a===void 0)return Qi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return ht(39323,{code:a})}}(Mt=be||(be={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function f2(){return new TextEncoder}const d2=new Lr([4294967295,4294967295],0);function ev(a){const e=f2().encode(a),i=new Wv;return i.update(e),new Uint8Array(i.digest())}function nv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Lr([i,s],0),new Lr([o,h],0)]}class lm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ao(`Invalid padding: ${i}`);if(s<0)throw new ao(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Lr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Lr.fromNumber(s)));return o.compare(d2)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ev(e),[s,o]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new lm(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=ev(e),[s,o]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Qc(mt.min(),o,new le(Dt),Yi(),Nt())}}class Vo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Vo(s,i,Nt(),Nt(),Nt())}}class Ec{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class zT{constructor(e,i){this.targetId=e,this.Ce=i}}class PT{constructor(e,i,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=rv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),s=Nt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:ht(38017,{changeType:h})}})),new Vo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=mc(),this.He=mc(),this.Ye=new le(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(wd(h))if(s===0){const d=new ot(h.path);this.et(i,d,Ke.newNoDocument(d,mt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Br(s).toUint8Array()}catch(v){if(v instanceof cT)return yo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new lm(d,o,h)}catch(v){return yo(v instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&wd(y.target)){const v=new ot(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Nt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Qc(e,i,this.Ye,this.je,s);return this.je=Yi(),this.Je=mc(),this.He=mc(),this.Ye=new le(Dt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function mc(){return new le(ot.comparator)}function rv(){return new le(ot.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},p2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class _2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dd(a,e){return a.useProto3Json||Bc(e)?e:{value:e}}function Vc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function v2(a,e){return Vc(a,e.toTimestamp())}function Ei(a){return Bt(!!a,49232),mt.fromTimestamp((function(i){const s=Pr(i);return new ee(s.seconds,s.nanos)})(a))}function om(a,e){return Nd(a,e).canonicalString()}function Nd(a,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function qT(a){const e=Jt.fromString(a);return Bt(QT(e),10190,{key:e.toString()}),e}function Vd(a,e){return om(a.databaseId,e.path)}function fd(a,e){const i=qT(e);if(i.get(1)!==a.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ot(jT(i))}function HT(a,e){return om(a.databaseId,e)}function T2(a){const e=qT(a);return e.length===4?Jt.emptyPath():jT(e)}function Od(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function jT(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function sv(a,e,i){return{name:Vd(a,e),fields:i.value.mapValue.fields}}function E2(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ht(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:kT(_.code);return new nt(A,_.message||"")})(d);i=new PT(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fd(a,s.document.name),h=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):mt.min(),y=new un({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Ec(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fd(a,s.document),h=s.readTime?Ei(s.readTime):mt.min(),d=Ke.newNoDocument(o,h),y=s.removedTargetIds||[];i=new Ec([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fd(a,s.document),h=s.removedTargetIds||[];i=new Ec([],h,o,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new c2(o,h),y=s.targetId;i=new zT(y,d)}}return i}function A2(a,e){let i;if(e instanceof No)i={update:sv(a,e.key,e.value)};else if(e instanceof sm)i={delete:Vd(a,e.key)};else if(e instanceof Fr)i={update:sv(a,e.key,e.data),updateMask:V2(e.fieldMask)};else{if(!(e instanceof l2))return ht(16599,{Vt:e.type});i={verify:Vd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof So)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ht(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:v2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ht(27497)})(a,e.precondition)),i}function S2(a,e){return a&&a.length>0?(Bt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ei(o.updateTime):Ei(h);return d.isEqual(mt.min())&&(d=Ei(h)),new r2(d,o.transformResults||[])})(i,e)))):[]}function b2(a,e){return{documents:[HT(a,e.path)]}}function R2(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=HT(a,o);const h=(function(_){if(_.length!==0)return FT(Xn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(B){return{field:Da(B.field),direction:C2(B.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Dd(a,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function w2(a){let e=T2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const B=GT(b);return B instanceof Xn&&TT(B)?B.getFilters():[B]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((B=>(function($){return new Ao(Na($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(B)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let B;return B=typeof b=="object"?b.value:b,Bc(B)?null:B})(i.limit));let v=null;i.startAt&&(v=(function(b){const B=!!b.before,X=b.values||[];return new Dc(X,B)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const B=!b.before,X=b.values||[];return new Dc(X,B)})(i.endAt)),Gb(e,o,d,h,y,"F",v,_)}function I2(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function GT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Na(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Na(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Na(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(Na(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Xn.create(i.compositeFilter.filters.map((s=>GT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(i.compositeFilter.op))})(a):ht(30097,{filter:a})}function C2(a){return g2[a]}function D2(a){return p2[a]}function N2(a){return y2[a]}function Da(a){return{fieldPath:a.canonicalString()}}function Na(a){return Ge.fromServerFormat(a.fieldPath)}function FT(a){return a instanceof Re?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(i.field),op:D2(i.op),value:i.value}}})(a):a instanceof Xn?(function(i){const s=i.getFilters().map((o=>FT(o)));return s.length===1?s[0]:{compositeFilter:{op:N2(i.op),filters:s}}})(a):ht(54877,{filter:a})}function V2(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function QT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Mr{constructor(e,i,s,o,h=mt.min(),d=mt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class O2{constructor(e){this.yt=e}}function M2(a){const e=w2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Cd(e,e.limit,"L"):e}class U2{constructor(){this.Cn=new x2}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(zr.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class x2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Oe(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Oe(Jt.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(YT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}const lv="LruGarbageCollector",L2=1048576;function ov([a,e],[i,s]){const o=Dt(a,i);return o===0?Dt(e,s):o}class k2{constructor(e){this.Ir=e,this.buffer=new Oe(ov),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ov(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xa(i)?it(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Ka(i)}await this.Vr(3e5)}))}}class P2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Pc.ce);const s=new k2(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(av)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),Ia()<=Ct.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function B2(a,e){return new P2(a,e)}class q2{constructor(){this.changes=new Us((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class H2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class j2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&mo(s.mutation,o,vn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Rs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=so();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Rs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Nt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=Yi();const d=fo(),y=(function(){return fo()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Fr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),mo(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new H2(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=fo();let o=new le(((d,y)=>d-y)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||vn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(o.get(y.batchId)||Nt()).add(v);o=o.insert(y.batchId,b)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=DT();A.forEach((B=>{if(!h.has(B)){const X=xT(i.get(B),s.get(B));X!==null&&b.set(B,X),h=h.add(B)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(Rs());let y=_o,v=h;return d.next((_=>K.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((B=>{v=v.insert(A,B)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Nt()))).next((A=>({batchId:y,changes:CT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next((s=>{let o=so();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=so();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(b,B){return new Za(B,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((b,B)=>{d=d.insert(b,B)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=so();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&mo(A.mutation,_,vn.empty(),ee.now()),jc(i,_)&&(y=y.insert(v,_))})),y}))}}class G2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:M2(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),K.resolve()}}class F2{constructor(){this.overlays=new le(ot.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Rs();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=Rs(),h=i.length+1,d=new ot(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=Rs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Rs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return K.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new u2(i,s));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class Q2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}class um{constructor(){this.Qr=new Oe(Le.$r),this.Ur=new Oe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ot(new Jt([])),s=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ot(new Jt([])),s=new Le(i,e),o=new Le(i,e+1);let h=Nt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ot.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ot.comparator(e.key,i.key)}}class Y2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Le.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new o2(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Le(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?$d:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(Dt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ot.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ot(h),0);let y=new Oe(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class K2{constructor(e){this.ri=e,this.docs=(function(){return new le(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Yi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Yi();const d=i.path,y=new ot(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ab(Eb(A),s)<=0||(o.has(A.key)||jc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){ht(9500)}ii(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new X2(this)}getSize(e){return K.resolve(this.size)}}class X2 extends q2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Z2{constructor(e){this.persistence=e,this.si=new Us((i=>em(i)),nm),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.oi=0,this._i=new um,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ga(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}class KT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new Q2,this.referenceDelegate=e(this),this.Pi=new Z2(this),this.indexManager=new U2,this.remoteDocumentCache=(function(o){return new K2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new O2(i),this.Ii=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new F2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Y2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new J2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class J2 extends bb{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Ri=new um,this.Vi=null}static mi(e){return new cm(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=ot.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,mt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Oc{constructor(e,i){this.persistence=e,this.pi=new Us((s=>Ib(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=B2(this,i)}static mi(e,i){return new Oc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,mt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=_c(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new hm(e,i.fromCache,s,o)}}class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class W2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:Rb(Kn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new $2;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ia()<=Ct.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Ia()<=Ct.DEBUG&&it("QueryEngine","Query:",Ca(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ia()<=Ct.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(i))):K.resolve())}ys(e,i){if(Z_(i))return K.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Cd(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Nt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Cd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return Z_(i)||o.isEqual(mt.min())?K.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(Ia()<=Ct.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ca(i)),this.vs(e,d,i,Tb(o,_o)).next((y=>y)))}))}Ds(e,i){let s=new Oe(wT(e));return i.forEach(((o,h)=>{jc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return Ia()<=Ct.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ca(i)),this.ps.getDocumentsMatchingQuery(e,i,zr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const fm="LocalStore",tR=3e8;class eR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Dt),this.xs=new Us((h=>em(h)),nm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function nR(a,e,i,s){return new eR(a,e,i,s)}async function XT(a,e){const i=pt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Nt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function iR(a,e){const i=pt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,B=b.keys();let X=K.resolve();return B.forEach(($=>{X=X.next((()=>A.getEntry(v,$))).next((et=>{const J=_.docVersions.get($);Bt(J!==null,48541),et.version.compareTo(J)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),X.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Nt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function ZT(a){const e=pt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function rR(a,e){const i=pt(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const B=o.get(b);if(!B)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let X=B.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?X=X.withResumeToken(Fe.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,s)),o=o.insert(b,X),(function(et,J,ft){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=tR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(B,X,A)&&y.push(i.Pi.updateTargetData(h,X))}));let v=Yi(),_=Nt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(sR(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(mt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function sR(a,e,i){let s=Nt(),o=Nt();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Yi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(mt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(fm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function aR(a,e){const i=pt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lR(a,e){const i=pt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Md(a,e,i){const s=pt(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Xa(d))throw d;it(fm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function uv(a,e,i){const s=pt(a);let o=mt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=pt(v),B=b.xs.get(A);return B!==void 0?K.resolve(b.Ms.get(B)):b.Pi.getTargetData(_,A)})(s,d,Ti(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:mt.min(),i?h:Nt()))).next((y=>(oR(s,Qb(e),y),{documents:y,Qs:h})))))}function oR(a,e,i){let s=a.Os.get(e)||mt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(e,s)}class cv{constructor(){this.activeTargetIds=$b()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cR{Oo(e){}shutdown(){}}const hv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(hv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gc=null;function Ud(){return gc===null?gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():gc++,"0x"+gc.toString(16)}const dd="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ad?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=Ud(),y=this.zo(e,i.toUriEncodedString());it(dd,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=Bd(_);return this.Jo(e,y,v,s,A).then((b=>(it(dd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw yo(dd,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ya})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=hR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class dR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ye="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Ud();return new Promise(((y,v)=>{const _=new tT;_.setWithCredentials(!0),_.listenOnce(eT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case yc.NO_ERROR:const b=_.getResponseJson();it(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case yc.TIMEOUT:it(Ye,`RPC '${e}' ${d} timed out`),v(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const B=_.getStatus();if(it(Ye,`RPC '${e}' ${d} failed with status:`,B,"response text:",_.getResponseText()),B>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const $=X?.error;if($&&$.status&&$.message){const et=(function(ft){const St=ft.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(St)>=0?St:Y.UNKNOWN})($.status);v(new nt(et,$.message))}else v(new nt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=Ud(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rT(),y=iT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let B=!1,X=!1;const $=new dR({Yo:J=>{X?it(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(B||(it(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),B=!0),it(Ye,`RPC '${e}' stream ${o} sending:`,J),b.send(J))},Zo:()=>b.close()}),et=(J,ft,St)=>{J.listen(ft,(yt=>{try{St(yt)}catch(Zt){setTimeout((()=>{throw Zt}),0)}}))};return et(b,ro.EventType.OPEN,(()=>{X||(it(Ye,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),et(b,ro.EventType.CLOSE,(()=>{X||(X=!0,it(Ye,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(b))})),et(b,ro.EventType.ERROR,(J=>{X||(X=!0,yo(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),et(b,ro.EventType.MESSAGE,(J=>{if(!X){const ft=J.data[0];Bt(!!ft,16349);const St=ft,yt=St?.error||St[0]?.error;if(yt){it(Ye,`RPC '${e}' stream ${o} received error:`,yt);const Zt=yt.status;let $t=(function(S){const I=be[S];if(I!==void 0)return kT(I)})(Zt),Ut=yt.message;$t===void 0&&($t=Y.INTERNAL,Ut="Unknown error status: "+Zt+" with message "+yt.message),X=!0,$.a_(new nt($t,Ut)),b.close()}else it(Ye,`RPC '${e}' stream ${o} received:`,ft),$.u_(ft)}})),et(y,nT.STAT_EVENT,(J=>{J.stat===Td.PROXY?it(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Td.NOPROXY&&it(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function md(){return typeof document<"u"?document:null}function Yc(a){return new _2(a,!0)}class JT{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const dv="PersistentStream";class $T{constructor(e,i,s,o,h,d,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new nt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends $T{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=E2(this.serializer,e),s=(function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?Ei(d.readTime):mt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Od(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=wd(v)?{documents:b2(h,v)}:{query:R2(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=BT(h,d.resumeToken);const _=Dd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(mt.min())>0){y.readTime=Vc(h,d.snapshotVersion.toTimestamp());const _=Dd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=I2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Od(this.serializer),i.removeTarget=e,this.q_(i)}}class pR extends $T{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=S2(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Od(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>A2(this.serializer,s)))};this.q_(i)}}class yR{}class _R extends yR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Nd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(Y.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Nd(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ms="RemoteStore";class TR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{xs(this)&&(it(Ms,"Restarting streams for network reachability change."),await(async function(v){const _=pt(v);_.Ea.add(4),await Oo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Kc(_)})(this))}))})),this.Ra=new vR(s,o)}}async function Kc(a){if(xs(a))for(const e of a.da)await e(!0)}async function Oo(a){for(const e of a.da)await e(!1)}function WT(a,e){const i=pt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pm(i)?gm(i):Ja(i).O_()&&mm(i,e))}function dm(a,e){const i=pt(a),s=Ja(i);i.Ia.delete(e),s.O_()&&t0(i,e),i.Ia.size===0&&(s.O_()?s.L_():xs(i)&&i.Ra.set("Unknown"))}function mm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ja(a).Y_(e)}function t0(a,e){a.Va.Ue(e),Ja(a).Z_(e)}function gm(a){a.Va=new m2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ja(a).start(),a.Ra.ua()}function pm(a){return xs(a)&&!Ja(a).x_()&&a.Ia.size>0}function xs(a){return pt(a).Ea.size===0}function e0(a){a.Va=void 0}async function ER(a){a.Ra.set("Online")}async function AR(a){a.Ia.forEach(((e,i)=>{mm(a,e)}))}async function SR(a,e){e0(a),pm(a)?(a.Ra.ha(e),gm(a)):a.Ra.set("Unknown")}async function bR(a,e,i){if(a.Ra.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(a,e)}catch(s){it(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mc(a,s)}else if(e instanceof Ec?a.Va.Ze(e):e instanceof zT?a.Va.st(e):a.Va.tt(e),!i.isEqual(mt.min()))try{const s=await ZT(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),t0(h,v);const b=new Mr(A.target,v,_,A.sequenceNumber);mm(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(s){it(Ms,"Failed to raise snapshot:",s),await Mc(a,s)}}async function Mc(a,e,i){if(!Xa(e))throw e;a.Ea.add(1),await Oo(a),a.Ra.set("Offline"),i||(i=()=>ZT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Ms,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Kc(a)}))}function n0(a,e){return e().catch((i=>Mc(a,i,e)))}async function Xc(a){const e=pt(a),i=Hr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$d;for(;RR(e);)try{const o=await aR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,wR(e,o)}catch(o){await Mc(e,o)}i0(e)&&r0(e)}function RR(a){return xs(a)&&a.Ta.length<10}function wR(a,e){a.Ta.push(e);const i=Hr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function i0(a){return xs(a)&&!Hr(a).x_()&&a.Ta.length>0}function r0(a){Hr(a).start()}async function IR(a){Hr(a).ra()}async function CR(a){const e=Hr(a);for(const i of a.Ta)e.ea(i.mutations)}async function DR(a,e,i){const s=a.Ta.shift(),o=am.from(s,e,i);await n0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Xc(a)}async function NR(a,e){e&&Hr(a).X_&&await(async function(s,o){if((function(d){return h2(d)&&d!==Y.ABORTED})(o.code)){const h=s.Ta.shift();Hr(s).B_(),await n0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Xc(s)}})(a,e),i0(a)&&r0(a)}async function mv(a,e){const i=pt(a);i.asyncQueue.verifyOperationInProgress(),it(Ms,"RemoteStore received new credentials");const s=xs(i);i.Ea.add(3),await Oo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Kc(i)}async function VR(a,e){const i=pt(a);e?(i.Ea.delete(2),await Kc(i)):e||(i.Ea.add(2),await Oo(i),i.Ra.set("Unknown"))}function Ja(a){return a.ma||(a.ma=(function(i,s,o){const h=pt(i);return h.sa(),new gR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:ER.bind(null,a),t_:AR.bind(null,a),r_:SR.bind(null,a),H_:bR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),pm(a)?gm(a):a.Ra.set("Unknown")):(await a.ma.stop(),e0(a))}))),a.ma}function Hr(a){return a.fa||(a.fa=(function(i,s,o){const h=pt(i);return h.sa(),new pR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:IR.bind(null,a),r_:NR.bind(null,a),ta:CR.bind(null,a),na:DR.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Xc(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Ms,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class ym{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new ym(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(a,e){if(Qi("AsyncQueue",`${e}: ${a}`),Xa(a))return new nt(Y.UNAVAILABLE,`${e}: ${a}`);throw a}class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=so(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new La;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class gv{constructor(){this.ga=new le(ot.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Fa{constructor(e,i,s,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Fa(e,i,La.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=pt(i),h=o.queries;o.queries=pv(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function pv(){return new Us((a=>RT(a)),Hc)}async function UR(a,e){const i=pt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new OR,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=_m(d,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&vm(i)}async function xR(a,e){const i=pt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function LR(a,e){const i=pt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&vm(i)}function kR(a,e,i){const s=pt(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function vm(a){a.Ca.forEach((e=>{e.next()}))}var xd,yv;(yv=xd||(xd={})).Ma="default",yv.Cache="cache";class zR{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xd.Cache}}class s0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class PR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=wT(e),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new gv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const B=o.get(A),X=jc(this.query,b)?b:null,$=!!B&&this.mutatedKeys.has(B.key),et=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let J=!1;B&&X?B.data.isEqual(X.data)?$!==et&&(s.track({type:3,doc:X}),J=!0):this.su(B,X)||(s.track({type:2,doc:X}),J=!0,(v&&this.eu(X,v)>0||_&&this.eu(X,_)<0)&&(y=!0)):!B&&X?(s.track({type:0,doc:X}),J=!0):B&&!X&&(s.track({type:1,doc:B}),J=!0,(v||_)&&(y=!0)),J&&(X?(d=d.add(X),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(X,$){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:J})}};return et(X)-et($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Fa(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new a0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new s0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Fa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class BR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class qR{constructor(e){this.key=e,this.hu=!1}}class HR{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Us((y=>RT(y)),Hc),this.Iu=new Map,this.Eu=new Set,this.du=new le(ot.comparator),this.Au=new Map,this.Ru=new um,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jR(a,e,i=!0){const s=f0(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await l0(s,e,i,!0),o}async function GR(a,e){const i=f0(a);await l0(i,e,!0,!1)}async function l0(a,e,i,s){const o=await lR(a.localStore,Ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await FR(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&WT(a.remoteStore,o),y}async function FR(a,e,i,s,o){a.pu=(b,B,X)=>(async function(et,J,ft,St){let yt=J.view.ru(ft);yt.Cs&&(yt=await uv(et.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,yt))));const Zt=St&&St.targetChanges.get(J.targetId),$t=St&&St.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(yt,et.isPrimaryClient,Zt,$t);return vv(et,J.targetId,Ut.au),Ut.snapshot})(a,b,B,X);const h=await uv(a.localStore,e,!0),d=new PR(e,h.Qs),y=d.ru(h.documents),v=Vo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(y,a.isPrimaryClient,v);vv(a,i,_.au);const A=new BR(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function QR(a,e,i){const s=pt(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Hc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Md(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&dm(s.remoteStore,o.targetId),Ld(s,o.targetId)})).catch(Ka)):(Ld(s,o.targetId),await Md(s.localStore,o.targetId,!0))}async function YR(a,e){const i=pt(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dm(i.remoteStore,s.targetId))}async function KR(a,e,i){const s=ew(a);try{const o=await(function(d,y){const v=pt(d),_=ee.now(),A=y.reduce(((X,$)=>X.add($.key)),Nt());let b,B;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let $=Yi(),et=Nt();return v.Ns.getEntries(X,A).next((J=>{$=J,$.forEach(((ft,St)=>{St.isValidDocument()||(et=et.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,$))).next((J=>{b=J;const ft=[];for(const St of y){const yt=a2(St,b.get(St.key).overlayedDocument);yt!=null&&ft.push(new Fr(St.key,yt,yT(yt.value.mapValue),Yn.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,ft,y)})).next((J=>{B=J;const ft=J.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(X,J.batchId,ft)}))})).then((()=>({batchId:B.batchId,changes:CT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Dt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await Mo(s,o.changes),await Xc(s.remoteStore)}catch(o){const h=_m(o,"Failed to persist write");i.reject(h)}}async function o0(a,e){const i=pt(a);try{const s=await rR(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Bt(d.hu,14607):o.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await Mo(i,s,e)}catch(s){await Ka(s)}}function _v(a,e,i){const s=pt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=pt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const B of b.Sa)B.va(y)&&(_=!0)})),_&&vm(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XR(a,e,i){const s=pt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new le(ot.comparator);d=d.insert(h,Ke.newNoDocument(h,mt.min()));const y=Nt().add(h),v=new Qc(mt.min(),new Map,new le(Dt),d,y);await o0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Em(s)}else await Md(s.localStore,e,!1).then((()=>Ld(s,e,i))).catch(Ka)}async function ZR(a,e){const i=pt(a),s=e.batch.batchId;try{const o=await iR(i.localStore,e);c0(i,s,null),u0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Mo(i,o)}catch(o){await Ka(o)}}async function JR(a,e,i){const s=pt(a);try{const o=await(function(d,y){const v=pt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Bt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);c0(s,e,i),u0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Mo(s,o)}catch(o){await Ka(o)}}function u0(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function c0(a,e,i){const s=pt(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ld(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||h0(a,s)}))}function h0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(dm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Em(a))}function vv(a,e,i){for(const s of i)s instanceof s0?(a.Ru.addReference(s.key,e),$R(a,s)):s instanceof a0?(it(Tm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||h0(a,s.key)):ht(19791,{wu:s})}function $R(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(it(Tm,"New document in limbo: "+i),a.Eu.add(s),Em(a))}function Em(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ot(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new qR(i)),a.du=a.du.insert(i,s),WT(a.remoteStore,new Mr(Ti(im(i.path)),s,"TargetPurposeLimboResolution",Pc.ce))}}async function Mo(a,e,i){const s=pt(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=hm.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=pt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(B=>K.forEach(B.Es,(X=>A.persistence.referenceDelegate.addReference(b,B.targetId,X))).next((()=>K.forEach(B.ds,(X=>A.persistence.referenceDelegate.removeReference(b,B.targetId,X)))))))))}catch(b){if(!Xa(b))throw b;it(fm,"Failed to update sequence numbers: "+b)}for(const b of _){const B=b.targetId;if(!b.fromCache){const X=A.Ms.get(B),$=X.snapshotVersion,et=X.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(B,et)}}})(s.localStore,h))}async function WR(a,e){const i=pt(a);if(!i.currentUser.isEqual(e)){it(Tm,"User change. New user:",e.toKey());const s=await XT(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new nt(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mo(i,s.Ls)}}function tw(a,e){const i=pt(a),s=i.Au.get(e);if(s&&s.hu)return Nt().add(s.key);{let o=Nt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function f0(a){const e=pt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.Pu.H_=LR.bind(null,e.eventManager),e.Pu.yu=kR.bind(null,e.eventManager),e}function ew(a){const e=pt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JR.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nR(this.persistence,new W2,e.initialUser,this.serializer)}Cu(e){return new KT(cm.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class nw extends Uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof Oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new z2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new KT((s=>Oc.mi(s,i)),this.serializer)}}class kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const i=Yc(e.databaseInfo.databaseId),s=(function(h){return new mR(h)})(e.databaseInfo);return(function(h,d,y,v){return new _R(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new TR(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new cR})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const b=new HR(o,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=pt(i);it(Ms,"RemoteStore shutting down."),s.Ea.add(5),await Oo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kd.provider={build:()=>new kd};class iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const jr="FirestoreClient";class rw{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=_m(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gd(a,e){a.asyncQueue.verifyOperationInProgress(),it(jr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await XT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function Tv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await sw(a);it(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>mv(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>mv(e.remoteStore,o))),a._onlineComponents=e}async function sw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(jr,"Using user provided OfflineComponentProvider");try{await gd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await gd(a,new Uc)}}else it(jr,"Using default OfflineComponentProvider"),await gd(a,new nw(void 0));return a._offlineComponents}async function d0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(jr,"Using user provided OnlineComponentProvider"),await Tv(a,a._uninitializedComponentsProvider._online)):(it(jr,"Using default OnlineComponentProvider"),await Tv(a,new kd))),a._onlineComponents}function aw(a){return d0(a).then((e=>e.syncEngine))}async function Ev(a){const e=await d0(a),i=e.eventManager;return i.onListen=jR.bind(null,e.syncEngine),i.onUnlisten=QR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),i}function m0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const Av=new Map;const lw="firestore.googleapis.com",Sv=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L2)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cb;switch(s.type){case"firstParty":return new db(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Av.get(i);s&&(it("ComponentProvider","Removing Datastore"),Av.delete(i),s.terminate())})(this),Promise.resolve()}}class Ls{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class Ie{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ie(this.firestore,e,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Do(i,Ie._jsonSchema))return new Ie(e,s||null,new ot(Jt.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:we("string",Ie._jsonSchemaVersion),referencePath:we("string")};class kr extends Ls{constructor(e,i,s){super(e,i,im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new ot(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function eI(a,e,...i){if(a=Xe(a),aT("collection","path",e),a instanceof Am){const s=Jt.fromString(e,...i);return L_(s),new kr(a,null,s)}{if(!(a instanceof Ie||a instanceof kr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return L_(s),new kr(a.firestore,null,s)}}function ow(a,e,...i){if(a=Xe(a),arguments.length===1&&(e=Jd.newId()),aT("doc","path",e),a instanceof Am){const s=Jt.fromString(e,...i);return x_(s),new Ie(a,null,new ot(s))}{if(!(a instanceof Ie||a instanceof kr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return x_(s),new Ie(a.firestore,a instanceof kr?a.converter:null,new ot(s))}}const Rv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JT(this,"async_queue_retry"),this._c=()=>{const s=md();s&&it(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xa(e))throw e;it(Rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",Iv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ym.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&ht(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Iv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Cv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Qa extends Am{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function g0(a){if(a._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uw(a),a._firestoreClient}function uw(a){const e=a._freezeSettings(),i=(function(o,h,d,y){return new Nb(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,m0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new rw(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Fe.fromBase64String(e))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Do(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:we("string",Mn._jsonSchemaVersion),bytes:we("string")};class Zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jc{constructor(e){this._methodName=e}}class Ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(Do(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:we("string",Ai._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Do(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Si(e.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:we("string",Si._jsonSchemaVersion),vectorValues:we("object")};const cw=/^__.*__$/;class hw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Fr(e,this.data,this.fieldMask,i,this.fieldTransforms):new No(e,this.data,i,this.fieldTransforms)}}class p0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Fr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function y0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:a})}}class Sm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y0(this.Ac)&&cw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Yc(e)}Cc(e,i,s,o=!1){return new Sm({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(a){const e=a._freezeSettings(),i=Yc(a._databaseId);return new fw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function dw(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);wm("Data must be an object, but it was:",d,s);const y=_0(s,d);let v,_;if(h.merge)v=new vn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const B=zd(e,b,i);if(!d.contains(B))throw new nt(Y.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);T0(A,B)||A.push(B)}v=new vn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new hw(new un(y),v,_)}class $c extends Jc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $c}}class Rm extends Jc{_toFieldTransform(e){return new n2(e.path,new So)}isEqual(e){return e instanceof Rm}}function mw(a,e,i,s){const o=a.Cc(1,e,i);wm("Data must be an object, but it was:",o,s);const h=[],d=un.empty();Gr(s,((v,_)=>{const A=Im(e,v,i);_=Xe(_);const b=o.yc(A);if(_ instanceof $c)h.push(A);else{const B=Uo(_,b);B!=null&&(h.push(A),d.set(A,B))}}));const y=new vn(h);return new p0(d,y,o.fieldTransforms)}function gw(a,e,i,s,o,h){const d=a.Cc(1,e,i),y=[zd(e,s,i)],v=[o];if(h.length%2!=0)throw new nt(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)y.push(zd(e,h[B])),v.push(h[B+1]);const _=[],A=un.empty();for(let B=y.length-1;B>=0;--B)if(!T0(_,y[B])){const X=y[B];let $=v[B];$=Xe($);const et=d.yc(X);if($ instanceof $c)_.push(X);else{const J=Uo($,et);J!=null&&(_.push(X),A.set(X,J))}}const b=new vn(_);return new p0(A,b,d.fieldTransforms)}function pw(a,e,i,s=!1){return Uo(i,a.Cc(s?4:3,e))}function Uo(a,e){if(v0(a=Xe(a)))return wm("Unsupported field value:",e,a),_0(a,e);if(a instanceof Jc)return(function(s,o){if(!y0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let v=Uo(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Wb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ee.fromDate(s);return{timestampValue:Vc(o.serializer,h)}}if(s instanceof ee){const h=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vc(o.serializer,h)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:BT(o.serializer,s._byteString)};if(s instanceof Ie){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:om(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Si)return(function(d,y){return{mapValue:{fields:{[gT]:{stringValue:pT},[Cc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return rm(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${zc(s)}`)})(a,e)}function _0(a,e){const i={};return uT(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(a,((s,o)=>{const h=Uo(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function v0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof Ai||a instanceof Mn||a instanceof Ie||a instanceof Jc||a instanceof Si)}function wm(a,e,i){if(!v0(i)||!lT(i)){const s=zc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function zd(a,e,i){if((e=Xe(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Im(a,e);throw xc("Field path arguments must be of type string or ",a,!1,void 0,i)}const yw=new RegExp("[~\\*/\\[\\]]");function Im(a,e,i){if(e.search(yw)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Zc(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function xc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new nt(Y.INVALID_ARGUMENT,y+a+v)}function T0(a,e){return a.some((i=>i.isEqual(e)))}class E0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Cm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _w extends E0{data(){return super.data()}}function Cm(a,e){return typeof e=="string"?Im(a,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}function vw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class A0 extends Dm{}function nI(a,e,...i){let s=[];e instanceof Dm&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Vm)).length,y=h.filter((v=>v instanceof Nm)).length;if(d>1||d>0&&y>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Nm extends A0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Nm(e,i,s)}_apply(e){const i=this._parse(e);return S0(e._query,i),new Ls(e.firestore,e.converter,Id(e._query,i))}_parse(e){const i=bm(e.firestore);return(function(h,d,y,v,_,A,b){let B;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Nv(b,A);const $=[];for(const et of b)$.push(Dv(v,h,et));B={arrayValue:{values:$}}}else B=Dv(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Nv(b,A),B=pw(y,d,b,A==="in"||A==="not-in");return Re.create(_,A,B)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Vm extends Dm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Vm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)S0(d,v),d=Id(d,v)})(e._query,i),new Ls(e.firestore,e.converter,Id(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Om extends A0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Om(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(h,d)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Za(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function iI(a,e="asc"){const i=e,s=Cm("orderBy",a);return Om._create(s,i)}function Dv(a,e,i){if(typeof(i=Xe(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ot.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G_(a,new ot(s))}if(i instanceof Ie)return G_(a,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(i)}.`)}function Nv(a,e){if(!Array.isArray(a)||a.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S0(a,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Tw{convertValue(e,i="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Gr(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[Cc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Si(i)}convertGeoPoint(e){return new Ai(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=qc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const i=Pr(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Bt(QT(s),9688,{name:e});const o=new To(s.get(1),s.get(3)),h=new ot(s.popFirst(5));return o.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function Ew(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends E0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Cm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Cs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:we("string",Cs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Ac extends Cs{data(e={}){return super.data(e)}}class ka{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ac(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:Aw(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Aw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:a})}}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:we("string",ka._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class b0 extends Tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function rI(a,e,i,...s){a=Is(a,Ie);const o=Is(a.firestore,Qa),h=bm(o);let d;return d=typeof(e=Xe(e))=="string"||e instanceof Zc?gw(h,"updateDoc",a._key,e,i,s):mw(h,"updateDoc",a._key,e),Mm(o,[d.toMutation(a._key,Yn.exists(!0))])}function sI(a){return Mm(Is(a.firestore,Qa),[new sm(a._key,Yn.none())])}function aI(a,e){const i=Is(a.firestore,Qa),s=ow(a),o=Ew(a.converter,e);return Mm(i,[dw(bm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function lI(a,...e){a=Xe(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Cv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,y;if(a instanceof Ie)d=Is(a.firestore,Qa),y=im(a._key.path),h={next:v=>{e[s]&&e[s](Sw(d,a,v))},error:e[s+1],complete:e[s+2]};else{const v=Is(a,Ls);d=Is(v.firestore,Qa),y=v._query;const _=new b0(d);h={next:A=>{e[s]&&e[s](new ka(d,_,v,A))},error:e[s+1],complete:e[s+2]},vw(a._query)}return(function(_,A,b,B){const X=new iw(B),$=new zR(A,X,b);return _.asyncQueue.enqueueAndForget((async()=>UR(await Ev(_),$))),()=>{X.Nu(),_.asyncQueue.enqueueAndForget((async()=>xR(await Ev(_),$)))}})(g0(d),y,o,h)}function Mm(a,e){return(function(s,o){const h=new ws;return s.asyncQueue.enqueueAndForget((async()=>KR(await aw(s),o,h))),h.promise})(g0(a),e)}function Sw(a,e,i){const s=i.docs.get(e._key),o=new b0(a);return new Cs(a,o,e._key,s,new lo(i.hasPendingWrites,i.fromCache),e.converter)}function oI(){return new Rm("serverTimestamp")}(function(e,i=!0){(function(o){Ya=o})(Lc),Pa(new za("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Qa(new hb(s.getProvider("auth-internal")),new mb(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),xr(V_,O_,e),xr(V_,O_,"esm2020")})();export{ww as A,Rw as B,Iw as C,Cw as D,Dw as F,Vw as G,Ow as H,Mw as L,Lw as M,kw as P,qw as R,Hw as S,Fw as T,Kw as U,Xw as V,iI as a,lI as b,eI as c,aI as d,Uw as e,Nr as f,Ww as g,zw as h,Pw as i,bw as j,xw as k,Nw as l,jw as m,Yw as n,Jw as o,Bw as p,nI as q,oo as r,$w as s,Qw as t,Gw as u,Zw as v,oI as w,rI as x,ow as y,sI as z};
