(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function qE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sp={exports:{}},Eu={};var P1;function xR(){if(P1)return Eu;P1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Eu.Fragment=t,Eu.jsx=e,Eu.jsxs=e,Eu}var L1;function AR(){return L1||(L1=1,sp.exports=xR()),sp.exports}var w=AR(),rp={exports:{}},Nt={};var j1;function RR(){if(j1)return Nt;j1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function G(k,Z,rt){this.props=k,this.context=Z,this.refs=H,this.updater=rt||D}G.prototype.isReactComponent={},G.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},G.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function J(){}J.prototype=G.prototype;function X(k,Z,rt){this.props=k,this.context=Z,this.refs=H,this.updater=rt||D}var ft=X.prototype=new J;ft.constructor=X,U(ft,G.prototype),ft.isPureReactComponent=!0;var ct=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(k,Z,rt){var at=rt.ref;return{$$typeof:n,type:k,key:Z,ref:at!==void 0?at:null,props:rt}}function O(k,Z){return I(k.type,Z,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function L(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(rt){return Z[rt]})}var N=/\/+/g;function Ft(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):Z.toString(36)}function Zt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ot,ot):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function z(k,Z,rt,at,mt){var Tt=typeof k;(Tt==="undefined"||Tt==="boolean")&&(k=null);var kt=!1;if(k===null)kt=!0;else switch(Tt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(k.$$typeof){case n:case t:kt=!0;break;case v:return kt=k._init,z(kt(k._payload),Z,rt,at,mt)}}if(kt)return mt=mt(k),kt=at===""?"."+Ft(k,0):at,ct(mt)?(rt="",kt!=null&&(rt=kt.replace(N,"$&/")+"/"),z(mt,Z,rt,"",function(ti){return ti})):mt!=null&&(V(mt)&&(mt=O(mt,rt+(mt.key==null||k&&k.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+kt)),Z.push(mt)),1;kt=0;var It=at===""?".":at+":";if(ct(k))for(var Xt=0;Xt<k.length;Xt++)at=k[Xt],Tt=It+Ft(at,Xt),kt+=z(at,Z,rt,Tt,mt);else if(Xt=A(k),typeof Xt=="function")for(k=Xt.call(k),Xt=0;!(at=k.next()).done;)at=at.value,Tt=It+Ft(at,Xt++),kt+=z(at,Z,rt,Tt,mt);else if(Tt==="object"){if(typeof k.then=="function")return z(Zt(k),Z,rt,at,mt);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return kt}function W(k,Z,rt){if(k==null)return k;var at=[],mt=0;return z(k,at,"","",function(Tt){return Z.call(rt,Tt,mt++)}),at}function ht(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(rt){(k._status===0||k._status===-1)&&(k._status=1,k._result=rt)},function(rt){(k._status===0||k._status===-1)&&(k._status=2,k._result=rt)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Et=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},St={map:W,forEach:function(k,Z,rt){W(k,function(){Z.apply(this,arguments)},rt)},count:function(k){var Z=0;return W(k,function(){Z++}),Z},toArray:function(k){return W(k,function(Z){return Z})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Nt.Activity=y,Nt.Children=St,Nt.Component=G,Nt.Fragment=e,Nt.Profiler=o,Nt.PureComponent=X,Nt.StrictMode=r,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Nt.cache=function(k){return function(){return k.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(k,Z,rt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var at=U({},k.props),mt=k.key;if(Z!=null)for(Tt in Z.key!==void 0&&(mt=""+Z.key),Z)!R.call(Z,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Z.ref===void 0||(at[Tt]=Z[Tt]);var Tt=arguments.length-2;if(Tt===1)at.children=rt;else if(1<Tt){for(var kt=Array(Tt),It=0;It<Tt;It++)kt[It]=arguments[It+2];at.children=kt}return I(k.type,mt,at)},Nt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Nt.createElement=function(k,Z,rt){var at,mt={},Tt=null;if(Z!=null)for(at in Z.key!==void 0&&(Tt=""+Z.key),Z)R.call(Z,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=Z[at]);var kt=arguments.length-2;if(kt===1)mt.children=rt;else if(1<kt){for(var It=Array(kt),Xt=0;Xt<kt;Xt++)It[Xt]=arguments[Xt+2];mt.children=It}if(k&&k.defaultProps)for(at in kt=k.defaultProps,kt)mt[at]===void 0&&(mt[at]=kt[at]);return I(k,Tt,mt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(k){return{$$typeof:m,render:k}},Nt.isValidElement=V,Nt.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ht}},Nt.memo=function(k,Z){return{$$typeof:g,type:k,compare:Z===void 0?null:Z}},Nt.startTransition=function(k){var Z=C.T,rt={};C.T=rt;try{var at=k(),mt=C.S;mt!==null&&mt(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(ot,Et)}catch(Tt){Et(Tt)}finally{Z!==null&&rt.types!==null&&(Z.types=rt.types),C.T=Z}},Nt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Nt.use=function(k){return C.H.use(k)},Nt.useActionState=function(k,Z,rt){return C.H.useActionState(k,Z,rt)},Nt.useCallback=function(k,Z){return C.H.useCallback(k,Z)},Nt.useContext=function(k){return C.H.useContext(k)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(k,Z){return C.H.useDeferredValue(k,Z)},Nt.useEffect=function(k,Z){return C.H.useEffect(k,Z)},Nt.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Nt.useId=function(){return C.H.useId()},Nt.useImperativeHandle=function(k,Z,rt){return C.H.useImperativeHandle(k,Z,rt)},Nt.useInsertionEffect=function(k,Z){return C.H.useInsertionEffect(k,Z)},Nt.useLayoutEffect=function(k,Z){return C.H.useLayoutEffect(k,Z)},Nt.useMemo=function(k,Z){return C.H.useMemo(k,Z)},Nt.useOptimistic=function(k,Z){return C.H.useOptimistic(k,Z)},Nt.useReducer=function(k,Z,rt){return C.H.useReducer(k,Z,rt)},Nt.useRef=function(k){return C.H.useRef(k)},Nt.useState=function(k){return C.H.useState(k)},Nt.useSyncExternalStore=function(k,Z,rt){return C.H.useSyncExternalStore(k,Z,rt)},Nt.useTransition=function(){return C.H.useTransition()},Nt.version="19.2.0",Nt}var U1;function kg(){return U1||(U1=1,rp.exports=RR()),rp.exports}var it=kg();const ut=qE(it);var ap={exports:{}},wu={},op={exports:{}},lp={};var z1;function CR(){return z1||(z1=1,(function(n){function t(z,W){var ht=z.length;z.push(W);t:for(;0<ht;){var Et=ht-1>>>1,St=z[Et];if(0<o(St,W))z[Et]=W,z[ht]=St,ht=Et;else break t}}function e(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],ht=z.pop();if(ht!==W){z[0]=ht;t:for(var Et=0,St=z.length,k=St>>>1;Et<k;){var Z=2*(Et+1)-1,rt=z[Z],at=Z+1,mt=z[at];if(0>o(rt,ht))at<St&&0>o(mt,rt)?(z[Et]=mt,z[at]=ht,Et=at):(z[Et]=rt,z[Z]=ht,Et=Z);else if(at<St&&0>o(mt,ht))z[Et]=mt,z[at]=ht,Et=at;else break t}}return W}function o(z,W){var ht=z.sortIndex-W.sortIndex;return ht!==0?ht:z.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,y=null,E=3,A=!1,D=!1,U=!1,H=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ft(z){for(var W=e(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=z)r(g),W.sortIndex=W.expirationTime,t(p,W);else break;W=e(g)}}function ct(z){if(U=!1,ft(z),!D)if(e(p)!==null)D=!0,ot||(ot=!0,L());else{var W=e(g);W!==null&&Zt(ct,W.startTime-z)}}var ot=!1,C=-1,R=5,I=-1;function O(){return H?!0:!(n.unstable_now()-I<R)}function V(){if(H=!1,ot){var z=n.unstable_now();I=z;var W=!0;try{t:{D=!1,U&&(U=!1,J(C),C=-1),A=!0;var ht=E;try{e:{for(ft(z),y=e(p);y!==null&&!(y.expirationTime>z&&O());){var Et=y.callback;if(typeof Et=="function"){y.callback=null,E=y.priorityLevel;var St=Et(y.expirationTime<=z);if(z=n.unstable_now(),typeof St=="function"){y.callback=St,ft(z),W=!0;break e}y===e(p)&&r(p),ft(z)}else r(p);y=e(p)}if(y!==null)W=!0;else{var k=e(g);k!==null&&Zt(ct,k.startTime-z),W=!1}}break t}finally{y=null,E=ht,A=!1}W=void 0}}finally{W?L():ot=!1}}}var L;if(typeof X=="function")L=function(){X(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ft=N.port2;N.port1.onmessage=V,L=function(){Ft.postMessage(null)}}else L=function(){G(V,0)};function Zt(z,W){C=G(function(){z(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(z){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ht=E;E=W;try{return z()}finally{E=ht}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ht=E;E=z;try{return W()}finally{E=ht}},n.unstable_scheduleCallback=function(z,W,ht){var Et=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Et+ht:Et):ht=Et,z){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=ht+St,z={id:v++,callback:W,priorityLevel:z,startTime:ht,expirationTime:St,sortIndex:-1},ht>Et?(z.sortIndex=ht,t(g,z),e(p)===null&&z===e(g)&&(U?(J(C),C=-1):U=!0,Zt(ct,ht-Et))):(z.sortIndex=St,t(p,z),D||A||(D=!0,ot||(ot=!0,L()))),z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(z){var W=E;return function(){var ht=E;E=W;try{return z.apply(this,arguments)}finally{E=ht}}}})(lp)),lp}var B1;function IR(){return B1||(B1=1,op.exports=CR()),op.exports}var up={exports:{}},yn={};var H1;function NR(){if(H1)return yn;H1=1;var n=kg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},yn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,y=m(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:A}):v==="script"&&r.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},yn.requestFormReset=function(p){r.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var q1;function FE(){if(q1)return up.exports;q1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),up.exports=NR(),up.exports}var F1;function DR(){if(F1)return wu;F1=1;var n=IR(),t=kg(),e=FE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),i;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=d;break}if(S===l){T=!0,l=f,a=d;break}S=S.sibling}if(!T){for(S=d.child;S;){if(S===a){T=!0,a=d,l=f;break}if(S===l){T=!0,l=d,a=f;break}S=S.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Ft(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case G:return"Profiler";case H:return"StrictMode";case ct:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case X:return i.displayName||"Context";case J:return(i._context.displayName||"Context")+".Consumer";case ft:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:Ft(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Ft(i(s))}catch{}}return null}var Zt=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Et=[],St=-1;function k(i){return{current:i}}function Z(i){0>St||(i.current=Et[St],Et[St]=null,St--)}function rt(i,s){St++,Et[St]=i.current,i.current=s}var at=k(null),mt=k(null),Tt=k(null),kt=k(null);function It(i,s){switch(rt(Tt,s),rt(mt,i),rt(at,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?r1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=r1(s),i=a1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(at),rt(at,i)}function Xt(){Z(at),Z(mt),Z(Tt)}function ti(i){i.memoizedState!==null&&rt(kt,i);var s=at.current,a=a1(s,i.type);s!==a&&(rt(mt,i),rt(at,a))}function Ti(i){mt.current===i&&(Z(at),Z(mt)),kt.current===i&&(Z(kt),vu._currentValue=ht)}var zn,Zs;function Cn(i){if(zn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);zn=s&&s[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+i+Zs}var ea=!1;function qi(i,s){if(!i||ea)return"";ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var K=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){K=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){K=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],S=d[1];if(T&&S){var M=T.split(`
`),F=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===F.length)for(l=M.length-1,f=F.length-1;1<=l&&0<=f&&M[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==F[f]){var $=`
`+M[l].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=l&&0<=f);break}}}finally{ea=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Cn(a):""}function bi(i,s){switch(i.tag){case 26:case 27:case 5:return Cn(i.type);case 16:return Cn("Lazy");case 13:return i.child!==s&&s!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return qi(i.type,!1);case 11:return qi(i.type.render,!1);case 1:return qi(i.type,!0);case 31:return Cn("Activity");default:return""}}function Js(i){try{var s="",a=null;do s+=bi(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Jt=Object.prototype.hasOwnProperty,xe=n.unstable_scheduleCallback,Fi=n.unstable_cancelCallback,en=n.unstable_shouldYield,Ei=n.unstable_requestPaint,nn=n.unstable_now,Es=n.unstable_getCurrentPriorityLevel,Gi=n.unstable_ImmediatePriority,na=n.unstable_UserBlockingPriority,wi=n.unstable_NormalPriority,ia=n.unstable_LowPriority,Si=n.unstable_IdlePriority,sa=n.log,xi=n.unstable_setDisableYieldValue,Bn=null,qe=null;function wn(i){if(typeof sa=="function"&&xi(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bn,i)}catch{}}var pe=Math.clz32?Math.clz32:Hn,Ja=Math.log,Ki=Math.LN2;function Hn(i){return i>>>=0,i===0?32:31-(Ja(i)/Ki|0)|0}var ei=256,ws=262144,_e=4194304;function qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bt(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=qn(l):(T&=S,T!==0?f=qn(T):a||(a=S&~i,a!==0&&(f=qn(a))))):(S=l&~d,S!==0?f=qn(S):T!==0?f=qn(T):a||(a=l&~i,a!==0&&(f=qn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function te(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ne(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var i=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),i}function Sn(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function he(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gn(i,s,a,l,f,d){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,F=i.hiddenUpdates;for(a=T&~a;0<a;){var $=31-pe(a),et=1<<$;S[$]=0,M[$]=-1;var K=F[$];if(K!==null)for(F[$]=null,$=0;$<K.length;$++){var Q=K[$];Q!==null&&(Q.lane&=-536870913)}a&=~et}l!==0&&ni(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(T&~s))}function ni(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-pe(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function sn(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function rn(i,s){var a=s&-s;return a=(a&42)!==0?1:Yi(a),(a&(i.suspendedLanes|s))!==0?0:a}function Yi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function an(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Sl(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:I1(i.type))}function Ai(i,s){var a=W.p;try{return W.p=i,s()}finally{W.p=a}}var Ri=Math.random().toString(36).slice(2),De="__reactFiber$"+Ri,Qe="__reactProps$"+Ri,Qi="__reactContainer$"+Ri,to="__reactEvents$"+Ri,cd="__reactListeners$"+Ri,Tc="__reactHandles$"+Ri,bc="__reactResources$"+Ri,Xi="__reactMarker$"+Ri;function eo(i){delete i[De],delete i[Qe],delete i[to],delete i[cd],delete i[Tc]}function $i(i){var s=i[De];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Qi]||a[De]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=d1(i);i!==null;){if(a=i[De])return a;i=d1(i)}return s}i=a,a=i.parentNode}return null}function ii(i){if(i=i[De]||i[Qi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Fn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Wi(i){var s=i[bc];return s||(s=i[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Me(i){i[Xi]=!0}var xl=new Set,Al={};function Zi(i,s){Ji(i,s),Ji(i+"Capture",s)}function Ji(i,s){for(Al[i]=s,i=0;i<s.length;i++)xl.add(s[i])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function Ec(i){return Jt.call(Il,i)?!0:Jt.call(Cl,i)?!1:Rl.test(i)?Il[i]=!0:(Cl[i]=!0,!1)}function no(i,s,a){if(Ec(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Gn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Ve(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function Xe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nl(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,d.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ne(i){if(!i._valueTracker){var s=tr(i)?"checked":"value";i._valueTracker=Nl(i,s,""+i[s])}}function ra(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=tr(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function ts(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aa=/[\n"\\]/g;function In(i){return i.replace(aa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function io(i,s,a,l,f,d,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Xe(s)):i.value!==""+Xe(s)&&(i.value=""+Xe(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Dl(i,T,Xe(s)):a!=null?Dl(i,T,Xe(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Xe(S):i.removeAttribute("name")}function wc(i,s,a,l,f,d,T,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){ne(i);return}a=a!=null?""+Xe(a):"",s=s!=null?""+Xe(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ne(i)}function Dl(i,s,a){s==="number"&&ts(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function er(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Xe(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Sc(i,s,a){if(s!=null&&(s=""+Xe(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Xe(a):""}function nr(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Zt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Xe(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),ne(i)}function Nn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||xc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Vl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Ml(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Ml(i,d,s[d])}function so(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(i){return ir.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ci(){}var kl=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sr=null,es=null;function oa(i){var s=ii(i);if(s&&(i=s.stateNode)){var a=i[Qe]||null;t:switch(i=s.stateNode,s.type){case"input":if(io(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Qe]||null;if(!f)throw Error(r(90));io(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&ra(l)}break t;case"textarea":Sc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&er(i,!!a.multiple,s,!1)}}}var ao=!1;function rr(i,s,a){if(ao)return i(s,a);ao=!0;try{var l=i(s);return l}finally{if(ao=!1,(sr!==null||es!==null)&&(_h(),sr&&(s=sr,i=es,es=sr=null,oa(s),i)))for(s=0;s<i.length;s++)oa(i[s])}}function Ii(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Qe]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(ri)try{var re={};Object.defineProperty(re,"passive",{get:function(){la=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{la=!1}var ns=null,Ol=null,ua=null;function Pl(){if(ua)return ua;var i,s=Ol,a=s.length,l,f="value"in ns?ns.value:ns.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&s[a-l]===f[d-l];l++);return ua=f.slice(i,1<l?1-l:void 0)}function ca(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ss(){return!0}function Ni(){return!1}function on(i){function s(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ss:Ni,this.isPropagationStopped=Ni,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),s}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=on(xs),ar=y({},xs,{view:0,detail:0}),Ll=on(ar),or,oo,ss,lo=y({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(or=i.screenX-ss.screenX,oo=i.screenY-ss.screenY):oo=or=0,ss=i),or)},movementY:function(i){return"movementY"in i?i.movementY:oo}}),jl=on(lo),ha=y({},lo,{dataTransfer:0}),Rc=on(ha),Cc=y({},ar,{relatedTarget:0}),fa=on(Cc),Ul=y({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=on(Ul),uo=y({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nc=on(uo),Dc=y({},xs,{data:0}),rs=on(Dc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=kc[i])?!!s[i]:!1}function lr(){return Oc}var xn=y({},ar,{key:function(i){if(i.key){var s=Mc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Vc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pc=on(xn),Lc=y({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=on(Lc),h=y({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),_=on(h),b=y({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=on(b),B=y({},lo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=on(B),lt=y({},xs,{newState:0,oldState:0}),Mt=on(lt),Ae=[9,13,27,32],$t=ri&&"CompositionEvent"in window,ge=null;ri&&"documentMode"in document&&(ge=document.documentMode);var ai=ri&&"TextEvent"in window&&!ge,as=ri&&(!$t||ge&&8<ge&&11>=ge),Di=" ",Mi=!1;function da(i,s){switch(i){case"keyup":return Ae.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ho=!1;function XA(i,s){switch(i){case"compositionend":return co(s);case"keypress":return s.which!==32?null:(Mi=!0,Di);case"textInput":return i=s.data,i===Di&&Mi?null:i;default:return null}}function $A(i,s){if(ho)return i==="compositionend"||!$t&&da(i,s)?(i=Pl(),ua=Ol=ns=null,ho=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return as&&s.locale!=="ko"?null:s.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!WA[i.type]:s==="textarea"}function y0(i,s,a,l){sr?es?es.push(l):es=[l]:sr=l,s=Ah(s,"onChange"),0<s.length&&(a=new is("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var zl=null,Bl=null;function ZA(i){J_(i,0)}function jc(i){var s=Fn(i);if(ra(s))return i}function v0(i,s){if(i==="change")return s}var _0=!1;if(ri){var hd;if(ri){var fd="oninput"in document;if(!fd){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),fd=typeof T0.oninput=="function"}hd=fd}else hd=!1;_0=hd&&(!document.documentMode||9<document.documentMode)}function b0(){zl&&(zl.detachEvent("onpropertychange",E0),Bl=zl=null)}function E0(i){if(i.propertyName==="value"&&jc(Bl)){var s=[];y0(s,Bl,i,si(i)),rr(ZA,s)}}function JA(i,s,a){i==="focusin"?(b0(),zl=s,Bl=a,zl.attachEvent("onpropertychange",E0)):i==="focusout"&&b0()}function t2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(Bl)}function e2(i,s){if(i==="click")return jc(s)}function n2(i,s){if(i==="input"||i==="change")return jc(s)}function i2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kn=typeof Object.is=="function"?Object.is:i2;function Hl(i,s){if(Kn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Jt.call(s,f)||!Kn(i[f],s[f]))return!1}return!0}function w0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function S0(i,s){var a=w0(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=w0(a)}}function x0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?x0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function A0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ts(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=ts(i.document)}return s}function dd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var s2=ri&&"documentMode"in document&&11>=document.documentMode,fo=null,md=null,ql=null,pd=!1;function R0(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pd||fo==null||fo!==ts(l)||(l=fo,"selectionStart"in l&&dd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Hl(ql,l)||(ql=l,l=Ah(md,"onSelect"),0<l.length&&(s=new is("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=fo)))}function ma(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var mo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},gd={},C0={};ri&&(C0=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function pa(i){if(gd[i])return gd[i];if(!mo[i])return i;var s=mo[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in C0)return gd[i]=s[a];return i}var I0=pa("animationend"),N0=pa("animationiteration"),D0=pa("animationstart"),r2=pa("transitionrun"),a2=pa("transitionstart"),o2=pa("transitioncancel"),M0=pa("transitionend"),V0=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function Vi(i,s){V0.set(i,s),Zi(s,[i])}var Uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oi=[],po=0,vd=0;function zc(){for(var i=po,s=vd=po=0;s<i;){var a=oi[s];oi[s++]=null;var l=oi[s];oi[s++]=null;var f=oi[s];oi[s++]=null;var d=oi[s];if(oi[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&k0(a,f,d)}}function Bc(i,s,a,l){oi[po++]=i,oi[po++]=s,oi[po++]=a,oi[po++]=l,vd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function _d(i,s,a,l){return Bc(i,s,a,l),Hc(i)}function ga(i,s){return Bc(i,null,null,s),Hc(i)}function k0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-pe(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Hc(i){if(50<hu)throw hu=0,Cm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var go={};function l2(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,s,a,l){return new l2(i,s,a,l)}function Td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Rs(i,s){var a=i.alternate;return a===null?(a=Yn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function O0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function qc(i,s,a,l,f,d){var T=0;if(l=i,typeof i=="function")Td(i)&&(T=1);else if(typeof i=="string")T=dR(i,a,at.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Yn(31,a,s,f),i.elementType=I,i.lanes=d,i;case U:return ya(a.children,f,d,s);case H:T=8,f|=24;break;case G:return i=Yn(12,a,s,f|2),i.elementType=G,i.lanes=d,i;case ct:return i=Yn(13,a,s,f),i.elementType=ct,i.lanes=d,i;case ot:return i=Yn(19,a,s,f),i.elementType=ot,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:T=10;break t;case J:T=9;break t;case ft:T=11;break t;case C:T=14;break t;case R:T=16,l=null;break t}T=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Yn(T,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function ya(i,s,a,l){return i=Yn(7,i,l,s),i.lanes=a,i}function bd(i,s,a){return i=Yn(6,i,null,s),i.lanes=a,i}function P0(i){var s=Yn(18,null,null,0);return s.stateNode=i,s}function Ed(i,s,a){return s=Yn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var L0=new WeakMap;function li(i,s){if(typeof i=="object"&&i!==null){var a=L0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Js(s)},L0.set(i,s),s)}return{value:i,source:s,stack:Js(s)}}var yo=[],vo=0,Fc=null,Fl=0,ui=[],ci=0,ur=null,os=1,ls="";function Cs(i,s){yo[vo++]=Fl,yo[vo++]=Fc,Fc=i,Fl=s}function j0(i,s,a){ui[ci++]=os,ui[ci++]=ls,ui[ci++]=ur,ur=i;var l=os;i=ls;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(s)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,os=1<<32-pe(s)+f|a<<f|l,ls=d+i}else os=1<<d|a<<f|l,ls=i}function wd(i){i.return!==null&&(Cs(i,1),j0(i,1,0))}function Sd(i){for(;i===Fc;)Fc=yo[--vo],yo[vo]=null,Fl=yo[--vo],yo[vo]=null;for(;i===ur;)ur=ui[--ci],ui[ci]=null,ls=ui[--ci],ui[ci]=null,os=ui[--ci],ui[ci]=null}function U0(i,s){ui[ci++]=os,ui[ci++]=ls,ui[ci++]=ur,os=s.id,ls=s.overflow,ur=i}var ln=null,fe=null,qt=!1,cr=null,hi=!1,xd=Error(r(519));function hr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(li(s,i)),xd}function z0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[De]=i,s[Qe]=l,a){case"dialog":Lt("cancel",s),Lt("close",s);break;case"iframe":case"object":case"embed":Lt("load",s);break;case"video":case"audio":for(a=0;a<du.length;a++)Lt(du[a],s);break;case"source":Lt("error",s);break;case"img":case"image":case"link":Lt("error",s),Lt("load",s);break;case"details":Lt("toggle",s);break;case"input":Lt("invalid",s),wc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",s);break;case"textarea":Lt("invalid",s),nr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||i1(s.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",s),Lt("toggle",s)),l.onScroll!=null&&Lt("scroll",s),l.onScrollEnd!=null&&Lt("scrollend",s),l.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||hr(i,!0)}function B0(i){for(ln=i.return;ln;)switch(ln.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function _o(i){if(i!==ln)return!1;if(!qt)return B0(i),qt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||qm(i.type,i.memoizedProps)),a=!a),a&&fe&&hr(i),B0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fe=f1(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fe=f1(i)}else s===27?(s=fe,xr(i.type)?(i=Qm,Qm=null,fe=i):fe=s):fe=ln?di(i.stateNode.nextSibling):null;return!0}function va(){fe=ln=null,qt=!1}function Ad(){var i=cr;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),cr=null),i}function Gl(i){cr===null?cr=[i]:cr.push(i)}var Rd=k(null),_a=null,Is=null;function fr(i,s,a){rt(Rd,s._currentValue),s._currentValue=a}function Ns(i){i._currentValue=Rd.current,Z(Rd)}function Cd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Id(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Cd(d.return,a,i),l||(T=null);break t}d=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Cd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function To(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=f.type;Kn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===kt.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}f=f.return}i!==null&&Id(s,i,a,l),s.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){_a=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return H0(_a,i)}function Kc(i,s){return _a===null&&Ta(i),H0(i,s)}function H0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Is===null){if(i===null)throw Error(r(308));Is=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Is=Is.next=s;return a}var u2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},c2=n.unstable_scheduleCallback,h2=n.unstable_NormalPriority,ke={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new u2,data:new Map,refCount:0}}function Kl(i){i.refCount--,i.refCount===0&&c2(h2,function(){i.controller.abort()})}var Yl=null,Dd=0,bo=0,Eo=null;function f2(i,s){if(Yl===null){var a=Yl=[];Dd=0,bo=km(),Eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dd++,s.then(q0,q0),s}function q0(){if(--Dd===0&&Yl!==null){Eo!==null&&(Eo.status="fulfilled");var i=Yl;Yl=null,bo=0,Eo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function d2(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var F0=z.S;z.S=function(i,s){R_=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&f2(i,s),F0!==null&&F0(i,s)};var ba=k(null);function Md(){var i=ba.current;return i!==null?i:ue.pooledCache}function Yc(i,s){s===null?rt(ba,ba.current):rt(ba,s.pool)}function G0(){var i=Md();return i===null?null:{parent:ke._currentValue,pool:i}}var wo=Error(r(460)),Vd=Error(r(474)),Qc=Error(r(542)),Xc={then:function(){}};function K0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Y0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Ci,Ci),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,X0(i),i;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(i=ue,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,X0(i),i}throw wa=s,wo}}function Ea(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wa=a,wo):a}}var wa=null;function Q0(){if(wa===null)throw Error(r(459));var i=wa;return wa=null,i}function X0(i){if(i===wo||i===Qc)throw Error(r(483))}var So=null,Ql=0;function $c(i){var s=Ql;return Ql+=1,So===null&&(So=[]),Y0(So,i,s)}function Xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Wc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function $0(i){function s(j,P){if(i){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function a(j,P){if(!i)return null;for(;P!==null;)s(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=Rs(j,P),j.index=0,j.sibling=null,j}function d(j,P,q){return j.index=q,i?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=67108866,P):q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function T(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function S(j,P,q,tt){return P===null||P.tag!==6?(P=bd(q,j.mode,tt),P.return=j,P):(P=f(P,q),P.return=j,P)}function M(j,P,q,tt){var vt=q.type;return vt===U?$(j,P,q.props.children,tt,q.key):P!==null&&(P.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Ea(vt)===P.type)?(P=f(P,q.props),Xl(P,q),P.return=j,P):(P=qc(q.type,q.key,q.props,null,j.mode,tt),Xl(P,q),P.return=j,P)}function F(j,P,q,tt){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Ed(q,j.mode,tt),P.return=j,P):(P=f(P,q.children||[]),P.return=j,P)}function $(j,P,q,tt,vt){return P===null||P.tag!==7?(P=ya(q,j.mode,tt,vt),P.return=j,P):(P=f(P,q),P.return=j,P)}function et(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=bd(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return q=qc(P.type,P.key,P.props,null,j.mode,q),Xl(q,P),q.return=j,q;case D:return P=Ed(P,j.mode,q),P.return=j,P;case R:return P=Ea(P),et(j,P,q)}if(Zt(P)||L(P))return P=ya(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return et(j,$c(P),q);if(P.$$typeof===X)return et(j,Kc(j,P),q);Wc(j,P)}return null}function K(j,P,q,tt){var vt=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:S(j,P,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===vt?M(j,P,q,tt):null;case D:return q.key===vt?F(j,P,q,tt):null;case R:return q=Ea(q),K(j,P,q,tt)}if(Zt(q)||L(q))return vt!==null?null:$(j,P,q,tt,null);if(typeof q.then=="function")return K(j,P,$c(q),tt);if(q.$$typeof===X)return K(j,P,Kc(j,q),tt);Wc(j,q)}return null}function Q(j,P,q,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(q)||null,S(P,j,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case A:return j=j.get(tt.key===null?q:tt.key)||null,M(P,j,tt,vt);case D:return j=j.get(tt.key===null?q:tt.key)||null,F(P,j,tt,vt);case R:return tt=Ea(tt),Q(j,P,q,tt,vt)}if(Zt(tt)||L(tt))return j=j.get(q)||null,$(P,j,tt,vt,null);if(typeof tt.then=="function")return Q(j,P,q,$c(tt),vt);if(tt.$$typeof===X)return Q(j,P,q,Kc(P,tt),vt);Wc(P,tt)}return null}function gt(j,P,q,tt){for(var vt=null,Yt=null,yt=P,Ot=P=0,Ut=null;yt!==null&&Ot<q.length;Ot++){yt.index>Ot?(Ut=yt,yt=null):Ut=yt.sibling;var Qt=K(j,yt,q[Ot],tt);if(Qt===null){yt===null&&(yt=Ut);break}i&&yt&&Qt.alternate===null&&s(j,yt),P=d(Qt,P,Ot),Yt===null?vt=Qt:Yt.sibling=Qt,Yt=Qt,yt=Ut}if(Ot===q.length)return a(j,yt),qt&&Cs(j,Ot),vt;if(yt===null){for(;Ot<q.length;Ot++)yt=et(j,q[Ot],tt),yt!==null&&(P=d(yt,P,Ot),Yt===null?vt=yt:Yt.sibling=yt,Yt=yt);return qt&&Cs(j,Ot),vt}for(yt=l(yt);Ot<q.length;Ot++)Ut=Q(yt,j,Ot,q[Ot],tt),Ut!==null&&(i&&Ut.alternate!==null&&yt.delete(Ut.key===null?Ot:Ut.key),P=d(Ut,P,Ot),Yt===null?vt=Ut:Yt.sibling=Ut,Yt=Ut);return i&&yt.forEach(function(Nr){return s(j,Nr)}),qt&&Cs(j,Ot),vt}function wt(j,P,q,tt){if(q==null)throw Error(r(151));for(var vt=null,Yt=null,yt=P,Ot=P=0,Ut=null,Qt=q.next();yt!==null&&!Qt.done;Ot++,Qt=q.next()){yt.index>Ot?(Ut=yt,yt=null):Ut=yt.sibling;var Nr=K(j,yt,Qt.value,tt);if(Nr===null){yt===null&&(yt=Ut);break}i&&yt&&Nr.alternate===null&&s(j,yt),P=d(Nr,P,Ot),Yt===null?vt=Nr:Yt.sibling=Nr,Yt=Nr,yt=Ut}if(Qt.done)return a(j,yt),qt&&Cs(j,Ot),vt;if(yt===null){for(;!Qt.done;Ot++,Qt=q.next())Qt=et(j,Qt.value,tt),Qt!==null&&(P=d(Qt,P,Ot),Yt===null?vt=Qt:Yt.sibling=Qt,Yt=Qt);return qt&&Cs(j,Ot),vt}for(yt=l(yt);!Qt.done;Ot++,Qt=q.next())Qt=Q(yt,j,Ot,Qt.value,tt),Qt!==null&&(i&&Qt.alternate!==null&&yt.delete(Qt.key===null?Ot:Qt.key),P=d(Qt,P,Ot),Yt===null?vt=Qt:Yt.sibling=Qt,Yt=Qt);return i&&yt.forEach(function(SR){return s(j,SR)}),qt&&Cs(j,Ot),vt}function le(j,P,q,tt){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var vt=q.key;P!==null;){if(P.key===vt){if(vt=q.type,vt===U){if(P.tag===7){a(j,P.sibling),tt=f(P,q.props.children),tt.return=j,j=tt;break t}}else if(P.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Ea(vt)===P.type){a(j,P.sibling),tt=f(P,q.props),Xl(tt,q),tt.return=j,j=tt;break t}a(j,P);break}else s(j,P);P=P.sibling}q.type===U?(tt=ya(q.props.children,j.mode,tt,q.key),tt.return=j,j=tt):(tt=qc(q.type,q.key,q.props,null,j.mode,tt),Xl(tt,q),tt.return=j,j=tt)}return T(j);case D:t:{for(vt=q.key;P!==null;){if(P.key===vt)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(j,P.sibling),tt=f(P,q.children||[]),tt.return=j,j=tt;break t}else{a(j,P);break}else s(j,P);P=P.sibling}tt=Ed(q,j.mode,tt),tt.return=j,j=tt}return T(j);case R:return q=Ea(q),le(j,P,q,tt)}if(Zt(q))return gt(j,P,q,tt);if(L(q)){if(vt=L(q),typeof vt!="function")throw Error(r(150));return q=vt.call(q),wt(j,P,q,tt)}if(typeof q.then=="function")return le(j,P,$c(q),tt);if(q.$$typeof===X)return le(j,P,Kc(j,q),tt);Wc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(j,P.sibling),tt=f(P,q),tt.return=j,j=tt):(a(j,P),tt=bd(q,j.mode,tt),tt.return=j,j=tt),T(j)):a(j,P)}return function(j,P,q,tt){try{Ql=0;var vt=le(j,P,q,tt);return So=null,vt}catch(yt){if(yt===wo||yt===Qc)throw yt;var Yt=Yn(29,yt,null,j.mode);return Yt.lanes=tt,Yt.return=j,Yt}finally{}}}var Sa=$0(!0),W0=$0(!1),dr=!1;function kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pr(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Hc(i),k0(i,null,a),s}return Bc(i,l,s,a),Hc(i)}function $l(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sn(i,a)}}function Pd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Ld=!1;function Wl(){if(Ld){var i=Eo;if(i!==null)throw i}}function Zl(i,s,a,l){Ld=!1;var f=i.updateQueue;dr=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,F=M.next;M.next=null,T===null?d=F:T.next=F,T=M;var $=i.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==T&&(S===null?$.firstBaseUpdate=F:S.next=F,$.lastBaseUpdate=M))}if(d!==null){var et=f.baseState;T=0,$=F=M=null,S=d;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(jt&K)===K:(l&K)===K){K!==0&&K===bo&&(Ld=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=i,wt=S;K=s;var le=a;switch(wt.tag){case 1:if(gt=wt.payload,typeof gt=="function"){et=gt.call(le,et,K);break t}et=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=wt.payload,K=typeof gt=="function"?gt.call(le,et,K):gt,K==null)break t;et=y({},et,K);break t;case 2:dr=!0}}K=S.callback,K!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(F=$=Q,M=et):$=$.next=Q,T|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(M=et),f.baseState=M,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Tr|=T,i.lanes=T,i.memoizedState=et}}function Z0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function J0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Z0(a[i],s)}var xo=k(null),Zc=k(0);function tv(i,s){i=Us,rt(Zc,i),rt(xo,s),Us=i|s.baseLanes}function jd(){rt(Zc,Us),rt(xo,xo.current)}function Ud(){Us=Zc.current,Z(xo),Z(Zc)}var Qn=k(null),fi=null;function gr(i){var s=i.alternate;rt(Re,Re.current&1),rt(Qn,i),fi===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(fi=i)}function zd(i){rt(Re,Re.current),rt(Qn,i),fi===null&&(fi=i)}function ev(i){i.tag===22?(rt(Re,Re.current),rt(Qn,i),fi===null&&(fi=i)):yr()}function yr(){rt(Re,Re.current),rt(Qn,Qn.current)}function Xn(i){Z(Qn),fi===i&&(fi=null),Z(Re)}var Re=k(0);function Jc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Km(a)||Ym(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ds=0,Vt=null,ae=null,Oe=null,th=!1,Ao=!1,xa=!1,eh=0,Jl=0,Ro=null,m2=0;function Ee(){throw Error(r(321))}function Bd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Kn(i[a],s[a]))return!1;return!0}function Hd(i,s,a,l,f,d){return Ds=d,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=i===null||i.memoizedState===null?jv:im,xa=!1,d=a(l,f),xa=!1,Ao&&(d=iv(s,a,l,f)),nv(i),d}function nv(i){z.H=nu;var s=ae!==null&&ae.next!==null;if(Ds=0,Oe=ae=Vt=null,th=!1,Jl=0,Ro=null,s)throw Error(r(300));i===null||Pe||(i=i.dependencies,i!==null&&Gc(i)&&(Pe=!0))}function iv(i,s,a,l){Vt=i;var f=0;do{if(Ao&&(Ro=null),Jl=0,Ao=!1,25<=f)throw Error(r(301));if(f+=1,Oe=ae=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=Uv,d=s(a,l)}while(Ao);return d}function p2(){var i=z.H,s=i.useState()[0];return s=typeof s.then=="function"?tu(s):s,i=i.useState()[0],(ae!==null?ae.memoizedState:null)!==i&&(Vt.flags|=1024),s}function qd(){var i=eh!==0;return eh=0,i}function Fd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Gd(i){if(th){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}th=!1}Ds=0,Oe=ae=Vt=null,Ao=!1,Jl=eh=0,Ro=null}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Vt.memoizedState=Oe=i:Oe=Oe.next=i,Oe}function Ce(){if(ae===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=ae.next;var s=Oe===null?Vt.memoizedState:Oe.next;if(s!==null)Oe=s,ae=i;else{if(i===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));ae=i,i={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Oe===null?Vt.memoizedState=Oe=i:Oe=Oe.next=i}return Oe}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var s=Jl;return Jl+=1,Ro===null&&(Ro=[]),i=Y0(Ro,i,s),s=Vt,(Oe===null?s.memoizedState:Oe.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?jv:im),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===X)return un(i)}throw Error(r(438,String(i)))}function Kd(i){var s=null,a=Vt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=nh(),Vt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=O;return s.index++,a}function Ms(i,s){return typeof s=="function"?s(i):s}function sh(i){var s=Ce();return Yd(s,ae,i)}function Yd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=T=null,M=null,F=s,$=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(jt&et)===et:(Ds&et)===et){var K=F.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===bo&&($=!0);else if((Ds&K)===K){F=F.next,K===bo&&($=!0);continue}else et={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(S=M=et,T=d):M=M.next=et,Vt.lanes|=K,Tr|=K;et=F.action,xa&&a(d,et),d=F.hasEagerState?F.eagerState:a(d,et)}else K={lane:et,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(S=M=K,T=d):M=M.next=K,Vt.lanes|=et,Tr|=et;F=F.next}while(F!==null&&F!==s);if(M===null?T=d:M.next=S,!Kn(d,i.memoizedState)&&(Pe=!0,$&&(a=Eo,a!==null)))throw a;i.memoizedState=d,i.baseState=T,i.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Qd(i){var s=Ce(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=i(d,T.action),T=T.next;while(T!==f);Kn(d,s.memoizedState)||(Pe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function sv(i,s,a){var l=Vt,f=Ce(),d=qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Kn((ae||f).memoizedState,a);if(T&&(f.memoizedState=a,Pe=!0),f=f.queue,Wd(ov.bind(null,l,f,i),[i]),f.getSnapshot!==s||T||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,Co(9,{destroy:void 0},av.bind(null,l,f,a,s),null),ue===null)throw Error(r(349));d||(Ds&127)!==0||rv(l,s,a)}return a}function rv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Vt.updateQueue,s===null?(s=nh(),Vt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function av(i,s,a,l){s.value=a,s.getSnapshot=l,lv(s)&&uv(i)}function ov(i,s,a){return a(function(){lv(s)&&uv(i)})}function lv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Kn(i,a)}catch{return!0}}function uv(i){var s=ga(i,2);s!==null&&On(s,i,2)}function Xd(i){var s=An();if(typeof i=="function"){var a=i;if(i=a(),xa){wn(!0);try{a()}finally{wn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},s}function cv(i,s,a,l){return i.baseState=a,Yd(i,ae,typeof l=="function"?l:Ms)}function g2(i,s,a,l,f){if(oh(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,hv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function hv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=z.T,T={};z.T=T;try{var S=a(f,l),M=z.S;M!==null&&M(T,S),fv(i,s,S)}catch(F){$d(i,s,F)}finally{d!==null&&T.types!==null&&(d.types=T.types),z.T=d}}else try{d=a(f,l),fv(i,s,d)}catch(F){$d(i,s,F)}}function fv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dv(i,s,l)},function(l){return $d(i,s,l)}):dv(i,s,a)}function dv(i,s,a){s.status="fulfilled",s.value=a,mv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,hv(i,a)))}function $d(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,mv(s),s=s.next;while(s!==l)}i.action=null}function mv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function pv(i,s){return s}function gv(i,s){if(qt){var a=ue.formState;if(a!==null){t:{var l=Vt;if(qt){if(fe){e:{for(var f=fe,d=hi;f.nodeType!==8;){if(!d){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){fe=di(f.nextSibling),l=f.data==="F!";break t}}hr(l)}l=!1}l&&(s=a[0])}}return a=An(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:s},a.queue=l,a=Ov.bind(null,Vt,l),l.dispatch=a,l=Xd(!1),d=nm.bind(null,Vt,!1,l.queue),l=An(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=g2.bind(null,Vt,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function yv(i){var s=Ce();return vv(s,ae,i)}function vv(i,s,a){if(s=Yd(i,s,pv)[0],i=sh(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=tu(s)}catch(T){throw T===wo?Qc:T}else l=s;s=Ce();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Vt.flags|=2048,Co(9,{destroy:void 0},y2.bind(null,f,a),null)),[l,d,i]}function y2(i,s){i.action=s}function _v(i){var s=Ce(),a=ae;if(a!==null)return vv(s,a,i);Ce(),s=s.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Co(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=nh(),Vt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function Tv(){return Ce().memoizedState}function rh(i,s,a,l){var f=An();Vt.flags|=i,f.memoizedState=Co(1|s,{destroy:void 0},a,l===void 0?null:l)}function ah(i,s,a,l){var f=Ce();l=l===void 0?null:l;var d=f.memoizedState.inst;ae!==null&&l!==null&&Bd(l,ae.memoizedState.deps)?f.memoizedState=Co(s,d,a,l):(Vt.flags|=i,f.memoizedState=Co(1|s,d,a,l))}function bv(i,s){rh(8390656,8,i,s)}function Wd(i,s){ah(2048,8,i,s)}function v2(i){Vt.flags|=4;var s=Vt.updateQueue;if(s===null)s=nh(),Vt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function Ev(i){var s=Ce().memoizedState;return v2({ref:s,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function wv(i,s){return ah(4,2,i,s)}function Sv(i,s){return ah(4,4,i,s)}function xv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Av(i,s,a){a=a!=null?a.concat([i]):null,ah(4,4,xv.bind(null,s,i),a)}function Zd(){}function Rv(i,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Bd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Cv(i,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Bd(s,l[1]))return l[0];if(l=i(),xa){wn(!0);try{i()}finally{wn(!1)}}return a.memoizedState=[l,s],l}function Jd(i,s,a){return a===void 0||(Ds&1073741824)!==0&&(jt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=I_(),Vt.lanes|=i,Tr|=i,a)}function Iv(i,s,a,l){return Kn(a,s)?a:xo.current!==null?(i=Jd(i,a,l),Kn(i,s)||(Pe=!0),i):(Ds&42)===0||(Ds&1073741824)!==0&&(jt&261930)===0?(Pe=!0,i.memoizedState=a):(i=I_(),Vt.lanes|=i,Tr|=i,s)}function Nv(i,s,a,l,f){var d=W.p;W.p=d!==0&&8>d?d:8;var T=z.T,S={};z.T=S,nm(i,!1,s,a);try{var M=f(),F=z.S;if(F!==null&&F(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=d2(M,l);eu(i,s,$,Zn(i))}else eu(i,s,l,Zn(i))}catch(et){eu(i,s,{then:function(){},status:"rejected",reason:et},Zn())}finally{W.p=d,T!==null&&S.types!==null&&(T.types=S.types),z.T=T}}function _2(){}function tm(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Dv(i).queue;Nv(i,f,s,ht,a===null?_2:function(){return Mv(i),a(l)})}function Dv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Mv(i){var s=Dv(i);s.next===null&&(s=i.alternate.memoizedState),eu(i,s.next.queue,{},Zn())}function em(){return un(vu)}function Vv(){return Ce().memoizedState}function kv(){return Ce().memoizedState}function T2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zn();i=mr(a);var l=pr(s,i,a);l!==null&&(On(l,s,a),$l(l,s,a)),s={cache:Nd()},i.payload=s;return}s=s.return}}function b2(i,s,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oh(i)?Pv(s,a):(a=_d(i,s,a,l),a!==null&&(On(a,i,l),Lv(a,s,l)))}function Ov(i,s,a){var l=Zn();eu(i,s,a,l)}function eu(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oh(i))Pv(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var T=s.lastRenderedState,S=d(T,a);if(f.hasEagerState=!0,f.eagerState=S,Kn(S,T))return Bc(i,s,f,0),ue===null&&zc(),!1}catch{}finally{}if(a=_d(i,s,f,l),a!==null)return On(a,i,l),Lv(a,s,l),!0}return!1}function nm(i,s,a,l){if(l={lane:2,revertLane:km(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(s)throw Error(r(479))}else s=_d(i,a,l,2),s!==null&&On(s,i,2)}function oh(i){var s=i.alternate;return i===Vt||s!==null&&s===Vt}function Pv(i,s){Ao=th=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Lv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,sn(i,a)}}var nu={readContext:un,use:ih,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};nu.useEffectEvent=Ee;var jv={readContext:un,use:ih,useCallback:function(i,s){return An().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:bv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,rh(4194308,4,xv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return rh(4194308,4,i,s)},useInsertionEffect:function(i,s){rh(4,2,i,s)},useMemo:function(i,s){var a=An();s=s===void 0?null:s;var l=i();if(xa){wn(!0);try{i()}finally{wn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=An();if(a!==void 0){var f=a(s);if(xa){wn(!0);try{a(s)}finally{wn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=b2.bind(null,Vt,i),[l.memoizedState,i]},useRef:function(i){var s=An();return i={current:i},s.memoizedState=i},useState:function(i){i=Xd(i);var s=i.queue,a=Ov.bind(null,Vt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(i,s){var a=An();return Jd(a,i,s)},useTransition:function(){var i=Xd(!1);return i=Nv.bind(null,Vt,i.queue,!0,!1),An().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Vt,f=An();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ue===null)throw Error(r(349));(jt&127)!==0||rv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,bv(ov.bind(null,l,d,i),[i]),l.flags|=2048,Co(9,{destroy:void 0},av.bind(null,l,d,a,s),null),a},useId:function(){var i=An(),s=ue.identifierPrefix;if(qt){var a=ls,l=os;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=eh++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=m2++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:em,useFormState:gv,useActionState:gv,useOptimistic:function(i){var s=An();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nm.bind(null,Vt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Kd,useCacheRefresh:function(){return An().memoizedState=T2.bind(null,Vt)},useEffectEvent:function(i){var s=An(),a={impl:i};return s.memoizedState=a,function(){if((Wt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},im={readContext:un,use:ih,useCallback:Rv,useContext:un,useEffect:Wd,useImperativeHandle:Av,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Cv,useReducer:sh,useRef:Tv,useState:function(){return sh(Ms)},useDebugValue:Zd,useDeferredValue:function(i,s){var a=Ce();return Iv(a,ae.memoizedState,i,s)},useTransition:function(){var i=sh(Ms)[0],s=Ce().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:sv,useId:Vv,useHostTransitionStatus:em,useFormState:yv,useActionState:yv,useOptimistic:function(i,s){var a=Ce();return cv(a,ae,i,s)},useMemoCache:Kd,useCacheRefresh:kv};im.useEffectEvent=Ev;var Uv={readContext:un,use:ih,useCallback:Rv,useContext:un,useEffect:Wd,useImperativeHandle:Av,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Cv,useReducer:Qd,useRef:Tv,useState:function(){return Qd(Ms)},useDebugValue:Zd,useDeferredValue:function(i,s){var a=Ce();return ae===null?Jd(a,i,s):Iv(a,ae.memoizedState,i,s)},useTransition:function(){var i=Qd(Ms)[0],s=Ce().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:sv,useId:Vv,useHostTransitionStatus:em,useFormState:_v,useActionState:_v,useOptimistic:function(i,s){var a=Ce();return ae!==null?cv(a,ae,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:kv};Uv.useEffectEvent=Ev;function sm(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var rm={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Zn(),f=mr(l);f.payload=s,a!=null&&(f.callback=a),s=pr(i,f,l),s!==null&&(On(s,i,l),$l(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Zn(),f=mr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=pr(i,f,l),s!==null&&(On(s,i,l),$l(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Zn(),l=mr(a);l.tag=2,s!=null&&(l.callback=s),s=pr(i,l,a),s!==null&&(On(s,i,a),$l(s,i,a))}};function zv(i,s,a,l,f,d,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,T):s.prototype&&s.prototype.isPureReactComponent?!Hl(a,l)||!Hl(f,d):!0}function Bv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&rm.enqueueReplaceState(s,s.state,null)}function Aa(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=y({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Hv(i){Uc(i)}function qv(i){console.error(i)}function Fv(i){Uc(i)}function lh(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Gv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(i,s,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){lh(i,s)},a}function Kv(i){return i=mr(i),i.tag=3,i}function Yv(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){Gv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Gv(s,a,l),typeof f!="function"&&(br===null?br=new Set([this]):br.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function E2(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&To(s,a,f,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?Th():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Xc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Dm(i,l,f)),!1;case 22:return a.flags|=65536,l===Xc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Dm(i,l,f)),!1}throw Error(r(435,a.tag))}return Dm(i,l,f),Th(),!1}if(qt)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==xd&&(i=Error(r(422),{cause:l}),Gl(li(i,a)))):(l!==xd&&(s=Error(r(423),{cause:l}),Gl(li(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=li(l,a),f=am(i.stateNode,l,f),Pd(i,f),we!==4&&(we=2)),!1;var d=Error(r(520),{cause:l});if(d=li(d,a),cu===null?cu=[d]:cu.push(d),we!==4&&(we=2),s===null)return!0;l=li(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=am(a.stateNode,l,i),Pd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Kv(f),Yv(f,i,a,l),Pd(a,f),!1}a=a.return}while(a!==null);return!1}var om=Error(r(461)),Pe=!1;function cn(i,s,a,l){s.child=i===null?W0(s,null,a,l):Sa(s,i.child,a,l)}function Qv(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Ta(s),l=Hd(i,s,a,T,d,f),S=qd(),i!==null&&!Pe?(Fd(i,s,f),Vs(i,s,f)):(qt&&S&&wd(s),s.flags|=1,cn(i,s,l,f),s.child)}function Xv(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,$v(i,s,d,l,f)):(i=qc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!pm(i,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(T,l)&&i.ref===s.ref)return Vs(i,s,f)}return s.flags|=1,i=Rs(d,l),i.ref=s.ref,i.return=s,s.child=i}function $v(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Hl(d,l)&&i.ref===s.ref)if(Pe=!1,s.pendingProps=l=d,pm(i,f))(i.flags&131072)!==0&&(Pe=!0);else return s.lanes=i.lanes,Vs(i,s,f)}return lm(i,s,a,l,f)}function Wv(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Zv(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(s,d!==null?d.cachePool:null),d!==null?tv(s,d):jd(),ev(s);else return l=s.lanes=536870912,Zv(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yc(s,d.cachePool),tv(s,d),yr(),s.memoizedState=null):(i!==null&&Yc(s,null),jd(),yr());return cn(i,s,f,a),s.child}function iu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Zv(i,s,a,l,f){var d=Md();return d=d===null?null:{parent:ke._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Yc(s,null),jd(),ev(s),i!==null&&To(i,s,l,!0),s.childLanes=f,null}function uh(i,s){return s=hh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Jv(i,s,a){return Sa(s,i.child,null,a),i=uh(s,s.pendingProps),i.flags|=2,Xn(s),s.memoizedState=null,i}function w2(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(qt){if(l.mode==="hidden")return i=uh(s,l),s.lanes=536870912,iu(null,i);if(zd(s),(i=fe)?(i=h1(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ur!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=P0(i),a.return=s,s.child=a,ln=s,fe=null)):i=null,i===null)throw hr(s);return s.lanes=536870912,null}return uh(s,l)}var d=i.memoizedState;if(d!==null){var T=d.dehydrated;if(zd(s),f)if(s.flags&256)s.flags&=-257,s=Jv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Pe||To(i,s,a,!1),f=(a&i.childLanes)!==0,Pe||f){if(l=ue,l!==null&&(T=rn(l,a),T!==0&&T!==d.retryLane))throw d.retryLane=T,ga(i,T),On(l,i,T),om;Th(),s=Jv(i,s,a)}else i=d.treeContext,fe=di(T.nextSibling),ln=s,qt=!0,cr=null,hi=!1,i!==null&&U0(s,i),s=uh(s,l),s.flags|=4096;return s}return i=Rs(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ch(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function lm(i,s,a,l,f){return Ta(s),a=Hd(i,s,a,l,void 0,f),l=qd(),i!==null&&!Pe?(Fd(i,s,f),Vs(i,s,f)):(qt&&l&&wd(s),s.flags|=1,cn(i,s,a,f),s.child)}function t_(i,s,a,l,f,d){return Ta(s),s.updateQueue=null,a=iv(s,l,a,f),nv(i),l=qd(),i!==null&&!Pe?(Fd(i,s,d),Vs(i,s,d)):(qt&&l&&wd(s),s.flags|=1,cn(i,s,a,d),s.child)}function e_(i,s,a,l,f){if(Ta(s),s.stateNode===null){var d=go,T=a.contextType;typeof T=="object"&&T!==null&&(d=un(T)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},kd(s),T=a.contextType,d.context=typeof T=="object"&&T!==null?un(T):go,d.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(sm(s,a,T,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&rm.enqueueReplaceState(d,d.state,null),Zl(s,l,d,f),Wl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,M=Aa(a,S);d.props=M;var F=d.context,$=a.contextType;T=go,typeof $=="object"&&$!==null&&(T=un($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==T)&&Bv(s,d,l,T),dr=!1;var K=s.memoizedState;d.state=K,Zl(s,l,d,f),Wl(),F=s.memoizedState,S||K!==F||dr?(typeof et=="function"&&(sm(s,a,et,l),F=s.memoizedState),(M=dr||zv(s,a,M,l,K,F,T))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),d.props=l,d.state=F,d.context=T,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Od(i,s),T=s.memoizedProps,$=Aa(a,T),d.props=$,et=s.pendingProps,K=d.context,F=a.contextType,M=go,typeof F=="object"&&F!==null&&(M=un(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==et||K!==M)&&Bv(s,d,l,M),dr=!1,K=s.memoizedState,d.state=K,Zl(s,l,d,f),Wl();var Q=s.memoizedState;T!==et||K!==Q||dr||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof S=="function"&&(sm(s,a,S,l),Q=s.memoizedState),($=dr||zv(s,a,$,l,K,Q,M)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=$):(typeof d.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,ch(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=Sa(s,i.child,null,f),s.child=Sa(s,null,a,f)):cn(i,s,a,f),s.memoizedState=d.state,i=s.child):i=Vs(i,s,f),i}function n_(i,s,a,l){return va(),s.flags|=256,cn(i,s,a,l),s.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:G0()}}function hm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Wn),i}function i_(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,T;if((T=d)||(T=i!==null&&i.memoizedState===null?!1:(Re.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(f?gr(s):yr(),(i=fe)?(i=h1(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ur!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=P0(i),a.return=s,s.child=a,ln=s,fe=null)):i=null,i===null)throw hr(s);return Ym(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(yr(),f=s.mode,S=hh({mode:"hidden",children:S},f),l=ya(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=cm(a),l.childLanes=hm(i,T,a),s.memoizedState=um,iu(null,l)):(gr(s),fm(s,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(d)s.flags&256?(gr(s),s.flags&=-257,s=dm(i,s,a)):s.memoizedState!==null?(yr(),s.child=i.child,s.flags|=128,s=null):(yr(),S=l.fallback,f=s.mode,l=hh({mode:"visible",children:l.children},f),S=ya(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Sa(s,i.child,null,a),l=s.child,l.memoizedState=cm(a),l.childLanes=hm(i,T,a),s.memoizedState=um,s=iu(null,l));else if(gr(s),Ym(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(r(419)),l.stack="",l.digest=T,Gl({value:l,source:null,stack:null}),s=dm(i,s,a)}else if(Pe||To(i,s,a,!1),T=(a&i.childLanes)!==0,Pe||T){if(T=ue,T!==null&&(l=rn(T,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,ga(i,l),On(T,i,l),om;Km(S)||Th(),s=dm(i,s,a)}else Km(S)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,fe=di(S.nextSibling),ln=s,qt=!0,cr=null,hi=!1,i!==null&&U0(s,i),s=fm(s,l.children),s.flags|=4096);return s}return f?(yr(),S=l.fallback,f=s.mode,M=i.child,F=M.sibling,l=Rs(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,F!==null?S=Rs(F,S):(S=ya(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,iu(null,l),l=s.child,S=i.child.memoizedState,S===null?S=cm(a):(f=S.cachePool,f!==null?(M=ke._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=G0(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=hm(i,T,a),s.memoizedState=um,iu(i.child,l)):(gr(s),a=i.child,i=a.sibling,a=Rs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=a,s.memoizedState=null,a)}function fm(i,s){return s=hh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function hh(i,s){return i=Yn(22,i,null,s),i.lanes=0,i}function dm(i,s,a){return Sa(s,i.child,null,a),i=fm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function s_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Cd(i.return,s,a)}function mm(i,s,a,l,f,d){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=f,T.treeForkCount=d)}function r_(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var T=Re.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,rt(Re,T),cn(i,s,l,a),l=qt?Fl:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&s_(i,a,s);else if(i.tag===19)s_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Jc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),mm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Jc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}mm(s,!0,a,null,d,l);break;case"together":mm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Vs(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Tr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(To(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Rs(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Rs(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function pm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function S2(i,s,a){switch(s.tag){case 3:It(s,s.stateNode.containerInfo),fr(s,ke,i.memoizedState.cache),va();break;case 27:case 5:ti(s);break;case 4:It(s,s.stateNode.containerInfo);break;case 10:fr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?i_(i,s,a):(gr(s),i=Vs(i,s,a),i!==null?i.sibling:null);gr(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(To(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return r_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Re,Re.current),l)break;return null;case 22:return s.lanes=0,Wv(i,s,a,s.pendingProps);case 24:fr(s,ke,i.memoizedState.cache)}return Vs(i,s,a)}function a_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Pe=!0;else{if(!pm(i,a)&&(s.flags&128)===0)return Pe=!1,S2(i,s,a);Pe=(i.flags&131072)!==0}else Pe=!1,qt&&(s.flags&1048576)!==0&&j0(s,Fl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=Ea(s.elementType),s.type=i,typeof i=="function")Td(i)?(l=Aa(i,l),s.tag=1,s=e_(null,s,i,l,a)):(s.tag=0,s=lm(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ft){s.tag=11,s=Qv(null,s,i,l,a);break t}else if(f===C){s.tag=14,s=Xv(null,s,i,l,a);break t}}throw s=Ft(i)||i,Error(r(306,s,""))}}return s;case 0:return lm(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Aa(l,s.pendingProps),e_(i,s,l,f,a);case 3:t:{if(It(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Od(i,s),Zl(s,l,null,a);var T=s.memoizedState;if(l=T.cache,fr(s,ke,l),l!==d.cache&&Id(s,[ke],a,!0),Wl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=n_(i,s,l,a);break t}else if(l!==f){f=li(Error(r(424)),s),Gl(f),s=n_(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=di(i.firstChild),ln=s,qt=!0,cr=null,hi=!0,a=W0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===f){s=Vs(i,s,a);break t}cn(i,s,l,a)}s=s.child}return s;case 26:return ch(i,s),i===null?(a=y1(s.type,null,s.pendingProps,null))?s.memoizedState=a:qt||(a=s.type,i=s.pendingProps,l=Rh(Tt.current).createElement(a),l[De]=s,l[Qe]=i,hn(l,a,i),Me(l),s.stateNode=l):s.memoizedState=y1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ti(s),i===null&&qt&&(l=s.stateNode=m1(s.type,s.pendingProps,Tt.current),ln=s,hi=!0,f=fe,xr(s.type)?(Qm=f,fe=di(l.firstChild)):fe=f),cn(i,s,s.pendingProps.children,a),ch(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((f=l=fe)&&(l=tR(l,s.type,s.pendingProps,hi),l!==null?(s.stateNode=l,ln=s,fe=di(l.firstChild),hi=!1,f=!0):f=!1),f||hr(s)),ti(s),f=s.type,d=s.pendingProps,T=i!==null?i.memoizedProps:null,l=d.children,qm(f,d)?l=null:T!==null&&qm(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Hd(i,s,p2,null,null,a),vu._currentValue=f),ch(i,s),cn(i,s,l,a),s.child;case 6:return i===null&&qt&&((i=a=fe)&&(a=eR(a,s.pendingProps,hi),a!==null?(s.stateNode=a,ln=s,fe=null,i=!0):i=!1),i||hr(s)),null;case 13:return i_(i,s,a);case 4:return It(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Sa(s,null,l,a):cn(i,s,l,a),s.child;case 11:return Qv(i,s,s.type,s.pendingProps,a);case 7:return cn(i,s,s.pendingProps,a),s.child;case 8:return cn(i,s,s.pendingProps.children,a),s.child;case 12:return cn(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,fr(s,s.type,l.value),cn(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ta(s),f=un(f),l=l(f),s.flags|=1,cn(i,s,l,a),s.child;case 14:return Xv(i,s,s.type,s.pendingProps,a);case 15:return $v(i,s,s.type,s.pendingProps,a);case 19:return r_(i,s,a);case 31:return w2(i,s,a);case 22:return Wv(i,s,a,s.pendingProps);case 24:return Ta(s),l=un(ke),i===null?(f=Md(),f===null&&(f=ue,d=Nd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},kd(s),fr(s,ke,f)):((i.lanes&a)!==0&&(Od(i,s),Zl(s,null,null,a),Wl()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),fr(s,ke,l)):(l=d.cache,fr(s,ke,l),l!==f.cache&&Id(s,[ke],a,!0))),cn(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ks(i){i.flags|=4}function gm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(V_())i.flags|=8192;else throw wa=Xc,Vd}else i.flags&=-16777217}function o_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!E1(s))if(V_())i.flags|=8192;else throw wa=Xc,Vd}function fh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ye():536870912,i.lanes|=s,Mo|=s)}function su(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function de(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function x2(i,s,a){var l=s.pendingProps;switch(Sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ns(ke),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_o(s)?ks(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ad())),de(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(ks(s),d!==null?(de(s),o_(s,d)):(de(s),gm(s,f,null,l,a))):d?d!==i.memoizedState?(ks(s),de(s),o_(s,d)):(de(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&ks(s),de(s),gm(s,f,i,l,a)),null;case 27:if(Ti(s),a=Tt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ks(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}i=at.current,_o(s)?z0(s):(i=m1(f,l,a),s.stateNode=i,ks(s))}return de(s),null;case 5:if(Ti(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ks(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}if(d=at.current,_o(s))z0(s);else{var T=Rh(Tt.current);switch(d){case 1:d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=T.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}d[De]=s,d[Qe]=l;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=d;t:switch(hn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ks(s)}}return de(s),gm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ks(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Tt.current,_o(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[De]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||i1(i.nodeValue,a)),i||hr(s,!0)}else i=Rh(i).createTextNode(l),i[De]=s,s.stateNode=i}return de(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=_o(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[De]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),i=!1}else a=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return de(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_o(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[De]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),f=!1}else f=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),fh(s,s.updateQueue),de(s),null);case 4:return Xt(),i===null&&jm(s.stateNode.containerInfo),de(s),null;case 10:return Ns(s.type),de(s),null;case 19:if(Z(Re),l=s.memoizedState,l===null)return de(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)su(l,!1);else{if(we!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Jc(i),d!==null){for(s.flags|=128,su(l,!1),i=d.updateQueue,s.updateQueue=i,fh(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)O0(a,i),a=a.sibling;return rt(Re,Re.current&1|2),qt&&Cs(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&nn()>yh&&(s.flags|=128,f=!0,su(l,!1),s.lanes=4194304)}else{if(!f)if(i=Jc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,fh(s,i),su(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return de(s),null}else 2*nn()-l.renderingStartTime>yh&&a!==536870912&&(s.flags|=128,f=!0,su(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=nn(),i.sibling=null,a=Re.current,rt(Re,f?a&1|2:a&1),qt&&Cs(s,l.treeForkCount),i):(de(s),null);case 22:case 23:return Xn(s),Ud(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),a=s.updateQueue,a!==null&&fh(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&Z(ba),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ns(ke),de(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function A2(i,s){switch(Sd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ns(ke),Xt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ti(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));va()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Xn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));va()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(Re),null;case 4:return Xt(),null;case 10:return Ns(s.type),null;case 22:case 23:return Xn(s),Ud(),i!==null&&Z(ba),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ns(ke),null;case 25:return null;default:return null}}function l_(i,s){switch(Sd(s),s.tag){case 3:Ns(ke),Xt();break;case 26:case 27:case 5:Ti(s);break;case 4:Xt();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:Z(Re);break;case 10:Ns(s.type);break;case 22:case 23:Xn(s),Ud(),i!==null&&Z(ba);break;case 24:Ns(ke)}}function ru(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){se(s,s.return,S)}}function vr(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var M=a,F=S;try{F()}catch($){se(f,M,$)}}}l=l.next}while(l!==d)}}catch($){se(s,s.return,$)}}function u_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{J0(s,a)}catch(l){se(i,i.return,l)}}}function c_(i,s,a){a.props=Aa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){se(i,s,l)}}function au(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){se(i,s,f)}}function us(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){se(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){se(i,s,f)}else a.current=null}function h_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){se(i,i.return,f)}}function ym(i,s,a){try{var l=i.stateNode;Q2(l,i.type,a,s),l[Qe]=s}catch(f){se(i,i.return,f)}}function f_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xr(i.type)||i.tag===4}function vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||f_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _m(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ci));else if(l!==4&&(l===27&&xr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(_m(i,s,a),i=i.sibling;i!==null;)_m(i,s,a),i=i.sibling}function dh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&xr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(dh(i,s,a),i=i.sibling;i!==null;)dh(i,s,a),i=i.sibling}function d_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);hn(s,l,a),s[De]=i,s[Qe]=a}catch(d){se(i,i.return,d)}}var Os=!1,Le=!1,Tm=!1,m_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function R2(i,s){if(i=i.containerInfo,Bm=kh,i=A0(i),dd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var T=0,S=-1,M=-1,F=0,$=0,et=i,K=null;e:for(;;){for(var Q;et!==a||f!==0&&et.nodeType!==3||(S=T+f),et!==d||l!==0&&et.nodeType!==3||(M=T+l),et.nodeType===3&&(T+=et.nodeValue.length),(Q=et.firstChild)!==null;)K=et,et=Q;for(;;){if(et===i)break e;if(K===a&&++F===f&&(S=T),K===d&&++$===l&&(M=T),(Q=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=Q}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:i,selectionRange:a},kh=!1,$e=s;$e!==null;)if(s=$e,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,$e=i;else for(;$e!==null;){switch(s=$e,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var gt=Aa(a.type,f);i=l.getSnapshotBeforeUpdate(gt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(wt){se(a,a.return,wt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Gm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,$e=i;break}$e=s.return}}function p_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(i,a),l&4&&ru(5,a);break;case 1:if(Ls(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(T){se(a,a.return,T)}else{var f=Aa(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){se(a,a.return,T)}}l&64&&u_(a),l&512&&au(a,a.return);break;case 3:if(Ls(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{J0(i,s)}catch(T){se(a,a.return,T)}}break;case 27:s===null&&l&4&&d_(a);case 26:case 5:Ls(i,a),s===null&&l&4&&h_(a),l&512&&au(a,a.return);break;case 12:Ls(i,a);break;case 31:Ls(i,a),l&4&&v_(i,a);break;case 13:Ls(i,a),l&4&&__(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=P2.bind(null,a),nR(i,a))));break;case 22:if(l=a.memoizedState!==null||Os,!l){s=s!==null&&s.memoizedState!==null||Le,f=Os;var d=Le;Os=l,(Le=s)&&!d?js(i,a,(a.subtreeFlags&8772)!==0):Ls(i,a),Os=f,Le=d}break;case 30:break;default:Ls(i,a)}}function g_(i){var s=i.alternate;s!==null&&(i.alternate=null,g_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&eo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ye=null,Dn=!1;function Ps(i,s,a){for(a=a.child;a!==null;)y_(i,s,a),a=a.sibling}function y_(i,s,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Le||us(a,s),Ps(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Le||us(a,s);var l=ye,f=Dn;xr(a.type)&&(ye=a.stateNode,Dn=!1),Ps(i,s,a),pu(a.stateNode),ye=l,Dn=f;break;case 5:Le||us(a,s);case 6:if(l=ye,f=Dn,ye=null,Ps(i,s,a),ye=l,Dn=f,ye!==null)if(Dn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){se(a,s,d)}else try{ye.removeChild(a.stateNode)}catch(d){se(a,s,d)}break;case 18:ye!==null&&(Dn?(i=ye,u1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),zo(i)):u1(ye,a.stateNode));break;case 4:l=ye,f=Dn,ye=a.stateNode.containerInfo,Dn=!0,Ps(i,s,a),ye=l,Dn=f;break;case 0:case 11:case 14:case 15:vr(2,a,s),Le||vr(4,a,s),Ps(i,s,a);break;case 1:Le||(us(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c_(a,s,l)),Ps(i,s,a);break;case 21:Ps(i,s,a);break;case 22:Le=(l=Le)||a.memoizedState!==null,Ps(i,s,a),Le=l;break;default:Ps(i,s,a)}}function v_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(a){se(s,s.return,a)}}}function __(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(a){se(s,s.return,a)}}function C2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new m_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new m_),s;default:throw Error(r(435,i.tag))}}function mh(i,s){var a=C2(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=L2.bind(null,i,l);l.then(f,f)}})}function Mn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(xr(S.type)){ye=S.stateNode,Dn=!1;break t}break;case 5:ye=S.stateNode,Dn=!1;break t;case 3:case 4:ye=S.stateNode.containerInfo,Dn=!0;break t}S=S.return}if(ye===null)throw Error(r(160));y_(d,T,f),ye=null,Dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)T_(s,i),s=s.sibling}var ki=null;function T_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mn(s,i),Vn(i),l&4&&(vr(3,i,i.return),ru(3,i),vr(5,i,i.return));break;case 1:Mn(s,i),Vn(i),l&512&&(Le||a===null||us(a,a.return)),l&64&&Os&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ki;if(Mn(s,i),Vn(i),l&512&&(Le||a===null||us(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Xi]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),hn(d,l,a),d[De]=i,Me(d),l=d;break t;case"link":var T=T1("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(d=T[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}d=f.createElement(l),hn(d,l,a),f.head.appendChild(d);break;case"meta":if(T=T1("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(d=T[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}d=f.createElement(l),hn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[De]=i,Me(d),l=d}i.stateNode=l}else b1(f,i.type,i.stateNode);else i.stateNode=_1(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?b1(f,i.type,i.stateNode):_1(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&ym(i,i.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,i),Vn(i),l&512&&(Le||a===null||us(a,a.return)),a!==null&&l&4&&ym(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,i),Vn(i),l&512&&(Le||a===null||us(a,a.return)),i.flags&32){f=i.stateNode;try{Nn(f,"")}catch(gt){se(i,i.return,gt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,ym(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Tm=!0);break;case 6:if(Mn(s,i),Vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(gt){se(i,i.return,gt)}}break;case 3:if(Nh=null,f=ki,ki=Ch(s.containerInfo),Mn(s,i),ki=f,Vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zo(s.containerInfo)}catch(gt){se(i,i.return,gt)}Tm&&(Tm=!1,b_(i));break;case 4:l=ki,ki=Ch(i.stateNode.containerInfo),Mn(s,i),Vn(i),ki=l;break;case 12:Mn(s,i),Vn(i);break;case 31:Mn(s,i),Vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 13:Mn(s,i),Vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gh=nn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 22:f=i.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,F=Os,$=Le;if(Os=F||f,Le=$||M,Mn(s,i),Le=$,Os=F,Vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||Os||Le||Ra(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var et=M.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){se(M,M.return,gt)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(gt){se(M,M.return,gt)}}}else if(s.tag===18){if(a===null){M=s;try{var Q=M.stateNode;f?c1(Q,!0):c1(M.stateNode,!1)}catch(gt){se(M,M.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mh(i,a))));break;case 19:Mn(s,i),Vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,mh(i,l)));break;case 30:break;case 21:break;default:Mn(s,i),Vn(i)}}function Vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(f_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=vm(i);dh(i,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(Nn(T,""),a.flags&=-33);var S=vm(i);dh(i,S,T);break;case 3:case 4:var M=a.stateNode.containerInfo,F=vm(i);_m(i,F,M);break;default:throw Error(r(161))}}catch($){se(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function b_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;b_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ls(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)p_(i,s.alternate,s),s=s.sibling}function Ra(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:vr(4,s,s.return),Ra(s);break;case 1:us(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&c_(s,s.return,a),Ra(s);break;case 27:pu(s.stateNode);case 26:case 5:us(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}i=i.sibling}}function js(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,T=d.flags;switch(d.tag){case 0:case 11:case 15:js(f,d,a),ru(4,d);break;case 1:if(js(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){se(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Z0(M[f],S)}catch(F){se(l,l.return,F)}}a&&T&64&&u_(d),au(d,d.return);break;case 27:d_(d);case 26:case 5:js(f,d,a),a&&l===null&&T&4&&h_(d),au(d,d.return);break;case 12:js(f,d,a);break;case 31:js(f,d,a),a&&T&4&&v_(f,d);break;case 13:js(f,d,a),a&&T&4&&__(f,d);break;case 22:d.memoizedState===null&&js(f,d,a),au(d,d.return);break;case 30:break;default:js(f,d,a)}s=s.sibling}}function bm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Kl(a))}function Em(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kl(i))}function Oi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E_(i,s,a,l),s=s.sibling}function E_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(i,s,a,l),f&2048&&ru(9,s);break;case 1:Oi(i,s,a,l);break;case 3:Oi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kl(i)));break;case 12:if(f&2048){Oi(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,T=d.id,S=d.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){se(s,s.return,M)}}else Oi(i,s,a,l);break;case 31:Oi(i,s,a,l);break;case 13:Oi(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,T=s.alternate,s.memoizedState!==null?d._visibility&2?Oi(i,s,a,l):ou(i,s):d._visibility&2?Oi(i,s,a,l):(d._visibility|=2,Io(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&bm(T,s);break;case 24:Oi(i,s,a,l),f&2048&&Em(s.alternate,s);break;default:Oi(i,s,a,l)}}function Io(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,T=s,S=a,M=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Io(d,T,S,M,f),ru(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Io(d,T,S,M,f):ou(d,T):($._visibility|=2,Io(d,T,S,M,f)),f&&F&2048&&bm(T.alternate,T);break;case 24:Io(d,T,S,M,f),f&&F&2048&&Em(T.alternate,T);break;default:Io(d,T,S,M,f)}s=s.sibling}}function ou(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:ou(a,l),f&2048&&bm(l.alternate,l);break;case 24:ou(a,l),f&2048&&Em(l.alternate,l);break;default:ou(a,l)}s=s.sibling}}var lu=8192;function No(i,s,a){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)w_(i,s,a),i=i.sibling}function w_(i,s,a){switch(i.tag){case 26:No(i,s,a),i.flags&lu&&i.memoizedState!==null&&mR(a,ki,i.memoizedState,i.memoizedProps);break;case 5:No(i,s,a);break;case 3:case 4:var l=ki;ki=Ch(i.stateNode.containerInfo),No(i,s,a),ki=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=lu,lu=16777216,No(i,s,a),lu=l):No(i,s,a));break;default:No(i,s,a)}}function S_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function uu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$e=l,A_(l,i)}S_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x_(i),i=i.sibling}function x_(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&vr(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ph(i)):uu(i);break;default:uu(i)}}function ph(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$e=l,A_(l,i)}S_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:vr(8,s,s.return),ph(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ph(s));break;default:ph(s)}i=i.sibling}}function A_(i,s){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:vr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=i;$e!==null;){l=$e;var f=l.sibling,d=l.return;if(g_(l),l===a){$e=null;break t}if(f!==null){f.return=d,$e=f;break t}$e=d}}}var I2={getCacheForType:function(i){var s=un(ke),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return un(ke).controller.signal}},N2=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ue=null,Pt=null,jt=0,ie=0,$n=null,_r=!1,Do=!1,wm=!1,Us=0,we=0,Tr=0,Ca=0,Sm=0,Wn=0,Mo=0,cu=null,kn=null,xm=!1,gh=0,R_=0,yh=1/0,vh=null,br=null,Fe=0,Er=null,Vo=null,zs=0,Am=0,Rm=null,C_=null,hu=0,Cm=null;function Zn(){return(Wt&2)!==0&&jt!==0?jt&-jt:z.T!==null?km():Sl()}function I_(){if(Wn===0)if((jt&536870912)===0||qt){var i=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),Wn=i}else Wn=536870912;return i=Qn.current,i!==null&&(i.flags|=32),Wn}function On(i,s,a){(i===ue&&(ie===2||ie===9)||i.cancelPendingCommit!==null)&&(ko(i,0),wr(i,jt,Wn,!1)),he(i,a),((Wt&2)===0||i!==ue)&&(i===ue&&((Wt&2)===0&&(Ca|=a),we===4&&wr(i,jt,Wn,!1)),cs(i))}function N_(i,s,a){if((Wt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||te(i,s),f=l?V2(i,s):Nm(i,s,!0),d=l;do{if(f===0){Do&&!l&&wr(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!D2(a)){f=Nm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=i;f=cu;var M=S.current.memoizedState.isDehydrated;if(M&&(ko(S,T).flags|=256),T=Nm(S,T,!1),T!==2){if(wm&&!M){S.errorRecoveryDisabledLanes|=d,Ca|=d,f=4;break t}d=kn,kn=f,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){ko(i,0),wr(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:wr(l,s,Wn,!_r);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=gh+300-nn(),10<f)){if(wr(l,s,Wn,!_r),bt(l,0,!0)!==0)break t;zs=s,l.timeoutHandle=o1(D_.bind(null,l,a,kn,vh,xm,s,Wn,Ca,Mo,_r,d,"Throttled",-0,0),f);break t}D_(l,a,kn,vh,xm,s,Wn,Ca,Mo,_r,d,null,-0,0)}}break}while(!0);cs(i)}function D_(i,s,a,l,f,d,T,S,M,F,$,et,K,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},w_(s,d,et);var gt=(d&62914560)===d?gh-nn():(d&4194048)===d?R_-nn():0;if(gt=pR(et,gt),gt!==null){zs=d,i.cancelPendingCommit=gt(U_.bind(null,i,s,d,a,l,f,T,S,M,$,et,null,K,Q)),wr(i,d,T,!F);return}}U_(i,s,d,a,l,f,T,S,M)}function D2(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Kn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wr(i,s,a,l){s&=~Sm,s&=~Ca,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-pe(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&ni(i,a,s)}function _h(){return(Wt&6)===0?(fu(0),!1):!0}function Im(){if(Pt!==null){if(ie===0)var i=Pt.return;else i=Pt,Is=_a=null,Gd(i),So=null,Ql=0,i=Pt;for(;i!==null;)l_(i.alternate,i),i=i.return;Pt=null}}function ko(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,W2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),zs=0,Im(),ue=i,Pt=a=Rs(i.current,null),jt=s,ie=0,$n=null,_r=!1,Do=te(i,s),wm=!1,Mo=Wn=Sm=Ca=Tr=we=0,kn=cu=null,xm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-pe(l),d=1<<f;s|=i[f],l&=~d}return Us=s,zc(),a}function M_(i,s){Vt=null,z.H=nu,s===wo||s===Qc?(s=Q0(),ie=3):s===Vd?(s=Q0(),ie=4):ie=s===om?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Pt===null&&(we=1,lh(i,li(s,i.current)))}function V_(){var i=Qn.current;return i===null?!0:(jt&4194048)===jt?fi===null:(jt&62914560)===jt||(jt&536870912)!==0?i===fi:!1}function k_(){var i=z.H;return z.H=nu,i===null?nu:i}function O_(){var i=z.A;return z.A=I2,i}function Th(){we=4,_r||(jt&4194048)!==jt&&Qn.current!==null||(Do=!0),(Tr&134217727)===0&&(Ca&134217727)===0||ue===null||wr(ue,jt,Wn,!1)}function Nm(i,s,a){var l=Wt;Wt|=2;var f=k_(),d=O_();(ue!==i||jt!==s)&&(vh=null,ko(i,s)),s=!1;var T=we;t:do try{if(ie!==0&&Pt!==null){var S=Pt,M=$n;switch(ie){case 8:Im(),T=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var F=ie;if(ie=0,$n=null,Oo(i,S,M,F),a&&Do){T=0;break t}break;default:F=ie,ie=0,$n=null,Oo(i,S,M,F)}}M2(),T=we;break}catch($){M_(i,$)}while(!0);return s&&i.shellSuspendCounter++,Is=_a=null,Wt=l,z.H=f,z.A=d,Pt===null&&(ue=null,jt=0,zc()),T}function M2(){for(;Pt!==null;)P_(Pt)}function V2(i,s){var a=Wt;Wt|=2;var l=k_(),f=O_();ue!==i||jt!==s?(vh=null,yh=nn()+500,ko(i,s)):Do=te(i,s);t:do try{if(ie!==0&&Pt!==null){s=Pt;var d=$n;e:switch(ie){case 1:ie=0,$n=null,Oo(i,s,d,1);break;case 2:case 9:if(K0(d)){ie=0,$n=null,L_(s);break}s=function(){ie!==2&&ie!==9||ue!==i||(ie=7),cs(i)},d.then(s,s);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:K0(d)?(ie=0,$n=null,L_(s)):(ie=0,$n=null,Oo(i,s,d,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var S=Pt;if(T?E1(T):S.stateNode.complete){ie=0,$n=null;var M=S.sibling;if(M!==null)Pt=M;else{var F=S.return;F!==null?(Pt=F,bh(F)):Pt=null}break e}}ie=0,$n=null,Oo(i,s,d,5);break;case 6:ie=0,$n=null,Oo(i,s,d,6);break;case 8:Im(),we=6;break t;default:throw Error(r(462))}}k2();break}catch($){M_(i,$)}while(!0);return Is=_a=null,z.H=l,z.A=f,Wt=a,Pt!==null?0:(ue=null,jt=0,zc(),we)}function k2(){for(;Pt!==null&&!en();)P_(Pt)}function P_(i){var s=a_(i.alternate,i,Us);i.memoizedProps=i.pendingProps,s===null?bh(i):Pt=s}function L_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=t_(a,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=t_(a,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:Gd(s);default:l_(a,s),s=Pt=O0(s,Us),s=a_(a,s,Us)}i.memoizedProps=i.pendingProps,s===null?bh(i):Pt=s}function Oo(i,s,a,l){Is=_a=null,Gd(s),So=null,Ql=0;var f=s.return;try{if(E2(i,f,s,a,jt)){we=1,lh(i,li(a,i.current)),Pt=null;return}}catch(d){if(f!==null)throw Pt=f,d;we=1,lh(i,li(a,i.current)),Pt=null;return}s.flags&32768?(qt||l===1?i=!0:Do||(jt&536870912)!==0?i=!1:(_r=i=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(s,i)):bh(s)}function bh(i){var s=i;do{if((s.flags&32768)!==0){j_(s,_r);return}i=s.return;var a=x2(s.alternate,s,Us);if(a!==null){Pt=a;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=i}while(s!==null);we===0&&(we=5)}function j_(i,s){do{var a=A2(i.alternate,i);if(a!==null){a.flags&=32767,Pt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=a}while(i!==null);we=6,Pt=null}function U_(i,s,a,l,f,d,T,S,M){i.cancelPendingCommit=null;do Eh();while(Fe!==0);if((Wt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=vd,gn(i,a,d,T,S,M),i===ue&&(Pt=ue=null,jt=0),Vo=s,Er=i,zs=a,Am=d,Rm=f,C_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,j2(wi,function(){return F_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=W.p,W.p=2,T=Wt,Wt|=4;try{R2(i,s,a)}finally{Wt=T,W.p=f,z.T=l}}Fe=1,z_(),B_(),H_()}}function z_(){if(Fe===1){Fe=0;var i=Er,s=Vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=W.p;W.p=2;var f=Wt;Wt|=4;try{T_(s,i);var d=Hm,T=A0(i.containerInfo),S=d.focusedElem,M=d.selectionRange;if(T!==S&&S&&S.ownerDocument&&x0(S.ownerDocument.documentElement,S)){if(M!==null&&dd(S)){var F=M.start,$=M.end;if($===void 0&&($=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min($,S.value.length);else{var et=S.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var Q=K.getSelection(),gt=S.textContent.length,wt=Math.min(M.start,gt),le=M.end===void 0?wt:Math.min(M.end,gt);!Q.extend&&wt>le&&(T=le,le=wt,wt=T);var j=S0(S,wt),P=S0(S,le);if(j&&P&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var q=et.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),wt>le?(Q.addRange(q),Q.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Q.addRange(q))}}}}for(et=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var tt=et[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}kh=!!Bm,Hm=Bm=null}finally{Wt=f,W.p=l,z.T=a}}i.current=s,Fe=2}}function B_(){if(Fe===2){Fe=0;var i=Er,s=Vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=W.p;W.p=2;var f=Wt;Wt|=4;try{p_(i,s.alternate,s)}finally{Wt=f,W.p=l,z.T=a}}Fe=3}}function H_(){if(Fe===4||Fe===3){Fe=0,Ei();var i=Er,s=Vo,a=zs,l=C_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fe=5:(Fe=0,Vo=Er=null,q_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(br=null),an(a),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=z.T,f=W.p,W.p=2,z.T=null;try{for(var d=i.onRecoverableError,T=0;T<l.length;T++){var S=l[T];d(S.value,{componentStack:S.stack})}}finally{z.T=s,W.p=f}}(zs&3)!==0&&Eh(),cs(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Cm?hu++:(hu=0,Cm=i):hu=0,fu(0)}}function q_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Kl(s)))}function Eh(){return z_(),B_(),H_(),F_()}function F_(){if(Fe!==5)return!1;var i=Er,s=Am;Am=0;var a=an(zs),l=z.T,f=W.p;try{W.p=32>a?32:a,z.T=null,a=Rm,Rm=null;var d=Er,T=zs;if(Fe=0,Vo=Er=null,zs=0,(Wt&6)!==0)throw Error(r(331));var S=Wt;if(Wt|=4,x_(d.current),E_(d,d.current,T,a),Wt=S,fu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{W.p=f,z.T=l,q_(i,s)}}function G_(i,s,a){s=li(a,s),s=am(i.stateNode,s,2),i=pr(i,s,2),i!==null&&(he(i,2),cs(i))}function se(i,s,a){if(i.tag===3)G_(i,i,a);else for(;s!==null;){if(s.tag===3){G_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){i=li(a,i),a=Kv(2),l=pr(s,a,2),l!==null&&(Yv(a,l,s,i),he(l,2),cs(l));break}}s=s.return}}function Dm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new N2;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(wm=!0,f.add(a),i=O2.bind(null,i,s,a),s.then(i,i))}function O2(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ue===i&&(jt&a)===a&&(we===4||we===3&&(jt&62914560)===jt&&300>nn()-gh?(Wt&2)===0&&ko(i,0):Sm|=a,Mo===jt&&(Mo=0)),cs(i)}function K_(i,s){s===0&&(s=Ye()),i=ga(i,s),i!==null&&(he(i,s),cs(i))}function P2(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),K_(i,a)}function L2(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),K_(i,a)}function j2(i,s){return xe(i,s)}var wh=null,Po=null,Mm=!1,Sh=!1,Vm=!1,Sr=0;function cs(i){i!==Po&&i.next===null&&(Po===null?wh=Po=i:Po=Po.next=i),Sh=!0,Mm||(Mm=!0,z2())}function fu(i,s){if(!Vm&&Sh){Vm=!0;do for(var a=!1,l=wh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|i)+1)-1,d&=f&~(T&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$_(l,d))}else d=jt,d=bt(l,l===ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||te(l,d)||(a=!0,$_(l,d));l=l.next}while(a);Vm=!1}}function U2(){Y_()}function Y_(){Sh=Mm=!1;var i=0;Sr!==0&&$2()&&(i=Sr);for(var s=nn(),a=null,l=wh;l!==null;){var f=l.next,d=Q_(l,s);d===0?(l.next=null,a===null?wh=f:a.next=f,f===null&&(Po=a)):(a=l,(i!==0||(d&3)!==0)&&(Sh=!0)),l=f}Fe!==0&&Fe!==5||fu(i),Sr!==0&&(Sr=0)}function Q_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var T=31-pe(d),S=1<<T,M=f[T];M===-1?((S&a)===0||(S&l)!==0)&&(f[T]=Ne(S,s)):M<=s&&(i.expiredLanes|=S),d&=~S}if(s=ue,a=jt,a=bt(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(ie===2||ie===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Fi(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||te(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Fi(l),an(a)){case 2:case 8:a=na;break;case 32:a=wi;break;case 268435456:a=Si;break;default:a=wi}return l=X_.bind(null,i),a=xe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Fi(l),i.callbackPriority=2,i.callbackNode=null,2}function X_(i,s){if(Fe!==0&&Fe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Eh()&&i.callbackNode!==a)return null;var l=jt;return l=bt(i,i===ue?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(N_(i,l,s),Q_(i,nn()),i.callbackNode!=null&&i.callbackNode===a?X_.bind(null,i):null)}function $_(i,s){if(Eh())return null;N_(i,s,!0)}function z2(){Z2(function(){(Wt&6)!==0?xe(Gi,U2):Y_()})}function km(){if(Sr===0){var i=bo;i===0&&(i=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Sr=i}return Sr}function W_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ro(""+i)}function Z_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function B2(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=W_((f[Qe]||null).action),T=l.submitter;T&&(s=(s=T[Qe]||null)?W_(s.formAction):T.getAttribute("formAction"),s!==null&&(d=s,T=null));var S=new is("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sr!==0){var M=T?Z_(f,T):new FormData(f);tm(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=T?Z_(f,T):new FormData(f),tm(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var Om=0;Om<yd.length;Om++){var Pm=yd[Om],H2=Pm.toLowerCase(),q2=Pm[0].toUpperCase()+Pm.slice(1);Vi(H2,"on"+q2)}Vi(I0,"onAnimationEnd"),Vi(N0,"onAnimationIteration"),Vi(D0,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(r2,"onTransitionRun"),Vi(a2,"onTransitionStart"),Vi(o2,"onTransitionCancel"),Vi(M0,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function J_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var T=l.length-1;0<=T;T--){var S=l[T],M=S.instance,F=S.currentTarget;if(S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=F;try{d(f)}catch($){Uc($)}f.currentTarget=null,d=M}else for(T=0;T<l.length;T++){if(S=l[T],M=S.instance,F=S.currentTarget,S=S.listener,M!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=F;try{d(f)}catch($){Uc($)}f.currentTarget=null,d=M}}}}function Lt(i,s){var a=s[to];a===void 0&&(a=s[to]=new Set);var l=i+"__bubble";a.has(l)||(t1(s,i,2,!1),a.add(l))}function Lm(i,s,a){var l=0;s&&(l|=4),t1(a,i,l,s)}var xh="_reactListening"+Math.random().toString(36).slice(2);function jm(i){if(!i[xh]){i[xh]=!0,xl.forEach(function(a){a!=="selectionchange"&&(F2.has(a)||Lm(a,!1,i),Lm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xh]||(s[xh]=!0,Lm("selectionchange",!1,s))}}function t1(i,s,a,l){switch(I1(s)){case 2:var f=vR;break;case 8:f=_R;break;default:f=Jm}a=f.bind(null,s,a,i),f=void 0,!la||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Um(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=$i(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){l=d=T;continue t}S=S.parentNode}}l=l.return}rr(function(){var F=d,$=si(a),et=[];t:{var K=V0.get(i);if(K!==void 0){var Q=is,gt=i;switch(i){case"keypress":if(ca(a)===0)break t;case"keydown":case"keyup":Q=Pc;break;case"focusin":gt="focus",Q=fa;break;case"focusout":gt="blur",Q=fa;break;case"beforeblur":case"afterblur":Q=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case I0:case N0:case D0:Q=Ic;break;case M0:Q=x;break;case"scroll":case"scrollend":Q=Ll;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=As;break;case"toggle":case"beforetoggle":Q=Mt}var wt=(s&4)!==0,le=!wt&&(i==="scroll"||i==="scrollend"),j=wt?K!==null?K+"Capture":null:K;wt=[];for(var P=F,q;P!==null;){var tt=P;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||j===null||(tt=Ii(P,j),tt!=null&&wt.push(mu(P,tt,q))),le)break;P=P.return}0<wt.length&&(K=new Q(K,gt,null,a,$),et.push({event:K,listeners:wt}))}}if((s&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",K&&a!==kl&&(gt=a.relatedTarget||a.fromElement)&&($i(gt)||gt[Qi]))break t;if((Q||K)&&(K=$.window===$?$:(K=$.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(gt=a.relatedTarget||a.toElement,Q=F,gt=gt?$i(gt):null,gt!==null&&(le=u(gt),wt=gt.tag,gt!==le||wt!==5&&wt!==27&&wt!==6)&&(gt=null)):(Q=null,gt=F),Q!==gt)){if(wt=jl,tt="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(wt=As,tt="onPointerLeave",j="onPointerEnter",P="pointer"),le=Q==null?K:Fn(Q),q=gt==null?K:Fn(gt),K=new wt(tt,P+"leave",Q,a,$),K.target=le,K.relatedTarget=q,tt=null,$i($)===F&&(wt=new wt(j,P+"enter",gt,a,$),wt.target=q,wt.relatedTarget=le,tt=wt),le=tt,Q&&gt)e:{for(wt=G2,j=Q,P=gt,q=0,tt=j;tt;tt=wt(tt))q++;tt=0;for(var vt=P;vt;vt=wt(vt))tt++;for(;0<q-tt;)j=wt(j),q--;for(;0<tt-q;)P=wt(P),tt--;for(;q--;){if(j===P||P!==null&&j===P.alternate){wt=j;break e}j=wt(j),P=wt(P)}wt=null}else wt=null;Q!==null&&e1(et,K,Q,wt,!1),gt!==null&&le!==null&&e1(et,le,gt,wt,!0)}}t:{if(K=F?Fn(F):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Yt=v0;else if(g0(K))if(_0)Yt=n2;else{Yt=t2;var yt=JA}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&so(F.elementType)&&(Yt=v0):Yt=e2;if(Yt&&(Yt=Yt(i,F))){y0(et,Yt,a,$);break t}yt&&yt(i,K,F),i==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Dl(K,"number",K.value)}switch(yt=F?Fn(F):window,i){case"focusin":(g0(yt)||yt.contentEditable==="true")&&(fo=yt,md=F,ql=null);break;case"focusout":ql=md=fo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,R0(et,a,$);break;case"selectionchange":if(s2)break;case"keydown":case"keyup":R0(et,a,$)}var Ot;if($t)t:{switch(i){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ho?da(i,a)&&(Ut="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(as&&a.locale!=="ko"&&(ho||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ho&&(Ot=Pl()):(ns=$,Ol="value"in ns?ns.value:ns.textContent,ho=!0)),yt=Ah(F,Ut),0<yt.length&&(Ut=new rs(Ut,i,null,a,$),et.push({event:Ut,listeners:yt}),Ot?Ut.data=Ot:(Ot=co(a),Ot!==null&&(Ut.data=Ot)))),(Ot=ai?XA(i,a):$A(i,a))&&(Ut=Ah(F,"onBeforeInput"),0<Ut.length&&(yt=new rs("onBeforeInput","beforeinput",null,a,$),et.push({event:yt,listeners:Ut}),yt.data=Ot)),B2(et,i,F,a,$)}J_(et,s)})}function mu(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Ah(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ii(i,a),f!=null&&l.unshift(mu(i,f,d)),f=Ii(i,s),f!=null&&l.push(mu(i,f,d))),i.tag===3)return l;i=i.return}return[]}function G2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function e1(i,s,a,l,f){for(var d=s._reactName,T=[];a!==null&&a!==l;){var S=a,M=S.alternate,F=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||F===null||(M=F,f?(F=Ii(a,d),F!=null&&T.unshift(mu(a,F,M))):f||(F=Ii(a,d),F!=null&&T.push(mu(a,F,M)))),a=a.return}T.length!==0&&i.push({event:s,listeners:T})}var K2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function n1(i){return(typeof i=="string"?i:""+i).replace(K2,`
`).replace(Y2,"")}function i1(i,s){return s=n1(s),n1(i)===s}function oe(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Nn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Nn(i,""+l);break;case"className":Gn(i,"class",l);break;case"tabIndex":Gn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(i,a,l);break;case"style":Vl(i,l,d);break;case"data":if(s!=="object"){Gn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ro(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&oe(i,s,"name",f.name,f,null),oe(i,s,"formEncType",f.formEncType,f,null),oe(i,s,"formMethod",f.formMethod,f,null),oe(i,s,"formTarget",f.formTarget,f,null)):(oe(i,s,"encType",f.encType,f,null),oe(i,s,"method",f.method,f,null),oe(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ro(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Ci);break;case"onScroll":l!=null&&Lt("scroll",i);break;case"onScrollEnd":l!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=ro(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),no(i,"popover",l);break;case"xlinkActuate":Ve(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":no(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ac.get(a)||a,no(i,a,l))}}function zm(i,s,a,l,f,d){switch(a){case"style":Vl(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Nn(i,l):(typeof l=="number"||typeof l=="bigint")&&Nn(i,""+l);break;case"onScroll":l!=null&&Lt("scroll",i);break;case"onScrollEnd":l!=null&&Lt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):no(i,a,l)}}}function hn(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:oe(i,s,d,T,a,null)}}f&&oe(i,s,"srcSet",a.srcSet,a,null),l&&oe(i,s,"src",a.src,a,null);return;case"input":Lt("invalid",i);var S=d=T=f=null,M=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":T=$;break;case"checked":M=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:oe(i,s,l,$,a,null)}}wc(i,d,S,M,F,T,f,!1);return;case"select":Lt("invalid",i),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:oe(i,s,f,S,a,null)}s=d,a=T,i.multiple=!!l,s!=null?er(i,!!l,s,!1):a!=null&&er(i,!!l,a,!0);return;case"textarea":Lt("invalid",i),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:oe(i,s,T,S,a,null)}nr(i,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(i,s,M,l,a,null)}return;case"dialog":Lt("beforetoggle",i),Lt("toggle",i),Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(l=0;l<du.length;l++)Lt(du[l],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:oe(i,s,F,l,a,null)}return;default:if(so(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&zm(i,s,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&oe(i,s,S,l,a,null))}function Q2(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,S=null,M=null,F=null,$=null;for(Q in a){var et=a[Q];if(a.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=et;default:l.hasOwnProperty(Q)||oe(i,s,Q,null,l,et)}}for(var K in l){var Q=l[K];if(et=a[K],l.hasOwnProperty(K)&&(Q!=null||et!=null))switch(K){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":$=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&oe(i,s,K,Q,l,et)}}io(i,T,S,M,F,$,d,f);return;case"select":Q=T=S=K=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||oe(i,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":T=d;default:d!==M&&oe(i,s,f,d,l,M)}s=S,a=T,l=Q,K!=null?er(i,!!a,K,!1):!!l!=!!a&&(s!=null?er(i,!!a,s,!0):er(i,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:oe(i,s,S,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&oe(i,s,T,f,l,d)}Sc(i,K,Q);return;case"option":for(var gt in a)if(K=a[gt],a.hasOwnProperty(gt)&&K!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:oe(i,s,gt,null,l,K)}for(M in l)if(K=l[M],Q=a[M],l.hasOwnProperty(M)&&K!==Q&&(K!=null||Q!=null))switch(M){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:oe(i,s,M,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)K=a[wt],a.hasOwnProperty(wt)&&K!=null&&!l.hasOwnProperty(wt)&&oe(i,s,wt,null,l,K);for(F in l)if(K=l[F],Q=a[F],l.hasOwnProperty(F)&&K!==Q&&(K!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:oe(i,s,F,K,l,Q)}return;default:if(so(s)){for(var le in a)K=a[le],a.hasOwnProperty(le)&&K!==void 0&&!l.hasOwnProperty(le)&&zm(i,s,le,void 0,l,K);for($ in l)K=l[$],Q=a[$],!l.hasOwnProperty($)||K===Q||K===void 0&&Q===void 0||zm(i,s,$,K,l,Q);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&oe(i,s,j,null,l,K);for(et in l)K=l[et],Q=a[et],!l.hasOwnProperty(et)||K===Q||K==null&&Q==null||oe(i,s,et,K,l,Q)}function s1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,T=f.initiatorType,S=f.duration;if(d&&S&&s1(T)){for(T=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],F=M.startTime;if(F>S)break;var $=M.transferSize,et=M.initiatorType;$&&s1(et)&&(M=M.responseEnd,T+=$*(M<S?1:(S-F)/(M-F)))}if(--l,s+=8*(d+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bm=null,Hm=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function r1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function qm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fm=null;function $2(){var i=window.event;return i&&i.type==="popstate"?i===Fm?!1:(Fm=i,!0):(Fm=null,!1)}var o1=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,l1=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof l1<"u"?function(i){return l1.resolve(null).then(i).catch(J2)}:o1;function J2(i){setTimeout(function(){throw i})}function xr(i){return i==="head"}function u1(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),zo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")pu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,pu(a);for(var d=a.firstChild;d;){var T=d.nextSibling,S=d.nodeName;d[Xi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=T}}else a==="body"&&pu(i.ownerDocument.body);a=f}while(a);zo(s)}function c1(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Gm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),eo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function tR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Xi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function eR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=di(i.nextSibling),i===null))return null;return i}function h1(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=di(i.nextSibling),i===null))return null;return i}function Km(i){return i.data==="$?"||i.data==="$~"}function Ym(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function nR(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function di(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Qm=null;function f1(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return di(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function d1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function m1(i,s,a){switch(s=Rh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);eo(i)}var mi=new Map,p1=new Set;function Ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Bs=W.d;W.d={f:iR,r:sR,D:rR,C:aR,L:oR,m:lR,X:cR,S:uR,M:hR};function iR(){var i=Bs.f(),s=_h();return i||s}function sR(i){var s=ii(i);s!==null&&s.tag===5&&s.type==="form"?Mv(s):Bs.r(i)}var Lo=typeof document>"u"?null:document;function g1(i,s,a){var l=Lo;if(l&&typeof s=="string"&&s){var f=In(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),p1.has(f)||(p1.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),hn(s,"link",i),Me(s),l.head.appendChild(s)))}}function rR(i){Bs.D(i),g1("dns-prefetch",i,null)}function aR(i,s){Bs.C(i,s),g1("preconnect",i,s)}function oR(i,s,a){Bs.L(i,s,a);var l=Lo;if(l&&i&&s){var f='link[rel="preload"][as="'+In(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+In(a.imageSizes)+'"]')):f+='[href="'+In(i)+'"]';var d=f;switch(s){case"style":d=jo(i);break;case"script":d=Uo(i)}mi.has(d)||(i=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),mi.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(gu(d))||s==="script"&&l.querySelector(yu(d))||(s=l.createElement("link"),hn(s,"link",i),Me(s),l.head.appendChild(s)))}}function lR(i,s){Bs.m(i,s);var a=Lo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Uo(i)}if(!mi.has(d)&&(i=y({rel:"modulepreload",href:i},s),mi.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yu(d)))return}l=a.createElement("link"),hn(l,"link",i),Me(l),a.head.appendChild(l)}}}function uR(i,s,a){Bs.S(i,s,a);var l=Lo;if(l&&i){var f=Wi(l).hoistableStyles,d=jo(i);s=s||"default";var T=f.get(d);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(gu(d)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},a),(a=mi.get(d))&&Xm(i,a);var M=T=l.createElement("link");Me(M),hn(M,"link",i),M._p=new Promise(function(F,$){M.onload=F,M.onerror=$}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ih(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(d,T)}}}function cR(i,s){Bs.X(i,s);var a=Lo;if(a&&i){var l=Wi(a).hoistableScripts,f=Uo(i),d=l.get(f);d||(d=a.querySelector(yu(f)),d||(i=y({src:i,async:!0},s),(s=mi.get(f))&&$m(i,s),d=a.createElement("script"),Me(d),hn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function hR(i,s){Bs.M(i,s);var a=Lo;if(a&&i){var l=Wi(a).hoistableScripts,f=Uo(i),d=l.get(f);d||(d=a.querySelector(yu(f)),d||(i=y({src:i,async:!0,type:"module"},s),(s=mi.get(f))&&$m(i,s),d=a.createElement("script"),Me(d),hn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function y1(i,s,a,l){var f=(f=Tt.current)?Ch(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=jo(a.href),a=Wi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=jo(a.href);var d=Wi(f).hoistableStyles,T=d.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,T),(d=f.querySelector(gu(i)))&&!d._p&&(T.instance=d,T.state.loading=5),mi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(i,a),d||fR(f,i,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Uo(a),a=Wi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function jo(i){return'href="'+In(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function v1(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function fR(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hn(s,"link",a),Me(s),i.head.appendChild(s))}function Uo(i){return'[src="'+In(i)+'"]'}function yu(i){return"script[async]"+i}function _1(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return s.instance=l,Me(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Me(l),hn(l,"style",f),Ih(l,a.precedence,i),s.instance=l;case"stylesheet":f=jo(a.href);var d=i.querySelector(gu(f));if(d)return s.state.loading|=4,s.instance=d,Me(d),d;l=v1(a),(f=mi.get(f))&&Xm(l,f),d=(i.ownerDocument||i).createElement("link"),Me(d);var T=d;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),hn(d,"link",l),s.state.loading|=4,Ih(d,a.precedence,i),s.instance=d;case"script":return d=Uo(a.src),(f=i.querySelector(yu(d)))?(s.instance=f,Me(f),f):(l=a,(f=mi.get(d))&&(l=y({},a),$m(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Me(f),hn(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ih(l,a.precedence,i));return s.instance}function Ih(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Xm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function $m(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Nh=null;function T1(i,s,a){if(Nh===null){var l=new Map,f=Nh=new Map;f.set(a,l)}else f=Nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Xi]||d[De]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(s)||"";T=i+T;var S=l.get(T);S?S.push(d):l.set(T,[d])}}return l}function b1(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function dR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function E1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function mR(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=jo(l.href),d=s.querySelector(gu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Dh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,Me(d);return}d=s.ownerDocument||s,l=v1(l),(f=mi.get(f))&&Xm(l,f),d=d.createElement("link"),Me(d);var T=d;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),hn(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Dh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Wm=0;function pR(i,s){return i.stylesheets&&i.count===0&&Vh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Vh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Wm===0&&(Wm=62500*X2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Vh(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Wm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Mh=null;function Vh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Mh=new Map,s.forEach(gR,i),Mh=null,Dh.call(i))}function gR(i,s){if(!(s.state.loading&4)){var a=Mh.get(i);if(a)var l=a.get(null);else{a=new Map,Mh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=Dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var vu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function yR(i,s,a,l,f,d,T,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function w1(i,s,a,l,f,d,T,S,M,F,$,et){return i=new yR(i,s,a,T,M,F,$,et,S),s=1,d===!0&&(s|=24),d=Yn(3,null,null,s),i.current=d,d.stateNode=i,s=Nd(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},kd(d),i}function S1(i){return i?(i=go,i):go}function x1(i,s,a,l,f,d){f=S1(f),l.context===null?l.context=f:l.pendingContext=f,l=mr(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(i,l,s),a!==null&&(On(a,i,s),$l(a,i,s))}function A1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Zm(i,s){A1(i,s),(i=i.alternate)&&A1(i,s)}function R1(i){if(i.tag===13||i.tag===31){var s=ga(i,67108864);s!==null&&On(s,i,67108864),Zm(i,67108864)}}function C1(i){if(i.tag===13||i.tag===31){var s=Zn();s=Yi(s);var a=ga(i,s);a!==null&&On(a,i,s),Zm(i,s)}}var kh=!0;function vR(i,s,a,l){var f=z.T;z.T=null;var d=W.p;try{W.p=2,Jm(i,s,a,l)}finally{W.p=d,z.T=f}}function _R(i,s,a,l){var f=z.T;z.T=null;var d=W.p;try{W.p=8,Jm(i,s,a,l)}finally{W.p=d,z.T=f}}function Jm(i,s,a,l){if(kh){var f=tp(l);if(f===null)Um(i,s,l,Oh,a),N1(i,l);else if(bR(f,i,s,a,l))l.stopPropagation();else if(N1(i,l),s&4&&-1<TR.indexOf(i)){for(;f!==null;){var d=ii(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=qn(d.pendingLanes);if(T!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-pe(T);S.entanglements[1]|=M,T&=~M}cs(d),(Wt&6)===0&&(yh=nn()+500,fu(0))}}break;case 31:case 13:S=ga(d,2),S!==null&&On(S,d,2),_h(),Zm(d,2)}if(d=tp(l),d===null&&Um(i,s,l,Oh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Um(i,s,l,null,a)}}function tp(i){return i=si(i),ep(i)}var Oh=null;function ep(i){if(Oh=null,i=$i(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Oh=i,null}function I1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Gi:return 2;case na:return 8;case wi:case ia:return 32;case Si:return 268435456;default:return 32}default:return 32}}var np=!1,Ar=null,Rr=null,Cr=null,_u=new Map,Tu=new Map,Ir=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N1(i,s){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":_u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(s.pointerId)}}function bu(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=ii(s),s!==null&&R1(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function bR(i,s,a,l,f){switch(s){case"focusin":return Ar=bu(Ar,i,s,a,l,f),!0;case"dragenter":return Rr=bu(Rr,i,s,a,l,f),!0;case"mouseover":return Cr=bu(Cr,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return _u.set(d,bu(_u.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Tu.set(d,bu(Tu.get(d)||null,i,s,a,l,f)),!0}return!1}function D1(i){var s=$i(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Ai(i.priority,function(){C1(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Ai(i.priority,function(){C1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=tp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return s=ii(a),s!==null&&R1(s),i.blockedOn=a,!1;s.shift()}return!0}function M1(i,s,a){Ph(i)&&a.delete(s)}function ER(){np=!1,Ar!==null&&Ph(Ar)&&(Ar=null),Rr!==null&&Ph(Rr)&&(Rr=null),Cr!==null&&Ph(Cr)&&(Cr=null),_u.forEach(M1),Tu.forEach(M1)}function Lh(i,s){i.blockedOn===s&&(i.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ER)))}var jh=null;function V1(i){jh!==i&&(jh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jh===i&&(jh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(ep(l||a)===null)continue;break}var d=ii(a);d!==null&&(i.splice(s,3),s-=3,tm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function zo(i){function s(M){return Lh(M,i)}Ar!==null&&Lh(Ar,i),Rr!==null&&Lh(Rr,i),Cr!==null&&Lh(Cr,i),_u.forEach(s),Tu.forEach(s);for(var a=0;a<Ir.length;a++){var l=Ir[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)D1(a),a.blockedOn===null&&Ir.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[Qe]||null;if(typeof d=="function")T||V1(a);else if(T){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[Qe]||null)S=T.formAction;else if(ep(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),V1(a)}}}function k1(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function ip(i){this._internalRoot=i}Uh.prototype.render=ip.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Zn();x1(a,l,i,s,null,null)},Uh.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;x1(i.current,2,null,i,null,null),_h(),s[Qi]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Sl();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Ir.length&&s!==0&&s<Ir[a].priority;a++);Ir.splice(a,0,i),a===0&&D1(i)}};var O1=t.version;if(O1!=="19.2.0")throw Error(r(527,O1,"19.2.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var wR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Bn=zh.inject(wR),qe=zh}catch{}}return wu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=Hv,d=qv,T=Fv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=w1(i,1,!1,null,null,a,l,null,f,d,T,k1),i[Qi]=s.current,jm(i),new ip(s)},wu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=Hv,T=qv,S=Fv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=w1(i,1,!0,s,a??null,l,f,M,d,T,S,k1),s.context=S1(null),a=s.current,l=Zn(),l=Yi(l),f=mr(l),f.callback=null,pr(a,f,l),a=l,s.current.lanes=a,he(s,a),cs(s),i[Qi]=s.current,jm(i),new Uh(s)},wu.version="19.2.0",wu}var G1;function MR(){if(G1)return ap.exports;G1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ap.exports=DR(),ap.exports}var VR=MR();const kR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),K1=n=>{const t=OR(n);return t.charAt(0).toUpperCase()+t.slice(1)},GE=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),PR=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jR=it.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>it.createElement("svg",{ref:p,...LR,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:GE("lucide",o),...!u&&!PR(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>it.createElement(g,v)),...Array.isArray(u)?u:[u]]));const Kt=(n,t)=>{const e=it.forwardRef(({className:r,...o},u)=>it.createElement(jR,{ref:u,iconNode:t,className:GE(`lucide-${kR(K1(n))}`,`lucide-${n}`,r),...o}));return e.displayName=K1(n),e};const UR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],df=Kt("activity",UR);const zR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BR=Kt("clock",zR);const HR=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],KE=Kt("cloud-rain",HR);const qR=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Y1=Kt("code",qR);const FR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GR=Kt("download",FR);const KR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Va=Kt("file-text",KR);const YR=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],QR=Kt("flame",YR);const XR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],$R=Kt("grip-vertical",XR);const WR=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],ZR=Kt("headphones",WR);const JR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tC=Kt("house",JR);const eC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],nC=Kt("log-in",eC);const iC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sC=Kt("log-out",iC);const rC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Q1=Kt("maximize-2",rC);const aC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],YE=Kt("moon",aC);const oC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],lC=Kt("music",oC);const uC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],jp=Kt("panels-top-left",uC);const cC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Up=Kt("pause",cC);const hC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mf=Kt("play",hC);const fC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QE=Kt("plus",fC);const dC=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],mC=Kt("power",dC);const pC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gC=Kt("radio",pC);const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Og=Kt("rotate-ccw",yC);const vC=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],_C=Kt("sliders-vertical",vC);const TC=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XE=Kt("square-check-big",TC);const bC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EC=Kt("sun",bC);const wC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],SC=Kt("target",wC);const xC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pg=Kt("trash-2",xC);const AC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$E=Kt("trophy",AC);const RC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CC=Kt("upload",RC);const IC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NC=Kt("user",IC);const DC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],X1=Kt("volume-2",DC);const MC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VC=Kt("volume-x",MC);const kC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$1=Kt("zap",kC),OC=()=>{};var W1={};const WE=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},PC=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,y=(u&3)<<4|m>>4;let E=(m&15)<<2|g>>6,A=g&63;p||(A=64,c||(E=64)),r.push(e[v],e[y],e[E],e[A])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(WE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):PC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const y=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||y==null)throw new LC;const E=u<<2|m>>4;if(r.push(E),g!==64){const A=m<<4&240|g>>2;if(r.push(A),y!==64){const D=g<<6&192|y;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(n){const t=WE(n);return ZE.encodeByteArray(t,!0)},pf=function(n){return jC(n).replace(/\./g,"")},JE=function(n){try{return ZE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function UC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zC=()=>UC().__FIREBASE_DEFAULTS__,BC=()=>{if(typeof process>"u"||typeof W1>"u")return;const n=W1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&JE(n[1]);return t&&JSON.parse(t)},Uf=()=>{try{return OC()||zC()||BC()||HC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tw=n=>Uf()?.emulatorHosts?.[n],qC=n=>{const t=tw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},ew=()=>Uf()?.config,nw=n=>Uf()?.[`_${n}`];class FC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iw(n){return(await fetch(n,{credentials:"include"})).ok}function GC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pf(JSON.stringify(e)),pf(JSON.stringify(c)),""].join(".")}const Du={};function KC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Du))Du[t]?n.emulator.push(t):n.prod.push(t);return n}function YC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Z1=!1;function sw(n,t){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Du[n]===t||Du[n]||Z1)return;Du[n]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=KC().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Z1=!0,c()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=YC(r),A=e("text"),D=document.getElementById(A)||document.createElement("span"),U=e("learnmore"),H=document.getElementById(U)||document.createElement("a"),G=e("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const X=E.element;m(X),v(H,U);const ft=g();p(J,G),X.append(J,D,H,ft),document.body.appendChild(X)}u?(D.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function XC(){const n=Uf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tI(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eI(){try{return typeof indexedDB=="object"}catch{return!1}}function nI(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const iI="FirebaseError";class Ws extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=iI,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?sI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ws(o,m,r)}}function sI(n,t){return n.replace(rI,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const rI=/\{\$([^}]+)}/g;function aI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function qa(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(J1(u)&&J1(c)){if(!qa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function J1(n){return n!==null&&typeof n=="object"}function sc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function oI(n,t){const e=new lI(n,t);return e.subscribe.bind(e)}class lI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");uI(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function cp(){}function tn(n){return n&&n._delegate?n._delegate:n}class Fa{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class cI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new FC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fI(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hI(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hI(n){return n===Da?void 0:n}function fI(n){return n.instantiationMode==="EAGER"}class dI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new cI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const mI={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},pI=zt.INFO,gI={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},yI=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=gI[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lg{constructor(t){this.name=t,this._logLevel=pI,this._logHandler=yI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const vI=(n,t)=>t.some(e=>n instanceof e);let tT,eT;function _I(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,zp=new WeakMap,aw=new WeakMap,hp=new WeakMap,jg=new WeakMap;function bI(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Lr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&rw.set(e,n)}).catch(()=>{}),jg.set(t,n),t}function EI(n){if(zp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});zp.set(n,t)}let Bp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return zp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||aw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Lr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wI(n){Bp=n(Bp)}function SI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(fp(this),t,...e);return aw.set(r,t.sort?t.sort():[t]),Lr(r)}:TI().includes(n)?function(...t){return n.apply(fp(this),t),Lr(rw.get(this))}:function(...t){return Lr(n.apply(fp(this),t))}}function xI(n){return typeof n=="function"?SI(n):(n instanceof IDBTransaction&&EI(n),vI(n,_I())?new Proxy(n,Bp):n)}function Lr(n){if(n instanceof IDBRequest)return bI(n);if(hp.has(n))return hp.get(n);const t=xI(n);return t!==n&&(hp.set(n,t),jg.set(t,n)),t}const fp=n=>jg.get(n);function AI(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=Lr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Lr(c.result),p.oldVersion,p.newVersion,Lr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RI=["get","getKey","getAll","getAllKeys","count"],CI=["put","add","delete","clear"],dp=new Map;function nT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(dp.get(t))return dp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=CI.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RI.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return dp.set(t,u),u}wI(n=>({...n,get:(t,e,r)=>nT(t,e)||n.get(t,e,r),has:(t,e)=>!!nT(t,e)||n.has(t,e)}));class II{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(NI(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function NI(n){return n.getComponent()?.type==="VERSION"}const Hp="@firebase/app",iT="0.14.6";const Gs=new Lg("@firebase/app"),DI="@firebase/app-compat",MI="@firebase/analytics-compat",VI="@firebase/analytics",kI="@firebase/app-check-compat",OI="@firebase/app-check",PI="@firebase/auth",LI="@firebase/auth-compat",jI="@firebase/database",UI="@firebase/data-connect",zI="@firebase/database-compat",BI="@firebase/functions",HI="@firebase/functions-compat",qI="@firebase/installations",FI="@firebase/installations-compat",GI="@firebase/messaging",KI="@firebase/messaging-compat",YI="@firebase/performance",QI="@firebase/performance-compat",XI="@firebase/remote-config",$I="@firebase/remote-config-compat",WI="@firebase/storage",ZI="@firebase/storage-compat",JI="@firebase/firestore",tN="@firebase/ai",eN="@firebase/firestore-compat",nN="firebase",iN="12.6.0";const qp="[DEFAULT]",sN={[Hp]:"fire-core",[DI]:"fire-core-compat",[VI]:"fire-analytics",[MI]:"fire-analytics-compat",[OI]:"fire-app-check",[kI]:"fire-app-check-compat",[PI]:"fire-auth",[LI]:"fire-auth-compat",[jI]:"fire-rtdb",[UI]:"fire-data-connect",[zI]:"fire-rtdb-compat",[BI]:"fire-fn",[HI]:"fire-fn-compat",[qI]:"fire-iid",[FI]:"fire-iid-compat",[GI]:"fire-fcm",[KI]:"fire-fcm-compat",[YI]:"fire-perf",[QI]:"fire-perf-compat",[XI]:"fire-rc",[$I]:"fire-rc-compat",[WI]:"fire-gcs",[ZI]:"fire-gcs-compat",[JI]:"fire-fst",[eN]:"fire-fst-compat",[tN]:"fire-vertex","fire-js":"fire-js",[nN]:"fire-js-all"};const gf=new Map,rN=new Map,Fp=new Map;function sT(n,t){try{n.container.addComponent(t)}catch(e){Gs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function nl(n){const t=n.name;if(Fp.has(t))return Gs.debug(`There were multiple attempts to register component ${t}.`),!1;Fp.set(t,n);for(const e of gf.values())sT(e,n);for(const e of rN.values())sT(e,n);return!0}function Ug(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ji(n){return n==null?!1:n.settings!==void 0}const aN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new ic("app","Firebase",aN);class oN{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const ml=iN;function ow(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:qp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(e||(e=ew()),!e)throw jr.create("no-options");const u=gf.get(o);if(u){if(qa(e,u.options)&&qa(r,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const c=new dI(o);for(const p of Fp.values())c.addComponent(p);const m=new oN(e,r,c);return gf.set(o,m),m}function lw(n=qp){const t=gf.get(n);if(!t&&n===qp&&ew())return ow();if(!t)throw jr.create("no-app",{appName:n});return t}function Ur(n,t,e){let r=sN[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}nl(new Fa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lN="firebase-heartbeat-database",uN=1,Bu="firebase-heartbeat-store";let mp=null;function uw(){return mp||(mp=AI(lN,uN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Bu)}catch(e){console.warn(e)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),mp}async function cN(n){try{const e=(await uw()).transaction(Bu),r=await e.objectStore(Bu).get(cw(n));return await e.done,r}catch(t){if(t instanceof Ws)Gs.warn(t.message);else{const e=jr.create("idb-get",{originalErrorMessage:t?.message});Gs.warn(e.message)}}}async function rT(n,t){try{const r=(await uw()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(t,cw(n)),await r.done}catch(e){if(e instanceof Ws)Gs.warn(e.message);else{const r=jr.create("idb-set",{originalErrorMessage:e?.message});Gs.warn(r.message)}}}function cw(n){return`${n.name}!${n.options.appId}`}const hN=1024,fN=30;class dN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new pN(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>fN){const o=gN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aT(),{heartbeatsToSend:e,unsentEntries:r}=mN(this._heartbeatsCache.heartbeats),o=pf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gs.warn(t),""}}}function aT(){return new Date().toISOString().substring(0,10)}function mN(n,t=hN){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),oT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),oT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class pN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eI()?nI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await cN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function oT(n){return pf(JSON.stringify({version:2,heartbeats:n})).length}function gN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function yN(n){nl(new Fa("platform-logger",t=>new II(t),"PRIVATE")),nl(new Fa("heartbeat",t=>new dN(t),"PRIVATE")),Ur(Hp,iT,n),Ur(Hp,iT,"esm2020"),Ur("fire-js","")}yN("");var vN="firebase",_N="12.6.0";Ur(vN,_N,"app");function hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=hw,fw=new ic("auth","Firebase",hw());const yf=new Lg("@firebase/auth");function bN(n,...t){yf.logLevel<=zt.WARN&&yf.warn(`Auth (${ml}): ${n}`,...t)}function Zh(n,...t){yf.logLevel<=zt.ERROR&&yf.error(`Auth (${ml}): ${n}`,...t)}function Ts(n,...t){throw Bg(n,...t)}function zi(n,...t){return Bg(n,...t)}function zg(n,t,e){const r={...TN(),[t]:e};return new ic("auth","Firebase",r).create(t,{appName:n.name})}function ja(n){return zg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EN(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ts(n,"argument-error"),zg(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return fw.create(n,...t)}function Rt(n,t,...e){if(!n)throw Bg(t,...e)}function qs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Zh(t),new Error(t)}function Ks(n,t){n||qs(t)}function Gp(){return typeof self<"u"&&self.location?.href||""}function wN(){return lT()==="http:"||lT()==="https:"}function lT(){return typeof self<"u"&&self.location?.protocol||null}function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wN()||WC()||"connection"in navigator)?navigator.onLine:!0}function xN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class rc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ks(e>t,"Short delay should be less than long delay!"),this.isMobile=QC()||ZC()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hg(n,t){Ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class dw{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new rc(3e4,6e4);function qg(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function pl(n,t,e,r,o={}){return mw(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=sc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return $C()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(g.credentials="include"),dw.fetch()(await pw(n,n.config.apiHost,e,m),g)})}async function mw(n,t,e){n._canInitEmulator=!1;const r={...AN,...t};try{const o=new NN(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Bh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Bh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Bh(n,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zg(n,v,g);Ts(n,v)}}catch(o){if(o instanceof Ws)throw o;Ts(n,"network-request-failed",{message:String(o)})}}async function IN(n,t,e,r,o={}){const u=await pl(n,t,e,r,o);return"mfaPendingCredential"in u&&Ts(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function pw(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?Hg(n.config,o):`${n.config.apiScheme}://${o}`;return RN.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class NN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),CN.get())})}}function Bh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=zi(n,t,r);return o.customData._tokenResponse=e,o}async function DN(n,t){return pl(n,"POST","/v1/accounts:delete",t)}async function vf(n,t){return pl(n,"POST","/v1/accounts:lookup",t)}function Mu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function MN(n,t=!1){const e=tn(n),r=await e.getIdToken(t),o=Fg(r);Rt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Mu(pp(o.auth_time)),issuedAtTime:Mu(pp(o.iat)),expirationTime:Mu(pp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pp(n){return Number(n)*1e3}function Fg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const o=JE(e);return o?JSON.parse(o):(Zh("Failed to decode base64 JWT payload"),null)}catch(o){return Zh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uT(n){const t=Fg(n);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ws&&VN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function VN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _f(n){const t=n.auth,e=await n.getIdToken(),r=await Hu(n,vf(t,{idToken:e}));Rt(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?gw(o.providerUserInfo):[],c=PN(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function ON(n){const t=tn(n);await _f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PN(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function gw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function LN(n,t){const e=await mw(n,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await pw(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(p.credentials="include"),dw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function jN(n,t){return pl(n,"POST","/v2/accounts:revokeToken",qg(n,t))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const e=uT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await LN(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new $o;return r&&(Rt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Rt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Rt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return qs("not implemented")}}function Dr(n,t){Rt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ui{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Hu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return MN(this,t)}reload(){return ON(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(ja(this.auth));const t=await this.getIdToken();return await Hu(this,DN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:U}=e;Rt(y&&U,t,"internal-error");const H=$o.fromJSON(this.name,U);Rt(typeof y=="string",t,"internal-error"),Dr(r,t.name),Dr(o,t.name),Rt(typeof E=="boolean",t,"internal-error"),Rt(typeof A=="boolean",t,"internal-error"),Dr(u,t.name),Dr(c,t.name),Dr(m,t.name),Dr(p,t.name),Dr(g,t.name),Dr(v,t.name);const G=new Ui({uid:y,auth:t,email:o,emailVerified:E,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(G.providerData=D.map(J=>({...J}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(t,e,r=!1){const o=new $o;o.updateFromServerResponse(e);const u=new Ui({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await _f(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Rt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new $o;m.updateFromIdToken(r);const p=new Ui({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const cT=new Map;function Fs(n){Ks(n instanceof Function,"Expected a class definition");let t=cT.get(n);return t?(Ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,cT.set(n,t),t)}class yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}yw.type="NONE";const hT=yw;function Jh(n,t,e){return`firebase:${n}:${t}:${e}`}class Wo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await vf(this.auth,{idToken:t}).catch(()=>{});return e?Ui._fromGetAccountInfoResponse(this.auth,e,t):null}return Ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Wo(Fs(hT),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Fs(hT);const c=Jh(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const v=await g._get(c);if(v){let y;if(typeof v=="string"){const E=await vf(t,{idToken:v}).catch(()=>{});if(!E)break;y=await Ui._fromGetAccountInfoResponse(t,E,v)}else y=Ui._fromJSON(t,v);g!==u&&(m=y),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wo(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Wo(u,t,r))}}function fT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ww(t))return"Blackberry";if(Sw(t))return"Webos";if(_w(t))return"Safari";if((t.includes("chrome/")||Tw(t))&&!t.includes("edge/"))return"Chrome";if(Ew(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function vw(n=En()){return/firefox\//i.test(n)}function _w(n=En()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tw(n=En()){return/crios\//i.test(n)}function bw(n=En()){return/iemobile/i.test(n)}function Ew(n=En()){return/android/i.test(n)}function ww(n=En()){return/blackberry/i.test(n)}function Sw(n=En()){return/webos/i.test(n)}function Gg(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UN(n=En()){return Gg(n)&&!!window.navigator?.standalone}function zN(){return JC()&&document.documentMode===10}function xw(n=En()){return Gg(n)||Ew(n)||Sw(n)||ww(n)||/windows phone/i.test(n)||bw(n)}function Aw(n,t=[]){let e;switch(n){case"Browser":e=fT(En());break;case"Worker":e=`${fT(En())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ml}/${r}`}class BN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function HN(n,t={}){return pl(n,"GET","/v2/passwordPolicy",qg(n,t))}const qN=6;class FN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??qN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class GN{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Fs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await vf(this,{idToken:t}),r=await Ui._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ji(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await _f(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ji(this.app))return Promise.reject(ja(this));const e=t?tn(t):null;return e&&Rt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ji(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HN(this),e=new FN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ic("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await jN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Fs(t)||this._popupRedirectResolver;Rt(e,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Fs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zf(n){return tn(n)}class dT{constructor(t){this.auth=t,this.observer=null,this.addObserver=oI(e=>this.observer=e)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(n){Kg=n}function YN(n){return Kg.loadJS(n)}function QN(){return Kg.gapiScript}function XN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function $N(n,t){const e=Ug(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(qa(u,t??{}))return o;Ts(o,"already-initialized")}return e.initialize({options:t})}function WN(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Fs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function ZN(n,t,e){const r=zf(n);Rt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Rw(t),{host:c,port:m}=JN(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Rt(qa(g,r.config.emulator)&&qa(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,dl(c)?(iw(`${u}//${c}${p}`),sw("Auth",!0)):tD()}function Rw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function JN(n){const t=Rw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:mT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:mT(c)}}}function mT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function tD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Cw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return qs("not implemented")}_getIdTokenResponse(t){return qs("not implemented")}_linkToIdToken(t,e){return qs("not implemented")}_getReauthenticationResolver(t){return qs("not implemented")}}async function Zo(n,t){return IN(n,"POST","/v1/accounts:signInWithIdp",qg(n,t))}const eD="http://localhost";class Ga extends Cw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ts("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Ga(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Zo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Zo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zo(t,e)}buildRequest(){const t={requestUri:eD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=sc(e)}return t}}class Yg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ac extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Vr extends ac{constructor(){super("facebook.com")}static credential(t){return Ga._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";class Hs extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ga._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Hs.credential(e,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class kr extends ac{constructor(){super("github.com")}static credential(t){return Ga._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Or extends ac{constructor(){super("twitter.com")}static credential(t,e){return Ga._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Or.credential(e,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";class il{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await Ui._fromIdTokenResponse(t,r,o),c=pT(r);return new il({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=pT(r);return new il({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function pT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tf extends Ws{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new Tf(t,e,r,o)}}function Iw(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(n,u,t,r):u})}async function nD(n,t,e=!1){const r=await Hu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return il._forOperation(n,"link",r)}async function iD(n,t,e=!1){const{auth:r}=n;if(ji(r.app))return Promise.reject(ja(r));const o="reauthenticate";try{const u=await Hu(n,Iw(r,o,t,n),e);Rt(u.idToken,r,"internal-error");const c=Fg(u.idToken);Rt(c,r,"internal-error");const{sub:m}=c;return Rt(n.uid===m,r,"user-mismatch"),il._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ts(r,"user-mismatch"),u}}async function sD(n,t,e=!1){if(ji(n.app))return Promise.reject(ja(n));const r="signIn",o=await Iw(n,r,t),u=await il._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function rD(n,t,e,r){return tn(n).onIdTokenChanged(t,e,r)}function aD(n,t,e){return tn(n).beforeAuthStateChanged(t,e)}function oD(n,t,e,r){return tn(n).onAuthStateChanged(t,e,r)}function lD(n){return tn(n).signOut()}const bf="__sak";class Nw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uD=1e3,cD=10;class Dw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);zN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cD):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dw.type="LOCAL";const hD=Dw;class Mw extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Mw.type="SESSION";const Vw=Mw;function fD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Bf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await fD(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];function Qg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class dD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Qg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(E.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ds(){return window}function mD(n){ds().location.href=n}function kw(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function pD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){return navigator?.serviceWorker?.controller||null}function yD(){return kw()?self:null}const Ow="firebaseLocalStorageDb",vD=1,Ef="firebaseLocalStorage",Pw="fbase_key";class oc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hf(n,t){return n.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function _D(){const n=indexedDB.deleteDatabase(Ow);return new oc(n).toPromise()}function Yp(){const n=indexedDB.open(Ow,vD);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ef,{keyPath:Pw})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ef)?t(r):(r.close(),await _D(),t(await Yp()))})})}async function gT(n,t,e){const r=Hf(n,!0).put({[Pw]:t,value:e});return new oc(r).toPromise()}async function TD(n,t){const e=Hf(n,!1).get(t),r=await new oc(e).toPromise();return r===void 0?null:r.value}function yT(n,t){const e=Hf(n,!0).delete(t);return new oc(e).toPromise()}const bD=800,ED=3;class Lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>ED)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(yD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yp();return await gT(t,bf,"1"),await yT(t,bf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>TD(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>yT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Hf(o,!1).getAll();return new oc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lw.type="LOCAL";const wD=Lw;new rc(3e4,6e4);function jw(n,t){return t?Fs(t):(Rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Xg extends Cw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SD(n){return sD(n.auth,new Xg(n),n.bypassAuthState)}function xD(n){const{auth:t,user:e}=n;return Rt(e,t,"internal-error"),iD(e,new Xg(n),n.bypassAuthState)}async function AD(n){const{auth:t,user:e}=n;return Rt(e,t,"internal-error"),nD(e,new Xg(n),n.bypassAuthState)}class Uw{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SD;case"linkViaPopup":case"linkViaRedirect":return AD;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:Ts(this.auth,"internal-error")}}resolve(t){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RD=new rc(2e3,1e4);async function CD(n,t,e){if(ji(n.app))return Promise.reject(zi(n,"operation-not-supported-in-this-environment"));const r=zf(n);EN(n,t,Yg);const o=jw(r,e);return new ka(r,"signInViaPopup",t,o).executeNotNull()}class ka extends Uw{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const t=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RD.get())};t()}}ka.currentPopupAction=null;const ID="pendingRedirect",tf=new Map;class ND extends Uw{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const r=await DD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DD(n,t){const e=kD(t),r=VD(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function MD(n,t){tf.set(n._key(),t)}function VD(n){return Fs(n._redirectPersistence)}function kD(n){return Jh(ID,n.config.apiKey,n.name)}async function OD(n,t,e=!1){if(ji(n.app))return Promise.reject(ja(n));const r=zf(n),o=jw(r,t),c=await new ND(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const PD=600*1e3;class LD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!zw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(zi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PD&&this.cachedEventUids.clear(),this.cachedEventUids.has(vT(t))}saveEventToCache(t){this.cachedEventUids.add(vT(t)),this.lastProcessedEventTime=Date.now()}}function vT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function zw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function jD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zw(n);default:return!1}}async function UD(n,t={}){return pl(n,"GET","/v1/projects",t)}const zD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function HD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await UD(n);for(const e of t)try{if(qD(e))return}catch{}Ts(n,"unauthorized-domain")}function qD(n){const t=Gp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!BD.test(e))return!1;if(zD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FD=new rc(3e4,6e4);function _T(){const n=ds().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function GD(n){return new Promise((t,e)=>{function r(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),e(zi(n,"network-request-failed"))},timeout:FD.get()})}if(ds().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ds().gapi?.load)r();else{const o=XN("iframefcb");return ds()[o]=()=>{gapi.load?r():e(zi(n,"network-request-failed"))},YN(`${QN()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw ef=null,t})}let ef=null;function KD(n){return ef=ef||GD(n),ef}const YD=new rc(5e3,15e3),QD="__/auth/iframe",XD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(n){const t=n.config;Rt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hg(t,XD):`https://${n.config.authDomain}/${QD}`,r={apiKey:t.apiKey,appName:n.name,v:ml},o=WD.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${sc(r).slice(1)}`}async function JD(n){const t=await KD(n),e=ds().gapi;return Rt(e,n,"internal-error"),t.open({where:document.body,url:ZD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=zi(n,"network-request-failed"),m=ds().setTimeout(()=>{u(c)},YD.get());function p(){ds().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const tM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,nM=600,iM="_blank",sM="http://localhost";class TT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rM(n,t,e,r=eM,o=nM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...tM,width:r.toString(),height:o.toString(),top:u,left:c},g=En().toLowerCase();e&&(m=Tw(g)?iM:e),vw(g)&&(t=t||sM,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(UN(g)&&m!=="_self")return aM(t||"",m),new TT(null);const y=window.open(t||"",m,v);Rt(y,n,"popup-blocked");try{y.focus()}catch{}return new TT(y)}function aM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const oM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function bT(n,t,e,r,o,u){Rt(n.config.authDomain,n,"auth-domain-config-required"),Rt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:ml,eventId:o};if(t instanceof Yg){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",aI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,y]of Object.entries({}))c[v]=y}if(t instanceof ac){const v=t.getScopes().filter(y=>y!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await n._getAppCheckToken(),g=p?`#${uM}=${encodeURIComponent(p)}`:"";return`${cM(n)}?${sc(m).slice(1)}${g}`}function cM({config:n}){return n.emulator?Hg(n,lM):`https://${n.authDomain}/${oM}`}const gp="webStorageSupport";class hM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vw,this._completeRedirectFn=OD,this._overrideRedirectResult=MD}async _openPopup(t,e,r,o){Ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bT(t,e,r,Gp(),o);return rM(t,u,Qg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await bT(t,e,r,Gp(),o);return mD(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Ks(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await JD(t),r=new LD(t);return e.register("authEvent",o=>(Rt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(gp,{type:gp},o=>{const u=o?.[0]?.[gp];u!==void 0&&e(!!u),Ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=HD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xw()||_w()||Gg()}}const fM=hM;var ET="@firebase/auth",wT="1.11.1";class dM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(n){nl(new Fa("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Rt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aw(n)},g=new GN(r,o,u,p);return WN(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),nl(new Fa("auth-internal",t=>{const e=zf(t.getProvider("auth").getImmediate());return(r=>new dM(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(ET,wT,mM(n)),Ur(ET,wT,"esm2020")}const gM=300,yM=nw("authIdTokenMaxAge")||gM;let ST=null;const vM=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>yM)return;const o=e?.token;ST!==o&&(ST=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _M(n=lw()){const t=Ug(n,"auth");if(t.isInitialized())return t.getImmediate();const e=$N(n,{popupRedirectResolver:fM,persistence:[wD,hD,Vw]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=vM(u.toString());aD(e,c,()=>c(e.currentUser)),rD(e,m=>c(m))}}const o=tw("auth");return o&&ZN(e,`http://${o}`),e}function TM(){return document.getElementsByTagName("head")?.[0]??document}KN({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=zi("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",TM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,Bw;(function(){var n;function t(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,V,L){for(var N=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)N[Ft-2]=arguments[Ft];return R.prototype[V].apply(O,N)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const O=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;V<16;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],V=C.g[2];let L=C.g[3],N;N=R+(L^I&(V^L))+O[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(V^R&(I^V))+O[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(I^L&(R^I))+O[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(R^V&(L^R))+O[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(L^I&(V^L))+O[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(V^R&(I^V))+O[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(I^L&(R^I))+O[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(R^V&(L^R))+O[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(L^I&(V^L))+O[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(V^R&(I^V))+O[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(I^L&(R^I))+O[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(R^V&(L^R))+O[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(L^I&(V^L))+O[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=L+(V^R&(I^V))+O[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=V+(I^L&(R^I))+O[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(R^V&(L^R))+O[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(V^L&(I^V))+O[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(R^I))+O[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(L^R))+O[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(V^L))+O[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(I^V))+O[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(R^I))+O[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(L^R))+O[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(V^L))+O[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(I^V))+O[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(R^I))+O[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(L^R))+O[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(V^L))+O[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^L&(I^V))+O[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(R^I))+O[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(L^R))+O[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^R&(V^L))+O[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(I^V^L)+O[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^V)+O[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^I)+O[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^R)+O[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^L)+O[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^V)+O[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^I)+O[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^R)+O[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^L)+O[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^V)+O[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^I)+O[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^R)+O[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^L)+O[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=L+(R^I^V)+O[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=V+(L^R^I)+O[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^R)+O[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(V^(I|~L))+O[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~V))+O[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~I))+O[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~R))+O[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~L))+O[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~V))+O[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~I))+O[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~R))+O[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~L))+O[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~V))+O[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~I))+O[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~R))+O[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~L))+O[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=L+(I^(R|~V))+O[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=V+(R^(L|~I))+O[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<R;){if(V==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(O[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<R;)if(O[V++]=C[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[R++]=this.g[I]>>>O&255;return C};function u(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function c(C,R){this.h=R;const I=[];let O=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;O&&L==R||(I[V]=L,O=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return y;if(C<0)return H(g(-C));const R=[];let I=1;for(let O=0;C>=I;O++)R[O]=C/I|0,I*=4294967296;return new c(R,0)}function v(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return H(v(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let O=y;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const N=parseInt(C.substring(L,L+V),R);V<8?(V=g(Math.pow(R,V)),O=O.j(V).add(g(N))):(O=O.j(I),O=O.add(g(N)))}return O}var y=p(0),E=p(1),A=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-H(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(U(this))return"-"+H(this).toString(C);const R=g(Math.pow(C,6));var I=this;let O="";for(;;){const V=ft(I,R).g;I=G(I,V.j(R));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,D(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function U(C){return C.h==-1}n.l=function(C){return C=G(this,C),U(C)?-1:D(C)?0:1};function H(C){const R=C.g.length,I=[];for(let O=0;O<R;O++)I[O]=~C.g[O];return new c(I,~C.h).add(E)}n.abs=function(){return U(this)?H(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let V=0;V<=R;V++){let L=O+(this.i(V)&65535)+(C.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=N>>>16,L&=65535,N&=65535,I[V]=N<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function G(C,R){return C.add(H(R))}n.j=function(C){if(D(this)||D(C))return y;if(U(this))return U(C)?H(this).j(H(C)):H(H(this).j(C));if(U(C))return H(this.j(H(C)));if(this.l(A)<0&&C.l(A)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<C.g.length;V++){const L=this.i(O)>>>16,N=this.i(O)&65535,Ft=C.i(V)>>>16,Zt=C.i(V)&65535;I[2*O+2*V]+=N*Zt,J(I,2*O+2*V),I[2*O+2*V+1]+=L*Zt,J(I,2*O+2*V+1),I[2*O+2*V+1]+=N*Ft,J(I,2*O+2*V+1),I[2*O+2*V+2]+=L*Ft,J(I,2*O+2*V+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new c(I,0)};function J(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function X(C,R){this.g=C,this.h=R}function ft(C,R){if(D(R))throw Error("division by zero");if(D(C))return new X(y,y);if(U(C))return R=ft(H(C),R),new X(H(R.g),H(R.h));if(U(R))return R=ft(C,H(R)),new X(H(R.g),R.h);if(C.g.length>30){if(U(C)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,O=R;O.l(C)<=0;)I=ct(I),O=ct(O);var V=ot(I,1),L=ot(O,1);for(O=ot(O,2),I=ot(I,2);!D(O);){var N=L.add(O);N.l(C)<=0&&(V=V.add(I),L=N),O=ot(O,1),I=ot(I,1)}return R=G(C,V.j(R)),new X(V,R)}for(V=y;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(I),N=L.j(R);U(N)||N.l(C)>0;)I-=O,L=g(I),N=L.j(R);D(L)&&(L=E),V=V.add(L),C=G(C,N)}return new X(V,C)}n.B=function(C){return ft(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function ct(C){const R=C.g.length+1,I=[];for(let O=0;O<R;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function ot(C,R){const I=R>>5;R%=32;const O=C.g.length-I,V=[];for(let L=0;L<O;L++)V[L]=R>0?C.i(L+I)>>>R|C.i(L+I+1)<<32-R:C.i(L+I);return new c(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Bw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,zr=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hw,Au,qw,nf,Qp,Fw,Gw,Kw;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=e(this);function o(h,_){if(_)t:{var b=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var B=h[x];if(!(B in b))break t;b=b[B]}h=h[h.length-1],x=b[h],_=_(x),_!=x&&_!=null&&t(b,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var b=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&b.push([x,_[x]]);return b}});var u=u||{},c=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,b){return h.call.apply(h.bind,arguments)}function g(h,_,b){return g=p,g.apply(null,arguments)}function v(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function y(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,B,Y){for(var lt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)lt[Mt-2]=arguments[Mt];return _.prototype[B].apply(x,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const b=Array(_);for(let x=0;x<_;x++)b[x]=h[x];return b}return[]}function D(h,_){for(let x=1;x<arguments.length;x++){const B=arguments[x];var b=typeof B;if(b=b!="object"?b:B?Array.isArray(B)?"array":b:"null",b=="array"||b=="object"&&typeof B.length=="number"){b=h.length||0;const Y=B.length||0;h.length=b+Y;for(let lt=0;lt<Y;lt++)h[b+lt]=B[lt]}else h.push(B)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(h){c.setTimeout(()=>{throw h},0)}function G(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,b){const x=X.get();x.set(_,b),this.h?this.h.next=x:this.g=x,this.h=x}}var X=new U(()=>new ft,h=>h.reset());class ft{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ot=!1,C=new J,R=()=>{const h=Promise.resolve(void 0);ct=()=>{h.then(I)}};function I(){for(var h;h=G();){try{h.h.call(h.g)}catch(b){H(b)}var _=X;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ot=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ft(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}y(Ft,V),Ft.prototype.init=function(h,_){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),z=0;function W(h,_,b,x,B){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!x,this.ha=B,this.key=++z,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Et(h,_,b){for(const x in h)_.call(b,h[x],x,h)}function St(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function k(h){const _={};for(const b in h)_[b]=h[b];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(h,_){let b,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(b in x)h[b]=x[b];for(let Y=0;Y<Z.length;Y++)b=Z[Y],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function at(h){this.src=h,this.g={},this.h=0}at.prototype.add=function(h,_,b,x,B){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const lt=Tt(h,_,x,B);return lt>-1?(_=h[lt],b||(_.fa=!1)):(_=new W(_,this.src,Y,!!x,B),_.fa=b,h.push(_)),_};function mt(h,_){const b=_.type;if(b in h.g){var x=h.g[b],B=Array.prototype.indexOf.call(x,_,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(x,B,1),Y&&(ht(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Tt(h,_,b,x){for(let B=0;B<h.length;++B){const Y=h[B];if(!Y.da&&Y.listener==_&&Y.capture==!!b&&Y.ha==x)return B}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),It={};function Xt(h,_,b,x,B){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)Xt(h,_[Y],b,x,B);return null}return b=Js(b),h&&h[Zt]?h.J(_,b,m(x)?!!x.capture:!1,B):ti(h,_,b,!1,x,B)}function ti(h,_,b,x,B,Y){if(!_)throw Error("Invalid event type");const lt=m(B)?!!B.capture:!!B;let Mt=qi(h);if(Mt||(h[kt]=Mt=new at(h)),b=Mt.add(_,b,x,lt,Y),b.proxy)return b;if(x=Ti(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)L||(B=lt),B===void 0&&(B=!1),h.addEventListener(_.toString(),x,B);else if(h.attachEvent)h.attachEvent(Cn(_.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ti(){function h(b){return _.call(h.src,h.listener,b)}const _=ea;return h}function zn(h,_,b,x,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)zn(h,_[Y],b,x,B);else x=m(x)?!!x.capture:!!x,b=Js(b),h&&h[Zt]?(h=h.i,Y=String(_).toString(),Y in h.g&&(_=h.g[Y],b=Tt(_,b,x,B),b>-1&&(ht(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[Y],h.h--)))):h&&(h=qi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Tt(_,b,x,B)),(b=h>-1?_[h]:null)&&Zs(b))}function Zs(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Zt])mt(_.i,h);else{var b=h.type,x=h.proxy;_.removeEventListener?_.removeEventListener(b,x,h.capture):_.detachEvent?_.detachEvent(Cn(b),x):_.addListener&&_.removeListener&&_.removeListener(x),(b=qi(_))?(mt(b,h),b.h==0&&(b.src=null,_[kt]=null)):ht(h)}}}function Cn(h){return h in It?It[h]:It[h]="on"+h}function ea(h,_){if(h.da)h=!0;else{_=new Ft(_,this);const b=h.listener,x=h.ha||h.src;h.fa&&Zs(h),h=b.call(x,_)}return h}function qi(h){return h=h[kt],h instanceof at?h:null}var bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Js(h){return typeof h=="function"?h:(h[bi]||(h[bi]=function(_){return h.handleEvent(_)}),h[bi])}function Jt(){O.call(this),this.i=new at(this),this.M=this,this.G=null}y(Jt,O),Jt.prototype[Zt]=!0,Jt.prototype.removeEventListener=function(h,_,b,x){zn(this,h,_,b,x)};function xe(h,_){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var B=_;_=new V(x,h),rt(_,B)}B=!0;let Y,lt;if(b)for(lt=b.length-1;lt>=0;lt--)Y=_.g=b[lt],B=Fi(Y,x,!0,_)&&B;if(Y=_.g=h,B=Fi(Y,x,!0,_)&&B,B=Fi(Y,x,!1,_)&&B,b)for(lt=0;lt<b.length;lt++)Y=_.g=b[lt],B=Fi(Y,x,!1,_)&&B}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let x=0;x<b.length;x++)ht(b[x]);delete h.g[_],h.h--}}this.G=null},Jt.prototype.J=function(h,_,b,x){return this.i.add(String(h),_,!1,b,x)},Jt.prototype.K=function(h,_,b,x){return this.i.add(String(h),_,!0,b,x)};function Fi(h,_,b,x){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let Y=0;Y<_.length;++Y){const lt=_[Y];if(lt&&!lt.da&&lt.capture==b){const Mt=lt.listener,Ae=lt.ha||lt.src;lt.fa&&mt(h.i,lt),B=Mt.call(Ae,x)!==!1&&B}}return B&&!x.defaultPrevented}function en(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ei(h){h.g=en(()=>{h.g=null,h.i&&(h.i=!1,Ei(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class nn extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){O.call(this),this.h=h,this.g={}}y(Es,O);var Gi=[];function na(h){Et(h.g,function(_,b){this.g.hasOwnProperty(b)&&Zs(_)},h),h.g={}}Es.prototype.N=function(){Es.Z.N.call(this),na(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=c.JSON.stringify,ia=c.JSON.parse,Si=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function sa(){}function xi(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){V.call(this,"d")}y(qe,V);function wn(){V.call(this,"c")}y(wn,V);var pe={},Ja=null;function Ki(){return Ja=Ja||new Jt}pe.Ia="serverreachability";function Hn(h){V.call(this,pe.Ia,h)}y(Hn,V);function ei(h){const _=Ki();xe(_,new Hn(_))}pe.STAT_EVENT="statevent";function ws(h,_){V.call(this,pe.STAT_EVENT,h),this.stat=_}y(ws,V);function _e(h){const _=Ki();xe(_,new ws(_,h))}pe.Ja="timingevent";function qn(h,_){V.call(this,pe.Ja,h),this.size=_}y(qn,V);function bt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function te(){this.g=!0}te.prototype.ua=function(){this.g=!1};function Ne(h,_,b,x,B,Y){h.info(function(){if(h.g)if(Y){var lt="",Mt=Y.split("&");for(let $t=0;$t<Mt.length;$t++){var Ae=Mt[$t].split("=");if(Ae.length>1){const ge=Ae[0];Ae=Ae[1];const ai=ge.split("_");lt=ai.length>=2&&ai[1]=="type"?lt+(ge+"="+Ae+"&"):lt+(ge+"=redacted&")}}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+_+`
`+b+`
`+lt})}function Ye(h,_,b,x,B,Y,lt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+_+`
`+b+`
`+Y+" "+lt})}function Sn(h,_,b,x){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+gn(h,b)+(x?" "+x:"")})}function he(h,_){h.info(function(){return"TIMEOUT: "+_})}te.prototype.info=function(){};function gn(h,_){if(!h.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(let lt=1;lt<x.length;lt++)x[lt]=""}}}}return wi(Y)}catch{return _}}var ni={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rn;function Yi(){}y(Yi,sa),Yi.prototype.g=function(){return new XMLHttpRequest},rn=new Yi;function an(h){return encodeURIComponent(String(h))}function Sl(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function Ai(h,_,b,x){this.j=h,this.i=_,this.l=b,this.S=x||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var De={},Qe={};function Qi(h,_,b){h.M=1,h.A=ra(Ve(_)),h.u=b,h.R=!0,to(h,null)}function to(h,_){h.F=Date.now(),Xi(h),h.B=Ve(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),so(b.i,"t",x),h.C=0,b=h.j.L,h.h=new Ri,h.g=kc(h.j,b?_:null,!h.u),h.P>0&&(h.O=new nn(g(h.Y,h,h.g),h.P)),_=h.V,b=h.g,x=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Gi[0]=B.toString()),B=Gi);for(let Y=0;Y<B.length;Y++){const lt=Xt(b,B[Y],x||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ei(),Ne(h.i,h.v,h.B,h.l,h.S,h.u)}Ai.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ni(h)==3?_.j():this.Y(h)},Ai.prototype.Y=function(h){try{if(h==this.g)t:{const Mt=Ni(this.g),Ae=this.g.ya(),$t=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Mt!=4||Ae==7||(Ae==8||$t<=0?ei(3):ei(2)),$i(this);var _=this.g.ca();this.X=_;var b=cd(this);if(this.o=_==200,Ye(this.i,this.v,this.B,this.l,this.S,Mt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var Y=x;break e}}Y=null}if(h=Y)Sn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,h);else{this.o=!1,this.m=3,_e(12),Fn(this),ii(this);break t}}if(this.R){h=!0;let ge;for(;!this.K&&this.C<b.length;)if(ge=bc(this,b),ge==Qe){Mt==4&&(this.m=4,_e(14),h=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==De){this.m=4,_e(15),Sn(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Sn(this.i,this.l,ge,null),Wi(this,ge);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||b.length!=0||this.h.h||(this.m=1,_e(16),h=!1),this.o=this.o&&h,!h)Sn(this.i,this.l,b,"[Invalid Chunked Response]"),Fn(this),ii(this);else if(b.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ul(lt),lt.P=!0,_e(11))}}else Sn(this.i,this.l,b,null),Wi(this,b);Mt==4&&Fn(this),this.o&&!this.K&&(Mt==4?Nc(this.j,this):(this.o=!1,Xi(this)))}else xs(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),Fn(this),ii(this)}}}catch{}finally{}};function cd(h){if(!Tc(h))return h.g.la();const _=on(h.g);if(_==="")return"";let b="";const x=_.length,B=Ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),ii(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<x;Y++)h.h.h=!0,b+=h.h.i.decode(_[Y],{stream:!(B&&Y==x-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function Tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function bc(h,_){var b=h.C,x=_.indexOf(`
`,b);return x==-1?Qe:(b=Number(_.substring(b,x)),isNaN(b)?De:(x+=1,x+b>_.length?Qe:(_=_.slice(x,x+b),h.C=x+b,_)))}Ai.prototype.cancel=function(){this.K=!0,Fn(this)};function Xi(h){h.T=Date.now()+h.H,eo(h,h.H)}function eo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bt(g(h.aa,h),_)}function $i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(he(this.i,this.B),this.M!=2&&(ei(),_e(17)),Fn(this),this.m=2,ii(this)):eo(this,this.T-h)};function ii(h){h.j.I==0||h.K||Nc(h.j,h)}function Fn(h){$i(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,na(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Wi(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Ji(b.h,h))){if(!h.L&&Ji(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)uo(b),or(b);else break t;fa(b),_e(18)}}else b.xa=B[1],0<b.xa-b.K&&B[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bt(g(b.Va,b),6e3));Zi(b.h)<=1&&b.ta&&(b.ta=void 0)}else rs(b,11)}else if((h.L||b.g==h)&&uo(b),!N(_))for(B=b.Ba.g.parse(_),_=0;_<B.length;_++){let $t=B[_];const ge=$t[0];if(!(ge<=b.K))if(b.K=ge,$t=$t[1],b.I==2)if($t[0]=="c"){b.M=$t[1],b.ba=$t[2];const ai=$t[3];ai!=null&&(b.ka=ai,b.j.info("VER="+b.ka));const as=$t[4];as!=null&&(b.za=as,b.j.info("SVER="+b.za));const Di=$t[5];Di!=null&&typeof Di=="number"&&Di>0&&(x=1.5*Di,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Mi=h.g;if(Mi){const da=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var Y=x.h;Y.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Rl(Y,Y.h),Y.h=null))}if(x.G){const co=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(x.wa=co,ne(x.J,x.G,co))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var lt=h;if(x.na=Vc(x,x.L?x.ba:null,x.W),lt.L){Cl(x.h,lt);var Mt=lt,Ae=x.O;Ae&&(Mt.H=Ae),Mt.D&&($i(Mt),Xi(Mt)),x.g=lt}else Cc(x);b.i.length>0&&ss(b)}else $t[0]!="stop"&&$t[0]!="close"||rs(b,7);else b.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?rs(b,7):Ll(b):$t[0]!="noop"&&b.l&&b.l.qa($t),b.A=0)}}ei(4)}catch{}}var Me=class{constructor(h,_){this.g=h,this.map=_}};function xl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zi(h){return h.h?1:h.g?h.g.size:0}function Ji(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Rl(h,_){h.g?h.g.add(_):h.h=_}function Cl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}xl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return A(h.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let B,Y=null;x>=0?(B=h[b].substring(0,x),Y=h[b].substring(x+1)):B=h[b],_(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Gn?(this.l=h.l,Xe(this,h.j),this.o=h.o,this.g=h.g,tr(this,h.u),this.h=h.h,Nl(this,Ac(h.i)),this.m=h.m):h&&(_=String(h).match(Ec))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=ts(_[2]||""),this.g=ts(_[3]||"",!0),tr(this,_[4]),this.h=ts(_[5]||"",!0),Nl(this,_[6]||"",!0),this.m=ts(_[7]||"")):(this.l=!1,this.i=new nr(null,this.l))}Gn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(aa(_,io,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(aa(_,io,!0),"@"),h.push(an(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(aa(b,b.charAt(0)=="/"?Dl:wc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",aa(b,Sc)),h.join("")},Gn.prototype.resolve=function(h){const _=Ve(this);let b=!!h.j;b?Xe(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var x=h.h;if(b)tr(_,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var B=_.h.lastIndexOf("/");B!=-1&&(x=_.h.slice(0,B+1)+x)}if(B=x,B==".."||B==".")x="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){x=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let lt=0;lt<B.length;){const Mt=B[lt++];Mt=="."?x&&lt==B.length&&Y.push(""):Mt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&lt==B.length&&Y.push("")):(Y.push(Mt),x=!0)}x=Y.join("/")}else x=B}return b?_.h=x:b=h.i.toString()!=="",b?Nl(_,Ac(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Ve(h){return new Gn(h)}function Xe(h,_,b){h.j=b?ts(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function tr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Nl(h,_,b){_ instanceof nr?(h.i=_,ro(h.i,h.l)):(b||(_=aa(_,er)),h.i=new nr(_,h.l))}function ne(h,_,b){h.i.set(_,b)}function ra(h){return ne(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ts(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,In),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function In(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var io=/[#\/\?@]/g,wc=/[#\?:]/g,Dl=/[#\?]/g,er=/[#\?@]/g,Sc=/#/g;function nr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&no(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=nr.prototype,n.add=function(h,_){Nn(this),this.i=null,h=ir(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function xc(h,_){Nn(h),_=ir(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ml(h,_){return Nn(h),_=ir(h,_),h.g.has(_)}n.forEach=function(h,_){Nn(this),this.g.forEach(function(b,x){b.forEach(function(B){h.call(_,B,x,this)},this)},this)};function Vl(h,_){Nn(h);let b=[];if(typeof _=="string")Ml(h,_)&&(b=b.concat(h.g.get(ir(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}n.set=function(h,_){return Nn(this),this.i=null,h=ir(this,h),Ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=Vl(this,h),h.length>0?String(h[0]):_):_};function so(h,_,b){xc(h,_),b.length>0&&(h.i=null,h.g.set(ir(h,_),A(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var b=_[x];const B=an(b);b=Vl(this,b);for(let Y=0;Y<b.length;Y++){let lt=B;b[Y]!==""&&(lt+="="+an(b[Y])),h.push(lt)}}return this.i=h.join("&")};function Ac(h){const _=new nr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function ir(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ro(h,_){_&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(b,x){const B=x.toLowerCase();x!=B&&(xc(this,x),so(this,B,b))},h)),h.j=_}function Ci(h,_){const b=new te;if(c.Image){const x=new Image;x.onload=v(si,b,"TestLoadImage: loaded",!0,_,x),x.onerror=v(si,b,"TestLoadImage: error",!1,_,x),x.onabort=v(si,b,"TestLoadImage: abort",!1,_,x),x.ontimeout=v(si,b,"TestLoadImage: timeout",!1,_,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else _(!1)}function kl(h,_){const b=new te,x=new AbortController,B=setTimeout(()=>{x.abort(),si(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:x.signal}).then(Y=>{clearTimeout(B),Y.ok?si(b,"TestPingServer: ok",!0,_):si(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),si(b,"TestPingServer: error",!1,_)})}function si(h,_,b,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(b)}catch{}}function sr(){this.g=new Si}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}y(es,sa),es.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,_){Jt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(oa,Jt),n=oa.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ii(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?rr(this):Ii(this),this.readyState==3&&ao(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,rr(this))},n.Na=function(h){this.g&&(this.response=h,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ii(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function Ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ri(h){let _="";return Et(h,function(b,x){_+=x,_+=":",_+=b,_+=`\r
`}),_}function la(h,_,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=ri(b),typeof h=="string"?b!=null&&an(b):ne(h,_,b))}function re(h){Jt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(re,Jt);var ns=/^https?$/i,Ol=["POST","PUT"];n=re.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rn.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Y){ua(this,Y);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)b.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())b.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,_,void 0)>=0)||x||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of b)this.g.setRequestHeader(Y,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){ua(this,Y)}};function ua(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Pl(h),Ss(h)}function Pl(h){h.A||(h.A=!0,xe(h,"complete"),xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xe(this,"complete"),xe(this,"abort"),Ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),re.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},n.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof u<"u"){if(h.v&&Ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(xe(h,"readystatechange"),Ni(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var x;if(x=Y===0){let lt=String(h.D).match(Ec)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),x=!ns.test(lt?lt.toLowerCase():"")}b=x}if(b)xe(h,"complete"),xe(h,"success");else{h.o=6;try{var B=Ni(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",Pl(h)}}finally{Ss(h)}}}}function Ss(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||xe(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ni(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ia(_)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const _={};h=(h.g&&Ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(N(h[x]))continue;var b=Sl(h[x]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=_[B]||[];_[B]=Y,Y.push(b)}St(_,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function ar(h){this.za=0,this.i=[],this.j=new te,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(h&&h.concurrentRequestLimit),this.Ba=new sr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ar.prototype,n.ka=8,n.I=1,n.connect=function(h,_,b,x){_e(0),this.W=h,this.H=_||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=Vc(this,null,this.W),ss(this)};function Ll(h){if(oo(h),h.I==3){var _=h.V++,b=Ve(h.J);if(ne(b,"SID",h.M),ne(b,"RID",_),ne(b,"TYPE","terminate"),ha(h,b),_=new Ai(h,h.j,_),_.M=2,_.A=ra(Ve(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.A,b=!0),b||(_.g=kc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xi(_)}Mc(h)}function or(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function oo(h){or(h),h.v&&(c.clearTimeout(h.v),h.v=null),uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ss(h){if(!Al(h.h)&&!h.m){h.m=!0;var _=h.Ea;ct||R(),ot||(ct(),ot=!0),C.add(_,h),h.D=0}}function lo(h,_){return Zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bt(g(h.Ea,h,_),Dc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Ai(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=k(Y),rt(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Rc(this,B,_),b=Ve(this.J),ne(b,"RID",h),ne(b,"CVER",22),this.G&&ne(b,"X-HTTP-Session-Id",this.G),ha(this,b),Y&&(this.R?_="headers="+an(ri(Y))+"&"+_:this.u&&la(b,this.u,Y)),Rl(this.h,B),this.Ra&&ne(b,"TYPE","init"),this.S?(ne(b,"$req",_),ne(b,"SID","null"),B.U=!0,Qi(B,b,null)):Qi(B,b,_),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||Al(this.h)||jl(this))};function jl(h,_){var b;_?b=_.l:b=h.V++;const x=Ve(h.J);ne(x,"SID",h.M),ne(x,"RID",b),ne(x,"AID",h.K),ha(h,x),h.u&&h.o&&la(x,h.u,h.o),b=new Ai(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Rc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rl(h.h,b),Qi(b,x,_)}function ha(h,_){h.H&&Et(h.H,function(b,x){ne(_,x,b)}),h.l&&Et({},function(b,x){ne(_,x,b)})}function Rc(h,_,b){b=Math.min(h.i.length,b);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Mt=-1;for(;;){const Ae=["count="+b];Mt==-1?b>0?(Mt=B[0].g,Ae.push("ofs="+Mt)):Mt=0:Ae.push("ofs="+Mt);let $t=!0;for(let ge=0;ge<b;ge++){var Y=B[ge].g;const ai=B[ge].map;if(Y-=Mt,Y<0)Mt=Math.max(0,B[ge].g-100),$t=!1;else try{Y="req"+Y+"_"||"";try{var lt=ai instanceof Map?ai:Object.entries(ai);for(const[as,Di]of lt){let Mi=Di;m(Di)&&(Mi=wi(Di)),Ae.push(Y+as+"="+encodeURIComponent(Mi))}}catch(as){throw Ae.push(Y+"type="+encodeURIComponent("_badmap")),as}}catch{x&&x(ai)}}if($t){lt=Ae.join("&");break t}}lt=void 0}return h=h.i.splice(0,b),_.G=h,lt}function Cc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ct||R(),ot||(ct(),ot=!0),C.add(_,h),h.A=0}}function fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bt(g(h.Da,h),Dc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bt(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),or(this),Ic(this))};function Ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ic(h){h.g=new Ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ve(h.na);ne(_,"RID","rpc"),ne(_,"SID",h.M),ne(_,"AID",h.K),ne(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ne(_,"TO",h.ia),ne(_,"TYPE","xmlhttp"),ha(h,_),h.u&&h.o&&la(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=ra(Ve(_)),b.u=null,b.R=!0,to(b,h)}n.Va=function(){this.C!=null&&(this.C=null,or(this),fa(this),_e(19))};function uo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Nc(h,_){var b=null;if(h.g==_){uo(h),Ul(h),h.g=null;var x=2}else if(Ji(h.h,_))b=_.G,Cl(h.h,_),x=1;else return;if(h.I!=0){if(_.o)if(x==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var B=h.D;x=Ki(),xe(x,new qn(x,b)),ss(h)}else Cc(h);else if(B=_.m,B==3||B==0&&_.X>0||!(x==1&&lo(h,_)||x==2&&fa(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),B){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function Dc(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function rs(h,_){if(h.j.info("Error code "+_),_==2){var b=g(h.bb,h),x=h.Ua;const B=!x;x=new Gn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xe(x,"https"),ra(x),B?Ci(x.toString(),b):kl(x.toString(),b)}else _e(2);h.I=0,h.l&&h.l.pa(_),Mc(h),oo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Mc(h){if(h.I=0,h.ja=[],h.l){const _=Il(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Vc(h,_,b){var x=b instanceof Gn?Ve(b):new Gn(b);if(x.g!="")_&&(x.g=_+"."+x.g),tr(x,x.u);else{var B=c.location;x=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const Y=new Gn(null);x&&Xe(Y,x),_&&(Y.g=_),B&&tr(Y,B),b&&(Y.h=b),x=Y}return b=h.G,_=h.wa,b&&_&&ne(x,b,_),ne(x,"VER",h.ka),ha(h,x),x}function kc(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new re(new es({ab:b})):new re(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}n=Oc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function lr(){}lr.prototype.g=function(h,_){return new xn(h,_)};function xn(h,_){Jt.call(this),this.g=new ar(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new As(this)}y(xn,Jt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Ll(this.g)},xn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=wi(h),h=b);_.i.push(new Me(_.Ya++,h)),_.I==3&&ss(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,xn.Z.N.call(this)};function Pc(h){qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const b in _){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}y(Pc,qe);function Lc(){wn.call(this),this.status=1}y(Lc,wn);function As(h){this.g=h}y(As,Oc),As.prototype.ra=function(){xe(this.g,"a")},As.prototype.qa=function(h){xe(this.g,new Pc(h))},As.prototype.pa=function(h){xe(this.g,new Lc)},As.prototype.oa=function(){xe(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Kw=function(){return new lr},Gw=function(){return Ki()},Fw=pe,Qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,nf=ni,sn.COMPLETE="complete",qw=sn,xi.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Au=xi,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,Hw=re}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const AT="@firebase/firestore",RT="4.9.2";class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let gl="12.3.0";const Ka=new Lg("@firebase/firestore");function Bo(){return Ka.logLevel}function pt(n,...t){if(Ka.logLevel<=zt.DEBUG){const e=t.map($g);Ka.debug(`Firestore (${gl}): ${n}`,...e)}}function Ys(n,...t){if(Ka.logLevel<=zt.ERROR){const e=t.map($g);Ka.error(`Firestore (${gl}): ${n}`,...e)}}function sl(n,...t){if(Ka.logLevel<=zt.WARN){const e=t.map($g);Ka.warn(`Firestore (${gl}): ${n}`,...e)}}function $g(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function xt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Yw(n,r,e)}function Yw(n,t,e){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ys(r),new Error(r)}function ee(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||Yw(t,o,r)}function Dt(n,t){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Ws{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ua{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Qw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_n.UNAUTHENTICATED)))}shutdown(){}}class EM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class wM{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ee(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ua,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ua)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string",31837,{l:r}),new Qw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class SM{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xM{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new SM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ee(this.o===void 0,3512);const r=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ee(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new CT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Wg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=RM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Bt(n,t){return n<t?-1:n>t?1:0}function Xp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return yp(o)===yp(u)?Bt(o,u):yp(o)?1:-1}return Bt(n.length,t.length)}const CM=55296,IM=57343;function yp(n){const t=n.charCodeAt(0);return t>=CM&&t<=IM}function rl(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const IT="__name__";class fs{constructor(t,e,r){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&xt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return fs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof fs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=fs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Bt(t.length,e.length)}static compareSegments(t,e){const r=fs.isNumericId(t),o=fs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?fs.extractNumericId(t).compare(fs.extractNumericId(e)):Xp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class ce extends fs{construct(t,e,r){return new ce(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ce(e)}static emptyPath(){return new ce([])}}const NM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends fs{construct(t,e,r){return new mn(t,e,r)}static isValidIdentifier(t){return NM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new mn([IT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new dt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new dt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(e)}static emptyPath(){return new mn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ce.fromString(t))}static fromName(t){return new _t(ce.fromString(t).popFirst(5))}static empty(){return new _t(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ce(t.slice()))}}function Xw(n,t,e){if(!e)throw new dt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DM(n,t,e,r){if(t===!0&&r===!0)throw new dt(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function NT(n){if(!_t.isDocumentKey(n))throw new dt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(_t.isDocumentKey(n))throw new dt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function Br(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qf(n);throw new dt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function lc(n,t){if(!$w(n))throw new dt(nt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new dt(nt.INVALID_ARGUMENT,e);return!0}const MT=-62135596800,VT=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*VT);return new me(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<MT)throw new dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lc(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-MT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Be("string",me._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new me(0,0))}static max(){return new Ct(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qu=-1;function MM(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(r===1e9?new me(e+1,0):new me(e,r));return new Fr(o,_t.empty(),t)}function VM(n){return new Fr(n.readTime,n.key,qu)}class Fr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Fr(Ct.min(),_t.empty(),qu)}static max(){return new Fr(Ct.max(),_t.empty(),qu)}}function kM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:Bt(n.largestBatchId,t.largestBatchId))}const OM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yl(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==OM)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,r)=>{e(t)}))}static reject(t){return new st(((e,r)=>{r(t)}))}static waitFor(t){return new st(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=st.resolve(!1);for(const r of t)e=e.next((o=>o?st.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new st(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new st(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function LM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vl(n){return n.name==="IndexedDbTransactionError"}class Ff{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ff.ce=-1;const Zg=-1;function Gf(n){return n==null}function wf(n){return n===0&&1/n==-1/0}function jM(n){return typeof n=="number"&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ww="";function UM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kT(t)),t=zM(n.get(e),t);return kT(t)}function zM(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Ww:e+="";break;default:e+=u}}return e}function kT(n){return n+Ww+""}function OT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Zr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Zw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class be{constructor(t,e){this.comparator=t,this.root=e||dn.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new dn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new dn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(t){return new PT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ke(this.comparator);return e.data=t,e}}class PT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Jn([])}unionWith(t){let e=new Ke(mn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rl(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Jw("Invalid base64 string: "+u):u}})(t);return new pn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new pn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const BM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(n){if(ee(!!n,39018),typeof n=="string"){let t=0;const e=BM.exec(n);if(ee(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(n.seconds),nanos:Ie(n.nanos)}}function Ie(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kr(n){return typeof n=="string"?pn.fromBase64String(n):pn.fromUint8Array(n)}const tS="server_timestamp",eS="__type__",nS="__previous_value__",iS="__local_write_time__";function Jg(n){return(n?.mapValue?.fields||{})[eS]?.stringValue===tS}function Kf(n){const t=n.mapValue.fields[nS];return Jg(t)?Kf(t):t}function Fu(n){const t=Gr(n.mapValue.fields[iS].timestampValue);return new me(t.seconds,t.nanos)}class HM{constructor(t,e,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Sf="(default)";class Gu{constructor(t,e){this.projectId=t,this.database=e||Sf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(t){return t instanceof Gu&&t.projectId===this.projectId&&t.database===this.database}}const sS="__type__",qM="__max__",Fh={mapValue:{}},rS="__vector__",xf="value";function Yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:GM(n)?9007199254740991:FM(n)?10:11:xt(28295,{value:n})}function bs(n,t){if(n===t)return!0;const e=Yr(n);if(e!==Yr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fu(n).isEqual(Fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Gr(o.timestampValue),m=Gr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ie(o.geoPointValue.latitude)===Ie(u.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ie(o.integerValue)===Ie(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ie(o.doubleValue),m=Ie(u.doubleValue);return c===m?wf(c)===wf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return rl(n.arrayValue.values||[],t.arrayValue.values||[],bs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(OT(c)!==OT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!bs(c[p],m[p])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Ku(n,t){return(n.values||[]).find((e=>bs(e,t)))!==void 0}function al(n,t){if(n===t)return 0;const e=Yr(n),r=Yr(t);if(e!==r)return Bt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ie(u.integerValue||u.doubleValue),p=Ie(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return LT(n.timestampValue,t.timestampValue);case 4:return LT(Fu(n),Fu(t));case 5:return Xp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=Kr(u),p=Kr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Bt(m[g],p[g]);if(v!==0)return v}return Bt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Bt(Ie(u.latitude),Ie(c.latitude));return m!==0?m:Bt(Ie(u.longitude),Ie(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return jT(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[xf]?.arrayValue,v=p[xf]?.arrayValue,y=Bt(g?.values?.length||0,v?.values?.length||0);return y!==0?y:jT(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Fh.mapValue&&c===Fh.mapValue)return 0;if(u===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let y=0;y<p.length&&y<v.length;++y){const E=Xp(p[y],v[y]);if(E!==0)return E;const A=al(m[p[y]],g[v[y]]);if(A!==0)return A}return Bt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function LT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Bt(n,t);const e=Gr(n),r=Gr(t),o=Bt(e.seconds,r.seconds);return o!==0?o:Bt(e.nanos,r.nanos)}function jT(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=al(e[o],r[o]);if(u)return u}return Bt(e.length,r.length)}function ol(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Gr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Kr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return _t.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=$p(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${$p(e.fields[c])}`;return o+"}"})(n.mapValue):xt(61005,{value:n})}function sf(n){switch(Yr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kf(n);return t?16+sf(t):16;case 5:return 2*n.stringValue.length;case 6:return Kr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+sf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Zr(r.fields,((u,c)=>{o+=u.length+sf(c)})),o})(n.mapValue);default:throw xt(13486,{value:n})}}function UT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Wp(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function zT(n){return!!n&&"nullValue"in n}function BT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rf(n){return!!n&&"mapValue"in n}function FM(n){return(n?.mapValue?.fields||{})[sS]?.stringValue===rS}function Vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Zr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Vu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Vu(n.arrayValue.values[e]);return t}return{...n}}function GM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qM}class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!rf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vu(e)}setAll(t){let e=mn.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=Vu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());rf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return bs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Zr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new jn(Vu(this.value))}}function aS(n){const t=[];return Zr(n.fields,((e,r)=>{const o=new mn([e]);if(rf(r)){const u=aS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Jn(t)}class Tn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Tn(t,0,Ct.min(),Ct.min(),Ct.min(),jn.empty(),0)}static newFoundDocument(t,e,r,o){return new Tn(t,1,e,Ct.min(),r,o,0)}static newNoDocument(t,e){return new Tn(t,2,e,Ct.min(),Ct.min(),jn.empty(),0)}static newUnknownDocument(t,e){return new Tn(t,3,e,Ct.min(),Ct.min(),jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Af{constructor(t,e){this.position=t,this.inclusive=e}}function HT(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=_t.comparator(_t.fromName(c.referenceValue),e.key):r=al(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function qT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!bs(n.position[e],t.position[e]))return!1;return!0}class Yu{constructor(t,e="asc"){this.field=t,this.dir=e}}function KM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class oS{}class ze extends oS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new QM(t,e,r):e==="array-contains"?new WM(t,r):e==="in"?new ZM(t,r):e==="not-in"?new JM(t,r):e==="array-contains-any"?new tV(t,r):new ze(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new XM(t,r):new $M(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(al(e,this.value)):e!==null&&Yr(this.value)===Yr(e)&&this.matchesComparison(al(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends oS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Hi(t,e)}matches(t){return lS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lS(n){return n.op==="and"}function uS(n){return YM(n)&&lS(n)}function YM(n){for(const t of n.filters)if(t instanceof Hi)return!1;return!0}function Zp(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+ol(n.value);if(uS(n))return n.filters.map((t=>Zp(t))).join(",");{const t=n.filters.map((e=>Zp(e))).join(",");return`${n.op}(${t})`}}function cS(n,t){return n instanceof ze?(function(r,o){return o instanceof ze&&r.op===o.op&&r.field.isEqual(o.field)&&bs(r.value,o.value)})(n,t):n instanceof Hi?(function(r,o){return o instanceof Hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&cS(c,o.filters[m])),!0):!1})(n,t):void xt(19439)}function hS(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${ol(e.value)}`})(n):n instanceof Hi?(function(e){return e.op.toString()+" {"+e.getFilters().map(hS).join(" ,")+"}"})(n):"Filter"}class QM extends ze{constructor(t,e,r){super(t,e,r),this.key=_t.fromName(r.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class XM extends ze{constructor(t,e){super(t,"in",e),this.keys=fS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class $M extends ze{constructor(t,e){super(t,"not-in",e),this.keys=fS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function fS(n,t){return(t.arrayValue?.values||[]).map((e=>_t.fromName(e.referenceValue)))}class WM extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ty(e)&&Ku(e.arrayValue,this.value)}}class ZM extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ku(this.value.arrayValue,e)}}class JM extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ku(this.value.arrayValue,e)}}class tV extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ty(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Ku(this.value.arrayValue,r)))}}class eV{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function FT(n,t=null,e=[],r=[],o=null,u=null,c=null){return new eV(n,t,e,r,o,u,c)}function ey(n){const t=Dt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Zp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Gf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>ol(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>ol(r))).join(",")),t.Te=e}return t.Te}function ny(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!KM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!cS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!qT(n.startAt,t.startAt)&&qT(n.endAt,t.endAt)}function Jp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class _l{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nV(n,t,e,r,o,u,c,m){return new _l(n,t,e,r,o,u,c,m)}function iy(n){return new _l(n)}function GT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dS(n){return n.collectionGroup!==null}function ku(n){const t=Dt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ke(mn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Yu(u,r))})),e.has(mn.keyField().canonicalString())||t.Ie.push(new Yu(mn.keyField(),r))}return t.Ie}function ms(n){const t=Dt(n);return t.Ee||(t.Ee=iV(t,ku(n))),t.Ee}function iV(n,t){if(n.limitType==="F")return FT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Yu(o.field,u)}));const e=n.endAt?new Af(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Af(n.startAt.position,n.startAt.inclusive):null;return FT(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function tg(n,t){const e=n.filters.concat([t]);return new _l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function eg(n,t,e){return new _l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Yf(n,t){return ny(ms(n),ms(t))&&n.limitType===t.limitType}function mS(n){return`${ey(ms(n))}|lt:${n.limitType}`}function Ho(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>hS(o))).join(", ")}]`),Gf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>ol(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>ol(o))).join(",")),`Target(${r})`})(ms(n))}; limitType=${n.limitType})`}function Qf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_t.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of ku(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=HT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,ku(r),o)||r.endAt&&!(function(c,m,p){const g=HT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,ku(r),o))})(n,t)}function sV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pS(n){return(t,e)=>{let r=!1;for(const o of ku(n)){const u=rV(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rV(n,t,e){const r=n.field.isKeyField()?_t.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?al(p,g):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:n.dir})}}class $a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Zw(this.inner)}size(){return this.innerSize}}const aV=new be(_t.comparator);function Qs(){return aV}const gS=new be(_t.comparator);function Ru(...n){let t=gS;for(const e of n)t=t.insert(e.key,e);return t}function yS(n){let t=gS;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Oa(){return Ou()}function vS(){return Ou()}function Ou(){return new $a((n=>n.toString()),((n,t)=>n.isEqual(t)))}const oV=new be(_t.comparator),lV=new Ke(_t.comparator);function Ht(...n){let t=lV;for(const e of n)t=t.add(e);return t}const uV=new Ke(Bt);function cV(){return uV}function sy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function _S(n){return{integerValue:""+n}}function hV(n,t){return jM(t)?_S(t):sy(n,t)}class Xf{constructor(){this._=void 0}}function fV(n,t,e){return n instanceof Qu?(function(o,u){const c={fields:{[eS]:{stringValue:tS},[iS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jg(u)&&(u=Kf(u)),u&&(c.fields[nS]=u),{mapValue:c}})(e,t):n instanceof Xu?bS(n,t):n instanceof $u?ES(n,t):(function(o,u){const c=TS(o,u),m=KT(c)+KT(o.Ae);return Wp(c)&&Wp(o.Ae)?_S(m):sy(o.serializer,m)})(n,t)}function dV(n,t,e){return n instanceof Xu?bS(n,t):n instanceof $u?ES(n,t):e}function TS(n,t){return n instanceof Rf?(function(r){return Wp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Qu extends Xf{}class Xu extends Xf{constructor(t){super(),this.elements=t}}function bS(n,t){const e=wS(t);for(const r of n.elements)e.some((o=>bs(o,r)))||e.push(r);return{arrayValue:{values:e}}}class $u extends Xf{constructor(t){super(),this.elements=t}}function ES(n,t){let e=wS(t);for(const r of n.elements)e=e.filter((o=>!bs(o,r)));return{arrayValue:{values:e}}}class Rf extends Xf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function KT(n){return Ie(n.integerValue||n.doubleValue)}function wS(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mV{constructor(t,e){this.field=t,this.transform=e}}function pV(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Xu&&o instanceof Xu||r instanceof $u&&o instanceof $u?rl(r.elements,o.elements,bs):r instanceof Rf&&o instanceof Rf?bs(r.Ae,o.Ae):r instanceof Qu&&o instanceof Qu})(n.transform,t.transform)}class gV{constructor(t,e){this.version=t,this.transformResults=e}}class Bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class $f{}function SS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ry(n.key,Bi.none()):new uc(n.key,n.data,Bi.none());{const e=n.data,r=jn.empty();let o=new Ke(mn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Jr(n.key,r,new Jn(o.toArray()),Bi.none())}}function yV(n,t,e){n instanceof uc?(function(o,u,c){const m=o.value.clone(),p=QT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof Jr?(function(o,u,c){if(!af(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=QT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(xS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Pu(n,t,e,r){return n instanceof uc?(function(u,c,m,p){if(!af(u.precondition,c))return m;const g=u.value.clone(),v=XT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof Jr?(function(u,c,m,p){if(!af(u.precondition,c))return m;const g=XT(u.fieldTransforms,p,c),v=c.data;return v.setAll(xS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((y=>y.field)))})(n,t,e,r):(function(u,c,m){return af(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function vV(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=TS(r.transform,o||null);u!=null&&(e===null&&(e=jn.empty()),e.set(r.field,u))}return e||null}function YT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&rl(r,o,((u,c)=>pV(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class uc extends $f{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends $f{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function QT(n,t,e){const r=new Map;ee(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,dV(c,m,e[o]))}return r}function XT(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,fV(u,c,t))}return r}class ry extends $f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _V extends $f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TV{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yV(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Pu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Pu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=vS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=SS(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&rl(this.mutations,t.mutations,((e,r)=>YT(e,r)))&&rl(this.baseMutations,t.baseMutations,((e,r)=>YT(e,r)))}}class ay{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ee(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oV})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new ay(t,e,r,o)}}class bV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EV{constructor(t,e){this.count=t,this.unchangedNames=e}}var je,Gt;function wV(n){switch(n){case nt.OK:return xt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function AS(n){if(n===void 0)return Ys("GRPC error has no .code"),nt.UNKNOWN;switch(n){case je.OK:return nt.OK;case je.CANCELLED:return nt.CANCELLED;case je.UNKNOWN:return nt.UNKNOWN;case je.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case je.INTERNAL:return nt.INTERNAL;case je.UNAVAILABLE:return nt.UNAVAILABLE;case je.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case je.NOT_FOUND:return nt.NOT_FOUND;case je.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case je.ABORTED:return nt.ABORTED;case je.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case je.DATA_LOSS:return nt.DATA_LOSS;default:return xt(39323,{code:n})}}(Gt=je||(je={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function SV(){return new TextEncoder}const xV=new zr([4294967295,4294967295],0);function $T(n){const t=SV().encode(n),e=new Bw;return e.update(t),new Uint8Array(e.digest())}function WT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new zr([e,r],0),new zr([o,u],0)]}class oy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Cu(`Invalid padding: ${e}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=zr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(zr.fromNumber(r)));return o.compare(xV)===1&&(o=new zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=$T(t),[r,o]=WT(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new oy(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=$T(t),[r,o]=WT(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,cc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Wf(Ct.min(),o,new be(Bt),Qs(),Ht())}}class cc{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new cc(r,e,Ht(),Ht(),Ht())}}class of{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class RS{constructor(t,e){this.targetId=t,this.Ce=e}}class CS{constructor(t,e,r=pn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class ZT{constructor(){this.ve=0,this.Fe=JT(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),r=Ht();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:xt(38017,{changeType:u})}})),new cc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=JT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AV{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qs(),this.Je=Gh(),this.He=Gh(),this.Ye=new be(Bt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Jp(u))if(r===0){const c=new _t(u.path);this.et(e,c,Tn.newNoDocument(c,Ct.min()))}else ee(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Kr(r).toUint8Array()}catch(p){if(p instanceof Jw)return sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new oy(c,o,u)}catch(p){return sl(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Jp(m.target)){const p=new _t(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Ht();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Wf(t,e,this.Ye,this.je,r);return this.je=Qs(),this.Je=Gh(),this.He=Gh(),this.Ye=new be(Bt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new ZT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ke(Bt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ke(Bt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ZT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Gh(){return new be(_t.comparator)}function JT(){return new be(_t.comparator)}const RV={asc:"ASCENDING",desc:"DESCENDING"},CV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IV={and:"AND",or:"OR"};class NV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ng(n,t){return n.useProto3Json||Gf(t)?t:{value:t}}function Cf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function DV(n,t){return Cf(n,t.toTimestamp())}function ps(n){return ee(!!n,49232),Ct.fromTimestamp((function(e){const r=Gr(e);return new me(r.seconds,r.nanos)})(n))}function ly(n,t){return ig(n,t).canonicalString()}function ig(n,t){const e=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function NS(n){const t=ce.fromString(n);return ee(OS(t),10190,{key:t.toString()}),t}function sg(n,t){return ly(n.databaseId,t.path)}function vp(n,t){const e=NS(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(MS(e))}function DS(n,t){return ly(n.databaseId,t)}function MV(n){const t=NS(n);return t.length===4?ce.emptyPath():MS(t)}function rg(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MS(n){return ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tb(n,t,e){return{name:sg(n,t),fields:e.value.mapValue.fields}}function VV(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ee(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(ee(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?nt.UNKNOWN:AS(g.code);return new dt(v,g.message||"")})(c);e=new CS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=vp(n,r.document.name),u=ps(r.document.updateTime),c=r.document.createTime?ps(r.document.createTime):Ct.min(),m=new jn({mapValue:{fields:r.document.fields}}),p=Tn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];e=new of(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=vp(n,r.document),u=r.readTime?ps(r.readTime):Ct.min(),c=Tn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new of([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=vp(n,r.document),u=r.removedTargetIds||[];e=new of([],u,o,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new EV(o,u),m=r.targetId;e=new RS(m,c)}}return e}function kV(n,t){let e;if(t instanceof uc)e={update:tb(n,t.key,t.value)};else if(t instanceof ry)e={delete:sg(n,t.key)};else if(t instanceof Jr)e={update:tb(n,t.key,t.data),updateMask:qV(t.fieldMask)};else{if(!(t instanceof _V))return xt(16599,{Vt:t.type});e={verify:sg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw xt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DV(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)})(n,t.precondition)),e}function OV(n,t){return n&&n.length>0?(ee(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?ps(o.updateTime):ps(u);return c.isEqual(Ct.min())&&(c=ps(u)),new gV(c,o.transformResults||[])})(e,t)))):[]}function PV(n,t){return{documents:[DS(n,t.path)]}}function LV(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=DS(n,o);const u=(function(g){if(g.length!==0)return kS(Hi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:qo(E.field),direction:zV(E.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=ng(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function jV(n){let t=MV(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ee(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(y){const E=VS(y);return E instanceof Hi&&uS(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(y){return y.map((E=>(function(D){return new Yu(Fo(D.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let m=null;e.limit&&(m=(function(y){let E;return E=typeof y=="object"?y.value:y,Gf(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(y){const E=!!y.before,A=y.values||[];return new Af(A,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(y){const E=!y.before,A=y.values||[];return new Af(A,E)})(e.endAt)),nV(t,o,c,u,m,"F",p,g)}function UV(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function VS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Fo(e.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(e.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fo(e.unaryFilter.field);return ze.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fo(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(Fo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Hi.create(e.compositeFilter.filters.map((r=>VS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function zV(n){return RV[n]}function BV(n){return CV[n]}function HV(n){return IV[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return mn.fromServerFormat(n.fieldPath)}function kS(n){return n instanceof ze?(function(e){if(e.op==="=="){if(BT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NAN"}};if(zT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(BT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NAN"}};if(zT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(e.field),op:BV(e.op),value:e.value}}})(n):n instanceof Hi?(function(e){const r=e.getFilters().map((o=>kS(o)));return r.length===1?r[0]:{compositeFilter:{op:HV(e.op),filters:r}}})(n):xt(54877,{filter:n})}function qV(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function OS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Pr{constructor(t,e,r,o,u=Ct.min(),c=Ct.min(),m=pn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FV{constructor(t){this.yt=t}}function GV(n){const t=jV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eg(t,t.limit,"L"):t}class KV{constructor(){this.Cn=new YV}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Fr.min())}updateCollectionGroup(t,e,r){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class YV{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ke(ce.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ke(ce.comparator)).toArray()}}const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(PS,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class ll{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const nb="LruGarbageCollector",QV=1048576;function ib([n,t],[e,r]){const o=Bt(n,e);return o===0?Bt(t,r):o}class XV{constructor(t){this.Ir=t,this.buffer=new Ke(ib),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();ib(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $V{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(nb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vl(e)?pt(nb,"Ignoring IndexedDB error during garbage collection: ",e):await yl(e)}await this.Vr(3e5)}))}}class WV{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Ff.ce);const r=new XV(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(eb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,c=Date.now(),this.nthSequenceNumber(t,o)))).next((y=>(r=y,m=Date.now(),this.removeTargets(t,r,e)))).next((y=>(u=y,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((y=>(g=Date.now(),Bo()<=zt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${y} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y}))))}}function ZV(n,t){return new WV(n,t)}class JV{constructor(){this.changes=new $a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?st.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class t4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class e4{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Pu(r.mutation,o,Jn.empty(),me.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ht()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ht()){const o=Oa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=Ru();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Oa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ht())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Qs();const c=Ou(),m=(function(){return Ou()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Jr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Pu(v.mutation,g,v.mutation.getFieldMask(),me.now())):c.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>m.set(g,new t4(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Ou();let o=new be(((c,m)=>c-m)),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Jn.empty();v=m.applyToLocalView(g,v),r.set(p,v);const y=(o.get(m.batchId)||Ht()).add(p);o=o.insert(m.batchId,y)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,y=vS();v.forEach((E=>{if(!u.has(E)){const A=SS(e.get(E),r.get(E));A!==null&&y.set(E,A),u=u.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,y))}return st.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):dS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):st.resolve(Oa());let m=qu,p=u;return c.next((g=>st.forEach(g,((v,y)=>(m<y.largestBatchId&&(m=y.largestBatchId),u.get(v)?st.resolve():this.remoteDocumentCache.getEntry(t,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ht()))).next((v=>({batchId:m,changes:yS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next((r=>{let o=Ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(y,E){return new _l(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((y,E)=>{c=c.insert(y,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Tn.newInvalidDocument(v)))}));let m=Ru();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Pu(v.mutation,g,Jn.empty(),me.now()),Qf(e,g)&&(m=m.insert(p,g))})),m}))}}class n4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ps(o.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:GV(o.bundledQuery),readTime:ps(o.readTime)}})(e)),st.resolve()}}class i4{constructor(){this.overlays=new be(_t.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Oa();return st.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),st.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),st.resolve()}getOverlaysForCollection(t,e,r){const o=Oa(),u=e.length+1,c=new _t(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new be(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Oa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return st.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bV(e,r));let u=this.qr.get(e);u===void 0&&(u=Ht(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class s4{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class uy{constructor(){this.Qr=new Ke(We.$r),this.Ur=new Ke(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new We(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new We(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new _t(new ce([])),r=new We(e,t),o=new We(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new _t(new ce([])),r=new We(e,t),o=new We(e,t+1);let u=Ht();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new We(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return _t.comparator(t.key,e.key)||Bt(t.Yr,e.Yr)}static Kr(t,e){return Bt(t.Yr,e.Yr)||_t.comparator(t.key,e.key)}}class r4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(We.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TV(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new We(e,0),o=new We(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ke(Bt);return e.forEach((o=>{const u=new We(o,0),c=new We(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),st.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;_t.isDocumentKey(u)||(u=u.child(""));const c=new We(new _t(u),0);let m=new Ke(Bt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),st.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ee(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return st.forEach(e.mutations,(o=>{const u=new We(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new We(e,0),o=this.Zr.firstAfterOrEqual(r);return st.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class a4{constructor(t){this.ri=t,this.docs=(function(){return new be(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return st.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(e))}getEntries(t,e){let r=Qs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Qs();const c=e.path,m=new _t(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kM(VM(v),r)<=0||(o.has(v.key)||Qf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,e,r,o){xt(9500)}ii(t,e){return st.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new o4(this)}getSize(t){return st.resolve(this.size)}}class o4 extends JV{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class l4{constructor(t){this.persistence=t,this.si=new $a((e=>ey(e)),ny),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new uy,this.targetCount=0,this.ai=ll.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ll(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return st.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),st.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return st.resolve(r)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}class LS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new s4,this.referenceDelegate=t(this),this.Pi=new l4(this),this.indexManager=new KV,this.remoteDocumentCache=(function(o){return new a4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new FV(e),this.Ii=new n4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new i4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new r4(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){pt("MemoryPersistence","Starting transaction:",t);const o=new u4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return st.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class u4 extends PM{constructor(t){super(),this.currentSequenceNumber=t}}class cy{constructor(t){this.persistence=t,this.Ri=new uy,this.Vi=null}static mi(t){return new cy(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),st.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(r=>{const o=_t.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class If{constructor(t,e){this.persistence=t,this.pi=new $a((r=>UM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ZV(this,e)}static mi(t,e){return new If(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?st.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,Ct.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sf(t.data.value)),e}br(t,e,r){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Ht(),o=Ht();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hy(t,e.fromCache,r,o)}}class c4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class h4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tI()?8:LM(En())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new c4;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Bo()<=zt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Bo()<=zt.DEBUG&&pt("QueryEngine","Query:",Ho(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Bo()<=zt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ms(e))):st.resolve())}ys(t,e){if(GT(e))return st.resolve(null);let r=ms(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=eg(e,null,"F"),r=ms(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ht(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,eg(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return GT(e)||o.isEqual(Ct.min())?st.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?st.resolve(null):(Bo()<=zt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ho(e)),this.vs(t,c,e,MM(o,qu)).next((m=>m)))}))}Ds(t,e){let r=new Ke(pS(t));return e.forEach(((o,u)=>{Qf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Bo()<=zt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ho(e)),this.ps.getDocumentsMatchingQuery(t,e,Fr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const fy="LocalStore",f4=3e8;class d4{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new be(Bt),this.xs=new $a((u=>ey(u)),ny),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function m4(n,t,e,r){return new d4(n,t,e,r)}async function jS(n,t){const e=Dt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ht();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function p4(n,t){const e=Dt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const y=g.batch,E=y.keys();let A=st.resolve();return E.forEach((D=>{A=A.next((()=>v.getEntry(p,D))).next((U=>{const H=g.docVersions.get(D);ee(H!==null,48541),U.version.compareTo(H)<0&&(y.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),A.next((()=>m.mutationQueue.removeMutationBatch(p,y)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ht();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function US(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function g4(n,t){const e=Dt(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((v,y)=>{const E=o.get(y);if(!E)return;m.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,y))));let A=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(y)!==null?A=A.withResumeToken(pn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(y,A),(function(U,H,G){return U.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=f4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(E,A,v)&&m.push(e.Pi.updateTargetData(u,A))}));let p=Qs(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(y4(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(Ct.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((y=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return st.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function y4(n,t,e){let r=Ht(),o=Ht();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Qs();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):pt(fy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function v4(n,t){const e=Dt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function _4(n,t){const e=Dt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,st.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Pr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function ag(n,t,e){const r=Dt(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!vl(c))throw c;pt(fy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function sb(n,t,e){const r=Dt(n);let o=Ct.min(),u=Ht();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const y=Dt(p),E=y.xs.get(v);return E!==void 0?st.resolve(y.Ms.get(E)):y.Pi.getTargetData(g,v)})(r,c,ms(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Ct.min(),e?u:Ht()))).next((m=>(T4(r,sV(t),m),{documents:m,Qs:u})))))}function T4(n,t,e){let r=n.Os.get(t)||Ct.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class rb{constructor(){this.activeTargetIds=cV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class b4{constructor(){this.Mo=new rb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class E4{Oo(t){}shutdown(){}}const ab="ConnectivityMonitor";class ob{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(ab,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(ab,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function og(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const _p="RestConnection",w4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=og(),m=this.zo(t,e.toUriEncodedString());pt(_p,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=dl(g);return this.Jo(t,m,p,r,v).then((y=>(pt(_p,`Received RPC '${t}' ${c}: `,y),y)),(y=>{throw sl(_p,`RPC '${t}' ${c} failed with error: `,y,"url: ",m,"request:",r),y}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=w4[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class x4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const vn="WebChannelConnection";class A4 extends S4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=og();return new Promise(((m,p)=>{const g=new Hw;g.setWithCredentials(!0),g.listenOnce(qw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case nf.NO_ERROR:const y=g.getResponseJson();pt(vn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),m(y);break;case nf.TIMEOUT:pt(vn,`RPC '${t}' ${c} timed out`),p(new dt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const E=g.getStatus();if(pt(vn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const U=(function(G){const J=G.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(J)>=0?J:nt.UNKNOWN})(D.status);p(new dt(U,D.message))}else p(new dt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new dt(nt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(vn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);pt(vn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=og(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Kw(),m=Gw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=u.join("");pt(vn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const y=c.createWebChannel(v,p);this.I_(y);let E=!1,A=!1;const D=new x4({Yo:H=>{A?pt(vn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(E||(pt(vn,`Opening RPC '${t}' stream ${o} transport.`),y.open(),E=!0),pt(vn,`RPC '${t}' stream ${o} sending:`,H),y.send(H))},Zo:()=>y.close()}),U=(H,G,J)=>{H.listen(G,(X=>{try{J(X)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return U(y,Au.EventType.OPEN,(()=>{A||(pt(vn,`RPC '${t}' stream ${o} transport opened.`),D.o_())})),U(y,Au.EventType.CLOSE,(()=>{A||(A=!0,pt(vn,`RPC '${t}' stream ${o} transport closed`),D.a_(),this.E_(y))})),U(y,Au.EventType.ERROR,(H=>{A||(A=!0,sl(vn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),D.a_(new dt(nt.UNAVAILABLE,"The operation could not be completed")))})),U(y,Au.EventType.MESSAGE,(H=>{if(!A){const G=H.data[0];ee(!!G,16349);const J=G,X=J?.error||J[0]?.error;if(X){pt(vn,`RPC '${t}' stream ${o} received error:`,X);const ft=X.status;let ct=(function(R){const I=je[R];if(I!==void 0)return AS(I)})(ft),ot=X.message;ct===void 0&&(ct=nt.INTERNAL,ot="Unknown error status: "+ft+" with message "+X.message),A=!0,D.a_(new dt(ct,ot)),y.close()}else pt(vn,`RPC '${t}' stream ${o} received:`,G),D.u_(G)}})),U(m,Fw.STAT_EVENT,(H=>{H.stat===Qp.PROXY?pt(vn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Qp.NOPROXY&&pt(vn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Tp(){return typeof document<"u"?document:null}function Zf(n){return new NV(n,!0)}class zS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lb="PersistentStream";class BS{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(Ys(e.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new dt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(lb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pt(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R4 extends BS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=VV(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?ps(c.readTime):Ct.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=rg(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=Jp(p)?{documents:PV(u,p)}:{query:LV(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=IS(u,c.resumeToken);const g=ng(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Cf(u,c.snapshotVersion.toTimestamp());const g=ng(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=UV(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=rg(this.serializer),e.removeTarget=t,this.q_(e)}}class C4 extends BS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=OV(t.writeResults,t.commitTime),r=ps(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=rg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>kV(this.serializer,r)))};this.q_(e)}}class I4{}class N4 extends I4{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,ig(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(nt.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,ig(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class M4{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Wa(this)&&(pt(Ya,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Jf(g)})(this))}))})),this.Ra=new D4(r,o)}}async function Jf(n){if(Wa(n))for(const t of n.da)await t(!0)}async function hc(n){for(const t of n.da)await t(!1)}function HS(n,t){const e=Dt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),gy(e)?py(e):Tl(e).O_()&&my(e,t))}function dy(n,t){const e=Dt(n),r=Tl(e);e.Ia.delete(t),r.O_()&&qS(e,t),e.Ia.size===0&&(r.O_()?r.L_():Wa(e)&&e.Ra.set("Unknown"))}function my(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Tl(n).Y_(t)}function qS(n,t){n.Va.Ue(t),Tl(n).Z_(t)}function py(n){n.Va=new AV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Ra.ua()}function gy(n){return Wa(n)&&!Tl(n).x_()&&n.Ia.size>0}function Wa(n){return Dt(n).Ea.size===0}function FS(n){n.Va=void 0}async function V4(n){n.Ra.set("Online")}async function k4(n){n.Ia.forEach(((t,e)=>{my(n,t)}))}async function O4(n,t){FS(n),gy(n)?(n.Ra.ha(t),py(n)):n.Ra.set("Unknown")}async function P4(n,t,e){if(n.Ra.set("Online"),t instanceof CS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(n,t)}catch(r){pt(Ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Nf(n,r)}else if(t instanceof of?n.Va.Ze(t):t instanceof RS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ct.min()))try{const r=await US(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),qS(u,p);const y=new Pr(v.target,p,g,v.sequenceNumber);my(u,y)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){pt(Ya,"Failed to raise snapshot:",r),await Nf(n,r)}}async function Nf(n,t,e){if(!vl(t))throw t;n.Ea.add(1),await hc(n),n.Ra.set("Offline"),e||(e=()=>US(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(Ya,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Jf(n)}))}function GS(n,t){return t().catch((e=>Nf(n,e,t)))}async function td(n){const t=Dt(n),e=Qr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zg;for(;L4(t);)try{const o=await v4(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,j4(t,o)}catch(o){await Nf(t,o)}KS(t)&&YS(t)}function L4(n){return Wa(n)&&n.Ta.length<10}function j4(n,t){n.Ta.push(t);const e=Qr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function KS(n){return Wa(n)&&!Qr(n).x_()&&n.Ta.length>0}function YS(n){Qr(n).start()}async function U4(n){Qr(n).ra()}async function z4(n){const t=Qr(n);for(const e of n.Ta)t.ea(e.mutations)}async function B4(n,t,e){const r=n.Ta.shift(),o=ay.from(r,t,e);await GS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await td(n)}async function H4(n,t){t&&Qr(n).X_&&await(async function(r,o){if((function(c){return wV(c)&&c!==nt.ABORTED})(o.code)){const u=r.Ta.shift();Qr(r).B_(),await GS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await td(r)}})(n,t),KS(n)&&YS(n)}async function ub(n,t){const e=Dt(n);e.asyncQueue.verifyOperationInProgress(),pt(Ya,"RemoteStore received new credentials");const r=Wa(e);e.Ea.add(3),await hc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Jf(e)}async function q4(n,t){const e=Dt(n);t?(e.Ea.delete(2),await Jf(e)):t||(e.Ea.add(2),await hc(e),e.Ra.set("Unknown"))}function Tl(n){return n.ma||(n.ma=(function(e,r,o){const u=Dt(e);return u.sa(),new R4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:V4.bind(null,n),t_:k4.bind(null,n),r_:O4.bind(null,n),H_:P4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),gy(n)?py(n):n.Ra.set("Unknown")):(await n.ma.stop(),FS(n))}))),n.ma}function Qr(n){return n.fa||(n.fa=(function(e,r,o){const u=Dt(e);return u.sa(),new C4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:U4.bind(null,n),r_:H4.bind(null,n),ta:z4.bind(null,n),na:B4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await td(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(Ya,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class yy{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new yy(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,t){if(Ys("AsyncQueue",`${t}: ${n}`),vl(n))return new dt(nt.UNAVAILABLE,`${t}: ${n}`);throw n}class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||_t.comparator(e.key,r.key):(e,r)=>_t.comparator(e.key,r.key),this.keyedMap=Ru(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class cb{constructor(){this.ga=new be(_t.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ul{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new ul(t,e,Jo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class F4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class G4{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Dt(e),u=o.queries;o.queries=hb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new dt(nt.ABORTED,"Firestore shutting down"))}}function hb(){return new $a((n=>mS(n)),Yf)}async function K4(n,t){const e=Dt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new F4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=vy(c,`Initialization of query '${Ho(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&_y(e)}async function Y4(n,t){const e=Dt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Q4(n,t){const e=Dt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&_y(e)}function X4(n,t,e){const r=Dt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function _y(n){n.Ca.forEach((t=>{t.next()}))}var lg,fb;(fb=lg||(lg={})).Ma="default",fb.Cache="cache";class $4{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ul(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lg.Cache}}class QS{constructor(t){this.key=t}}class XS{constructor(t){this.key=t}}class W4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=pS(t),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new cb,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,y)=>{const E=o.get(v),A=Qf(this.query,y)?y:null,D=!!E&&this.mutatedKeys.has(E.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let H=!1;E&&A?E.data.isEqual(A.data)?D!==U&&(r.track({type:3,doc:A}),H=!0):this.su(E,A)||(r.track({type:2,doc:A}),H=!0,(p&&this.eu(A,p)>0||g&&this.eu(A,g)<0)&&(m=!0)):!E&&A?(r.track({type:0,doc:A}),H=!0):E&&!A&&(r.track({type:1,doc:E}),H=!0,(p||g)&&(m=!0)),H&&(A?(c=c.add(A),u=U?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,y)=>(function(A,D){const U=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:H})}};return U(A)-U(D)})(v.type,y.type)||this.eu(v.doc,y.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ul(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new XS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new QS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class Z4{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class J4{constructor(t){this.key=t,this.hu=!1}}class tk{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $a((m=>mS(m)),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new be(_t.comparator),this.Au=new Map,this.Ru=new uy,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ek(n,t,e=!0){const r=ex(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $S(r,t,e,!0),o}async function nk(n,t){const e=ex(n);await $S(e,t,!0,!1)}async function $S(n,t,e,r){const o=await _4(n.localStore,ms(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await ik(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&HS(n.remoteStore,o),m}async function ik(n,t,e,r,o){n.pu=(y,E,A)=>(async function(U,H,G,J){let X=H.view.ru(G);X.Cs&&(X=await sb(U.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,X))));const ft=J&&J.targetChanges.get(H.targetId),ct=J&&J.targetMismatches.get(H.targetId)!=null,ot=H.view.applyChanges(X,U.isPrimaryClient,ft,ct);return mb(U,H.targetId,ot.au),ot.snapshot})(n,y,E,A);const u=await sb(n.localStore,t,!0),c=new W4(t,u.Qs),m=c.ru(u.documents),p=cc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);mb(n,e,g.au);const v=new Z4(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function sk(n,t,e){const r=Dt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Yf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ag(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&dy(r.remoteStore,o.targetId),ug(r,o.targetId)})).catch(yl)):(ug(r,o.targetId),await ag(r.localStore,o.targetId,!0))}async function rk(n,t){const e=Dt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),dy(e.remoteStore,r.targetId))}async function ak(n,t,e){const r=dk(n);try{const o=await(function(c,m){const p=Dt(c),g=me.now(),v=m.reduce(((A,D)=>A.add(D.key)),Ht());let y,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Qs(),U=Ht();return p.Ns.getEntries(A,v).next((H=>{D=H,D.forEach(((G,J)=>{J.isValidDocument()||(U=U.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((H=>{y=H;const G=[];for(const J of m){const X=vV(J,y.get(J.key).overlayedDocument);X!=null&&G.push(new Jr(J.key,X,aS(X.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,G,m)})).next((H=>{E=H;const G=H.applyToLocalDocumentSet(y,U);return p.documentOverlayCache.saveOverlays(A,H.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:yS(y)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new be(Bt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await fc(r,o.changes),await td(r.remoteStore)}catch(o){const u=vy(o,"Failed to persist write");e.reject(u)}}async function WS(n,t){const e=Dt(n);try{const r=await g4(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ee(c.hu,14607):o.removedDocuments.size>0&&(ee(c.hu,42227),c.hu=!1))})),await fc(e,r,t)}catch(r){await yl(r)}}function db(n,t,e){const r=Dt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Dt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,y)=>{for(const E of y.Sa)E.va(m)&&(g=!0)})),g&&_y(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ok(n,t,e){const r=Dt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new be(_t.comparator);c=c.insert(u,Tn.newNoDocument(u,Ct.min()));const m=Ht().add(u),p=new Wf(Ct.min(),new Map,new be(Bt),c,m);await WS(r,p),r.du=r.du.remove(u),r.Au.delete(t),by(r)}else await ag(r.localStore,t,!1).then((()=>ug(r,t,e))).catch(yl)}async function lk(n,t){const e=Dt(n),r=t.batch.batchId;try{const o=await p4(e.localStore,t);JS(e,r,null),ZS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await fc(e,o)}catch(o){await yl(o)}}async function uk(n,t,e){const r=Dt(n);try{const o=await(function(c,m){const p=Dt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((y=>(ee(y!==null,37113),v=y.keys(),p.mutationQueue.removeMutationBatch(g,y)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);JS(r,t,e),ZS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await fc(r,o)}catch(o){await yl(o)}}function ZS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function JS(n,t,e){const r=Dt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function ug(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||tx(n,r)}))}function tx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(dy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),by(n))}function mb(n,t,e){for(const r of e)r instanceof QS?(n.Ru.addReference(r.key,t),ck(n,r)):r instanceof XS?(pt(Ty,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||tx(n,r.key)):xt(19791,{wu:r})}function ck(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(pt(Ty,"New document in limbo: "+e),n.Eu.add(r),by(n))}function by(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new _t(ce.fromString(t)),r=n.fu.next();n.Au.set(r,new J4(e)),n.du=n.du.insert(e,r),HS(n.remoteStore,new Pr(ms(iy(e.path)),r,"TargetPurposeLimboResolution",Ff.ce))}}async function fc(n,t,e){const r=Dt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=hy.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Dt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>st.forEach(g,(E=>st.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(y,E.targetId,A))).next((()=>st.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(y,E.targetId,A)))))))))}catch(y){if(!vl(y))throw y;pt(fy,"Failed to update sequence numbers: "+y)}for(const y of g){const E=y.targetId;if(!y.fromCache){const A=v.Ms.get(E),D=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(E,U)}}})(r.localStore,u))}async function hk(n,t){const e=Dt(n);if(!e.currentUser.isEqual(t)){pt(Ty,"User change. New user:",t.toKey());const r=await jS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new dt(nt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await fc(e,r.Ls)}}function fk(n,t){const e=Dt(n),r=e.Au.get(t);if(r&&r.hu)return Ht().add(r.key);{let o=Ht();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function ex(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ok.bind(null,t),t.Pu.H_=Q4.bind(null,t.eventManager),t.Pu.yu=X4.bind(null,t.eventManager),t}function dk(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,t),t}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return m4(this.persistence,new h4,t.initialUser,this.serializer)}Cu(t){return new LS(cy.mi,this.serializer)}Du(t){return new b4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class mk extends Df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ee(this.persistence.referenceDelegate instanceof If,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $V(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new LS((r=>If.mi(r,e)),this.serializer)}}class cg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>db(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),await q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new G4})()}createDatastore(t){const e=Zf(t.databaseInfo.databaseId),r=(function(u){return new A4(u)})(t.databaseInfo);return(function(u,c,m,p){return new N4(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new M4(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>db(this.syncEngine,e,0)),(function(){return ob.v()?new ob:new E4})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,v){const y=new tk(o,u,c,m,p,g);return v&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Dt(e);pt(Ya,"RemoteStore shutting down."),r.Ea.add(5),await hc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cg.provider={build:()=>new cg};class pk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Xr="FirestoreClient";class gk{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{pt(Xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(pt(Xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=vy(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function bp(n,t){n.asyncQueue.verifyOperationInProgress(),pt(Xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await jS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function pb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await yk(n);pt(Xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>ub(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>ub(t.remoteStore,o))),n._onlineComponents=t}async function yk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(Xr,"Using user provided OfflineComponentProvider");try{await bp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;sl("Error using user provided cache. Falling back to memory cache: "+e),await bp(n,new Df)}}else pt(Xr,"Using default OfflineComponentProvider"),await bp(n,new mk(void 0));return n._offlineComponents}async function nx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(Xr,"Using user provided OnlineComponentProvider"),await pb(n,n._uninitializedComponentsProvider._online)):(pt(Xr,"Using default OnlineComponentProvider"),await pb(n,new cg))),n._onlineComponents}function vk(n){return nx(n).then((t=>t.syncEngine))}async function gb(n){const t=await nx(n),e=t.eventManager;return e.onListen=ek.bind(null,t.syncEngine),e.onUnlisten=sk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=nk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=rk.bind(null,t.syncEngine),e}function ix(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const yb=new Map;const sx="firestore.googleapis.com",vb=!0;class _b{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sx,this.ssl=vb}else this.host=t.host,this.ssl=t.ssl??vb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QV)throw new dt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ix(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bM;switch(r.type){case"firstParty":return new xM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yb.get(e);r&&(pt("ComponentProvider","Removing Datastore"),yb.delete(e),r.terminate())})(this),Promise.resolve()}}function _k(n,t,e,r={}){n=Br(n,ed);const o=dl(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(iw(`https://${m}`),sw("Firestore",!0)),u.host!==sx&&u.host!==m&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!qa(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=_n.MOCK_USER;else{g=GC(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new dt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new _n(y)}n._authCredentials=new EM(new Qw(g,v))}}class Za{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Za(this.firestore,t,this._query)}}class He{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(lc(e,He._jsonSchema))return new He(t,r||null,new _t(ce.fromString(e.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Be("string",He._jsonSchemaVersion),referencePath:Be("string")};class Hr extends Za{constructor(t,e,r){super(t,e,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new _t(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function vi(n,t,...e){if(n=tn(n),Xw("collection","path",t),n instanceof ed){const r=ce.fromString(t,...e);return DT(r),new Hr(n,null,r)}{if(!(n instanceof He||n instanceof Hr))throw new dt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ce.fromString(t,...e));return DT(r),new Hr(n.firestore,null,r)}}function Qa(n,t,...e){if(n=tn(n),arguments.length===1&&(t=Wg.newId()),Xw("doc","path",t),n instanceof ed){const r=ce.fromString(t,...e);return NT(r),new He(n,null,new _t(r))}{if(!(n instanceof He||n instanceof Hr))throw new dt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ce.fromString(t,...e));return NT(r),new He(n.firestore,n instanceof Hr?n.converter:null,new _t(r))}}const Tb="AsyncQueue";class bb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zS(this,"async_queue_retry"),this._c=()=>{const r=Tp();r&&pt(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Tp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vl(t))throw t;pt(Tb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",Eb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=yy.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:Eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Eb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function wb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class cl extends ed{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new bb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bb(t),this._firestoreClient=void 0,await t}}}function Tk(n,t){const e=typeof n=="object"?n:lw(),r=typeof n=="string"?n:Sf,o=Ug(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=qC("firestore");u&&_k(o,...u)}return o}function rx(n){if(n._terminated)throw new dt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bk(n),n._firestoreClient}function bk(n){const t=n._freezeSettings(),e=(function(o,u,c,m){return new HM(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ix(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new gk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class gi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gi(pn.fromBase64String(t))}catch(e){throw new dt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gi(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lc(t,gi._jsonSchema))return gi.fromBase64String(t.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Be("string",gi._jsonSchemaVersion),bytes:Be("string")};class nd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class id{constructor(t){this._methodName=t}}class gs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(t){if(lc(t,gs._jsonSchema))return new gs(t.latitude,t.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:Be("string",gs._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class ys{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lc(t,ys._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ys(t.vectorValues);throw new dt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ys._jsonSchemaVersion="firestore/vectorValue/1.0",ys._jsonSchema={type:Be("string",ys._jsonSchemaVersion),vectorValues:Be("object")};const Ek=/^__.*__$/;class wk{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new uc(t,this.data,e,this.fieldTransforms)}}class ax{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ox(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:n})}}class Ey{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ey({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Mf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ox(this.Ac)&&Ek.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sk{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Zf(t)}Cc(t,e,r,o=!1){return new Ey({Ac:t,methodName:e,Dc:r,path:mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wy(n){const t=n._freezeSettings(),e=Zf(n._databaseId);return new Sk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function xk(n,t,e,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);xy("Data must be an object, but it was:",c,r);const m=lx(r,c);let p,g;if(u.merge)p=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const y of u.mergeFields){const E=hg(t,y,e);if(!c.contains(E))throw new dt(nt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cx(v,E)||v.push(E)}p=new Jn(v),g=c.fieldTransforms.filter((y=>p.covers(y.field)))}else p=null,g=c.fieldTransforms;return new wk(new jn(m),p,g)}class sd extends id{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sd}}class Sy extends id{_toFieldTransform(t){return new mV(t.path,new Qu)}isEqual(t){return t instanceof Sy}}function Ak(n,t,e,r){const o=n.Cc(1,t,e);xy("Data must be an object, but it was:",o,r);const u=[],c=jn.empty();Zr(r,((p,g)=>{const v=Ay(t,p,e);g=tn(g);const y=o.yc(v);if(g instanceof sd)u.push(v);else{const E=dc(g,y);E!=null&&(u.push(v),c.set(v,E))}}));const m=new Jn(u);return new ax(c,m,o.fieldTransforms)}function Rk(n,t,e,r,o,u){const c=n.Cc(1,t,e),m=[hg(t,r,e)],p=[o];if(u.length%2!=0)throw new dt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<u.length;E+=2)m.push(hg(t,u[E])),p.push(u[E+1]);const g=[],v=jn.empty();for(let E=m.length-1;E>=0;--E)if(!cx(g,m[E])){const A=m[E];let D=p[E];D=tn(D);const U=c.yc(A);if(D instanceof sd)g.push(A);else{const H=dc(D,U);H!=null&&(g.push(A),v.set(A,H))}}const y=new Jn(g);return new ax(v,y,c.fieldTransforms)}function Ck(n,t,e,r=!1){return dc(e,n.Cc(r?4:3,t))}function dc(n,t){if(ux(n=tn(n)))return xy("Unsupported field value:",t,n),lx(n,t);if(n instanceof id)return(function(r,o){if(!ox(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=dc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=me.fromDate(r);return{timestampValue:Cf(o.serializer,u)}}if(r instanceof me){const u=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(o.serializer,u)}}if(r instanceof gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:IS(o.serializer,r._byteString)};if(r instanceof He){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ly(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ys)return(function(c,m){return{mapValue:{fields:{[sS]:{stringValue:rS},[xf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sy(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${qf(r)}`)})(n,t)}function lx(n,t){const e={};return Zw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(n,((r,o)=>{const u=dc(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function ux(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof me||n instanceof gs||n instanceof gi||n instanceof He||n instanceof id||n instanceof ys)}function xy(n,t,e){if(!ux(e)||!$w(e)){const r=qf(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function hg(n,t,e){if((t=tn(t))instanceof nd)return t._internalPath;if(typeof t=="string")return Ay(n,t);throw Mf("Field path arguments must be of type string or ",n,!1,void 0,e)}const Ik=new RegExp("[~\\*/\\[\\]]");function Ay(n,t,e){if(t.search(Ik)>=0)throw Mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new nd(...t.split("."))._internalPath}catch{throw Mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Mf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new dt(nt.INVALID_ARGUMENT,m+n+p)}function cx(n,t){return n.some((e=>e.isEqual(t)))}class hx{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ry("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Nk extends hx{data(){return super.data()}}function Ry(n,t){return typeof t=="string"?Ay(n,t):t instanceof nd?t._internalPath:t._delegate._internalPath}function Dk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class fx extends Cy{}function mc(n,t,...e){let r=[];t instanceof Cy&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((p=>p instanceof Ny)).length,m=u.filter((p=>p instanceof Iy)).length;if(c>1||c>0&&m>0)throw new dt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Iy extends fx{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Iy(t,e,r)}_apply(t){const e=this._parse(t);return dx(t._query,e),new Za(t.firestore,t.converter,tg(t._query,e))}_parse(t){const e=wy(t.firestore);return(function(u,c,m,p,g,v,y){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new dt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){xb(y,v);const D=[];for(const U of y)D.push(Sb(p,u,U));E={arrayValue:{values:D}}}else E=Sb(p,u,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||xb(y,v),E=Ck(m,c,y,v==="in"||v==="not-in");return ze.create(g,v,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ny extends Cy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ny(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Hi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)dx(c,p),c=tg(c,p)})(t._query,e),new Za(t.firestore,t.converter,tg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dy extends fx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Dy(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new dt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new dt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(u,c)})(t._query,this._field,this._direction);return new Za(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new _l(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function My(n,t="asc"){const e=t,r=Ry("orderBy",n);return Dy._create(r,e)}function Sb(n,t,e){if(typeof(e=tn(e))=="string"){if(e==="")throw new dt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(t)&&e.indexOf("/")!==-1)throw new dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ce.fromString(e));if(!_t.isDocumentKey(r))throw new dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UT(n,new _t(r))}if(e instanceof He)return UT(n,e._key);throw new dt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(e)}.`)}function xb(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dx(n,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new dt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Mk{convertValue(t,e="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Zr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[xf].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new ys(e)}convertGeoPoint(t){return new gs(Ie(t.latitude),Ie(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Kf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Fu(t));default:return null}}convertTimestamp(t){const e=Gr(t);return new me(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ce.fromString(t);ee(OS(r),9688,{name:t});const o=new Gu(r.get(1),r.get(3)),u=new _t(r.popFirst(5));return o.isEqual(e)||Ys(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function Vk(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Iu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends hx{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Ry("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Be("string",za._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class lf extends za{data(t={}){return super.data(t)}}class tl{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Iu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new lf(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new lf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new lf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:kk(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:Be("string",tl._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class mx extends Mk{constructor(t){super(),this.firestore=t}convertBytes(t){return new gi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,e)}}function Vy(n,t,e,...r){n=Br(n,He);const o=Br(n.firestore,cl),u=wy(o);let c;return c=typeof(t=tn(t))=="string"||t instanceof nd?Rk(u,"updateDoc",n._key,t,e,r):Ak(u,"updateDoc",n._key,t),Oy(o,[c.toMutation(n._key,Bi.exists(!0))])}function ky(n){return Oy(Br(n.firestore,cl),[new ry(n._key,Bi.none())])}function Xa(n,t){const e=Br(n.firestore,cl),r=Qa(n),o=Vk(n.converter,t);return Oy(e,[xk(wy(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Bi.exists(!1))]).then((()=>r))}function pc(n,...t){n=tn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||wb(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(wb(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,m;if(n instanceof He)c=Br(n.firestore,cl),m=iy(n._key.path),u={next:p=>{t[r]&&t[r](Ok(c,n,p))},error:t[r+1],complete:t[r+2]};else{const p=Br(n,Za);c=Br(p.firestore,cl),m=p._query;const g=new mx(c);u={next:v=>{t[r]&&t[r](new tl(c,g,p,v))},error:t[r+1],complete:t[r+2]},Dk(n._query)}return(function(g,v,y,E){const A=new pk(E),D=new $4(v,A,y);return g.asyncQueue.enqueueAndForget((async()=>K4(await gb(g),D))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>Y4(await gb(g),D)))}})(rx(c),m,o,u)}function Oy(n,t){return(function(r,o){const u=new Ua;return r.asyncQueue.enqueueAndForget((async()=>ak(await vk(r),o,u))),u.promise})(rx(n),t)}function Ok(n,t,e){const r=e.docs.get(t._key),o=new mx(n);return new za(n,o,t._key,r,new Iu(e.hasPendingWrites,e.fromCache),t.converter)}function qr(){return new Sy("serverTimestamp")}(function(t,e=!0){(function(o){gl=o})(ml),nl(new Fa("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new cl(new wM(r.getProvider("auth-internal")),new AM(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ur(AT,RT,t),Ur(AT,RT,"esm2020")})();var Pk=FE();const Lk=qE(Pk);function jk(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const Uk=n=>{switch(n){case"success":return Hk;case"info":return Fk;case"warning":return qk;case"error":return Gk;default:return null}},zk=Array(12).fill(0),Bk=({visible:n,className:t})=>ut.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},ut.createElement("div",{className:"sonner-spinner"},zk.map((e,r)=>ut.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Hk=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qk=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Fk=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gk=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kk=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ut.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ut.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Yk=()=>{const[n,t]=ut.useState(document.hidden);return ut.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let fg=1;class Qk{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:r,...o}=t,u=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fg++,c=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),c?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:r}),{...p,...t,id:u,dismissible:m,title:r}):p):this.addToast({title:r,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=r!==void 0,c;const m=o.then(async g=>{if(c=["resolve",g],ut.isValidElement(g))u=!1,this.create({id:r,type:"default",message:g});else if($k(g)&&!g.ok){u=!1;const y=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,E=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,D=typeof y=="object"&&!ut.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:E,...D})}else if(g instanceof Error){u=!1;const y=typeof e.error=="function"?await e.error(g):e.error,E=typeof e.description=="function"?await e.description(g):e.description,D=typeof y=="object"&&!ut.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:E,...D})}else if(e.success!==void 0){u=!1;const y=typeof e.success=="function"?await e.success(g):e.success,E=typeof e.description=="function"?await e.description(g):e.description,D=typeof y=="object"&&!ut.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:E,...D})}}).catch(async g=>{if(c=["reject",g],e.error!==void 0){u=!1;const v=typeof e.error=="function"?await e.error(g):e.error,y=typeof e.description=="function"?await e.description(g):e.description,A=typeof v=="object"&&!ut.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:y,...A})}}).finally(()=>{u&&(this.dismiss(r),r=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,v)=>m.then(()=>c[0]==="reject"?v(c[1]):g(c[1])).catch(v));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(t,e)=>{const r=e?.id||fg++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pn=new Qk,Xk=(n,t)=>{const e=t?.id||fg++;return Pn.addToast({title:n,...t,id:e}),e},$k=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Wk=Xk,Zk=()=>Pn.toasts,Jk=()=>Pn.getActiveToasts(),rd=Object.assign(Wk,{success:Pn.success,info:Pn.info,warning:Pn.warning,error:Pn.error,custom:Pn.custom,message:Pn.message,promise:Pn.promise,dismiss:Pn.dismiss,loading:Pn.loading},{getHistory:Zk,getToasts:Jk});jk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yh(n){return n.label!==void 0}const tO=3,eO="24px",nO="16px",Ab=4e3,iO=356,sO=14,rO=45,aO=200;function hs(...n){return n.filter(Boolean).join(" ")}function oO(n){const[t,e]=n.split("-"),r=[];return t&&r.push(t),e&&r.push(e),r}const lO=n=>{var t,e,r,o,u,c,m,p,g;const{invert:v,toast:y,unstyled:E,interacting:A,setHeights:D,visibleToasts:U,heights:H,index:G,toasts:J,expanded:X,removeToast:ft,defaultRichColors:ct,closeButton:ot,style:C,cancelButtonStyle:R,actionButtonStyle:I,className:O="",descriptionClassName:V="",duration:L,position:N,gap:Ft,expandByDefault:Zt,classNames:z,icons:W,closeButtonAriaLabel:ht="Close toast"}=n,[Et,St]=ut.useState(null),[k,Z]=ut.useState(null),[rt,at]=ut.useState(!1),[mt,Tt]=ut.useState(!1),[kt,It]=ut.useState(!1),[Xt,ti]=ut.useState(!1),[Ti,zn]=ut.useState(!1),[Zs,Cn]=ut.useState(0),[ea,qi]=ut.useState(0),bi=ut.useRef(y.duration||L||Ab),Js=ut.useRef(null),Jt=ut.useRef(null),xe=G===0,Fi=G+1<=U,en=y.type,Ei=y.dismissible!==!1,nn=y.className||"",Es=y.descriptionClassName||"",Gi=ut.useMemo(()=>H.findIndex(bt=>bt.toastId===y.id)||0,[H,y.id]),na=ut.useMemo(()=>{var bt;return(bt=y.closeButton)!=null?bt:ot},[y.closeButton,ot]),wi=ut.useMemo(()=>y.duration||L||Ab,[y.duration,L]),ia=ut.useRef(0),Si=ut.useRef(0),sa=ut.useRef(0),xi=ut.useRef(null),[Bn,qe]=N.split("-"),wn=ut.useMemo(()=>H.reduce((bt,te,Ne)=>Ne>=Gi?bt:bt+te.height,0),[H,Gi]),pe=Yk(),Ja=y.invert||v,Ki=en==="loading";Si.current=ut.useMemo(()=>Gi*Ft+wn,[Gi,wn]),ut.useEffect(()=>{bi.current=wi},[wi]),ut.useEffect(()=>{at(!0)},[]),ut.useEffect(()=>{const bt=Jt.current;if(bt){const te=bt.getBoundingClientRect().height;return qi(te),D(Ne=>[{toastId:y.id,height:te,position:y.position},...Ne]),()=>D(Ne=>Ne.filter(Ye=>Ye.toastId!==y.id))}},[D,y.id]),ut.useLayoutEffect(()=>{if(!rt)return;const bt=Jt.current,te=bt.style.height;bt.style.height="auto";const Ne=bt.getBoundingClientRect().height;bt.style.height=te,qi(Ne),D(Ye=>Ye.find(he=>he.toastId===y.id)?Ye.map(he=>he.toastId===y.id?{...he,height:Ne}:he):[{toastId:y.id,height:Ne,position:y.position},...Ye])},[rt,y.title,y.description,D,y.id,y.jsx,y.action,y.cancel]);const Hn=ut.useCallback(()=>{Tt(!0),Cn(Si.current),D(bt=>bt.filter(te=>te.toastId!==y.id)),setTimeout(()=>{ft(y)},aO)},[y,ft,D,Si]);ut.useEffect(()=>{if(y.promise&&en==="loading"||y.duration===1/0||y.type==="loading")return;let bt;return X||A||pe?(()=>{if(sa.current<ia.current){const Ye=new Date().getTime()-ia.current;bi.current=bi.current-Ye}sa.current=new Date().getTime()})():(()=>{bi.current!==1/0&&(ia.current=new Date().getTime(),bt=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Hn()},bi.current))})(),()=>clearTimeout(bt)},[X,A,y,en,pe,Hn]),ut.useEffect(()=>{y.delete&&(Hn(),y.onDismiss==null||y.onDismiss.call(y,y))},[Hn,y.delete]);function ei(){var bt;if(W?.loading){var te;return ut.createElement("div",{className:hs(z?.loader,y==null||(te=y.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":en==="loading"},W.loading)}return ut.createElement(Bk,{className:hs(z?.loader,y==null||(bt=y.classNames)==null?void 0:bt.loader),visible:en==="loading"})}const ws=y.icon||W?.[en]||Uk(en);var _e,qn;return ut.createElement("li",{tabIndex:0,ref:Jt,className:hs(O,nn,z?.toast,y==null||(t=y.classNames)==null?void 0:t.toast,z?.default,z?.[en],y==null||(e=y.classNames)==null?void 0:e[en]),"data-sonner-toast":"","data-rich-colors":(_e=y.richColors)!=null?_e:ct,"data-styled":!(y.jsx||y.unstyled||E),"data-mounted":rt,"data-promise":!!y.promise,"data-swiped":Ti,"data-removed":mt,"data-visible":Fi,"data-y-position":Bn,"data-x-position":qe,"data-index":G,"data-front":xe,"data-swiping":kt,"data-dismissible":Ei,"data-type":en,"data-invert":Ja,"data-swipe-out":Xt,"data-swipe-direction":k,"data-expanded":!!(X||Zt&&rt),"data-testid":y.testId,style:{"--index":G,"--toasts-before":G,"--z-index":J.length-G,"--offset":`${mt?Zs:Si.current}px`,"--initial-height":Zt?"auto":`${ea}px`,...C,...y.style},onDragEnd:()=>{It(!1),St(null),xi.current=null},onPointerDown:bt=>{bt.button!==2&&(Ki||!Ei||(Js.current=new Date,Cn(Si.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(It(!0),xi.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,te,Ne;if(Xt||!Ei)return;xi.current=null;const Ye=Number(((bt=Jt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sn=Number(((te=Jt.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),he=new Date().getTime()-((Ne=Js.current)==null?void 0:Ne.getTime()),gn=Et==="x"?Ye:Sn,ni=Math.abs(gn)/he;if(Math.abs(gn)>=rO||ni>.11){Cn(Si.current),y.onDismiss==null||y.onDismiss.call(y,y),Z(Et==="x"?Ye>0?"right":"left":Sn>0?"down":"up"),Hn(),ti(!0);return}else{var sn,rn;(sn=Jt.current)==null||sn.style.setProperty("--swipe-amount-x","0px"),(rn=Jt.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}zn(!1),It(!1),St(null)},onPointerMove:bt=>{var te,Ne,Ye;if(!xi.current||!Ei||((te=window.getSelection())==null?void 0:te.toString().length)>0)return;const he=bt.clientY-xi.current.y,gn=bt.clientX-xi.current.x;var ni;const sn=(ni=n.swipeDirections)!=null?ni:oO(N);!Et&&(Math.abs(gn)>1||Math.abs(he)>1)&&St(Math.abs(gn)>Math.abs(he)?"x":"y");let rn={x:0,y:0};const Yi=an=>1/(1.5+Math.abs(an)/20);if(Et==="y"){if(sn.includes("top")||sn.includes("bottom"))if(sn.includes("top")&&he<0||sn.includes("bottom")&&he>0)rn.y=he;else{const an=he*Yi(he);rn.y=Math.abs(an)<Math.abs(he)?an:he}}else if(Et==="x"&&(sn.includes("left")||sn.includes("right")))if(sn.includes("left")&&gn<0||sn.includes("right")&&gn>0)rn.x=gn;else{const an=gn*Yi(gn);rn.x=Math.abs(an)<Math.abs(gn)?an:gn}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&zn(!0),(Ne=Jt.current)==null||Ne.style.setProperty("--swipe-amount-x",`${rn.x}px`),(Ye=Jt.current)==null||Ye.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},na&&!y.jsx&&en!=="loading"?ut.createElement("button",{"aria-label":ht,"data-disabled":Ki,"data-close-button":!0,onClick:Ki||!Ei?()=>{}:()=>{Hn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:hs(z?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(qn=W?.close)!=null?qn:Kk):null,(en||y.icon||y.promise)&&y.icon!==null&&(W?.[en]!==null||y.icon)?ut.createElement("div",{"data-icon":"",className:hs(z?.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ei():null,y.type!=="loading"?ws:null):null,ut.createElement("div",{"data-content":"",className:hs(z?.content,y==null||(u=y.classNames)==null?void 0:u.content)},ut.createElement("div",{"data-title":"",className:hs(z?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ut.createElement("div",{"data-description":"",className:hs(V,Es,z?.description,y==null||(m=y.classNames)==null?void 0:m.description)},typeof y.description=="function"?y.description():y.description):null),ut.isValidElement(y.cancel)?y.cancel:y.cancel&&Yh(y.cancel)?ut.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||R,onClick:bt=>{Yh(y.cancel)&&Ei&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,bt),Hn())},className:hs(z?.cancelButton,y==null||(p=y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,ut.isValidElement(y.action)?y.action:y.action&&Yh(y.action)?ut.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||I,onClick:bt=>{Yh(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,bt),!bt.defaultPrevented&&Hn())},className:hs(z?.actionButton,y==null||(g=y.classNames)==null?void 0:g.actionButton)},y.action.label):null)};function Rb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function uO(n,t){const e={};return[n,t].forEach((r,o)=>{const u=o===1,c=u?"--mobile-offset":"--offset",m=u?nO:eO;function p(g){["top","right","bottom","left"].forEach(v=>{e[`${c}-${v}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?e[`${c}-${g}`]=m:e[`${c}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):p(m)}),e}const cO=ut.forwardRef(function(t,e){const{id:r,invert:o,position:u="bottom-right",hotkey:c=["altKey","KeyT"],expand:m,closeButton:p,className:g,offset:v,mobileOffset:y,theme:E="light",richColors:A,duration:D,style:U,visibleToasts:H=tO,toastOptions:G,dir:J=Rb(),gap:X=sO,icons:ft,containerAriaLabel:ct="Notifications"}=t,[ot,C]=ut.useState([]),R=ut.useMemo(()=>r?ot.filter(rt=>rt.toasterId===r):ot.filter(rt=>!rt.toasterId),[ot,r]),I=ut.useMemo(()=>Array.from(new Set([u].concat(R.filter(rt=>rt.position).map(rt=>rt.position)))),[R,u]),[O,V]=ut.useState([]),[L,N]=ut.useState(!1),[Ft,Zt]=ut.useState(!1),[z,W]=ut.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ht=ut.useRef(null),Et=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),St=ut.useRef(null),k=ut.useRef(!1),Z=ut.useCallback(rt=>{C(at=>{var mt;return(mt=at.find(Tt=>Tt.id===rt.id))!=null&&mt.delete||Pn.dismiss(rt.id),at.filter(({id:Tt})=>Tt!==rt.id)})},[]);return ut.useEffect(()=>Pn.subscribe(rt=>{if(rt.dismiss){requestAnimationFrame(()=>{C(at=>at.map(mt=>mt.id===rt.id?{...mt,delete:!0}:mt))});return}setTimeout(()=>{Lk.flushSync(()=>{C(at=>{const mt=at.findIndex(Tt=>Tt.id===rt.id);return mt!==-1?[...at.slice(0,mt),{...at[mt],...rt},...at.slice(mt+1)]:[rt,...at]})})})}),[ot]),ut.useEffect(()=>{if(E!=="system"){W(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const rt=window.matchMedia("(prefers-color-scheme: dark)");try{rt.addEventListener("change",({matches:at})=>{W(at?"dark":"light")})}catch{rt.addListener(({matches:mt})=>{try{W(mt?"dark":"light")}catch(Tt){console.error(Tt)}})}},[E]),ut.useEffect(()=>{ot.length<=1&&N(!1)},[ot]),ut.useEffect(()=>{const rt=at=>{var mt;if(c.every(It=>at[It]||at.code===It)){var kt;N(!0),(kt=ht.current)==null||kt.focus()}at.code==="Escape"&&(document.activeElement===ht.current||(mt=ht.current)!=null&&mt.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",rt),()=>document.removeEventListener("keydown",rt)},[c]),ut.useEffect(()=>{if(ht.current)return()=>{St.current&&(St.current.focus({preventScroll:!0}),St.current=null,k.current=!1)}},[ht.current]),ut.createElement("section",{ref:e,"aria-label":`${ct} ${Et}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((rt,at)=>{var mt;const[Tt,kt]=rt.split("-");return R.length?ut.createElement("ol",{key:rt,dir:J==="auto"?Rb():J,tabIndex:-1,ref:ht,className:g,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":Tt,"data-x-position":kt,style:{"--front-toast-height":`${((mt=O[0])==null?void 0:mt.height)||0}px`,"--width":`${iO}px`,"--gap":`${X}px`,...U,...uO(v,y)},onBlur:It=>{k.current&&!It.currentTarget.contains(It.relatedTarget)&&(k.current=!1,St.current&&(St.current.focus({preventScroll:!0}),St.current=null))},onFocus:It=>{It.target instanceof HTMLElement&&It.target.dataset.dismissible==="false"||k.current||(k.current=!0,St.current=It.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{Ft||N(!1)},onDragEnd:()=>N(!1),onPointerDown:It=>{It.target instanceof HTMLElement&&It.target.dataset.dismissible==="false"||Zt(!0)},onPointerUp:()=>Zt(!1)},R.filter(It=>!It.position&&at===0||It.position===rt).map((It,Xt)=>{var ti,Ti;return ut.createElement(lO,{key:It.id,icons:ft,index:Xt,toast:It,defaultRichColors:A,duration:(ti=G?.duration)!=null?ti:D,className:G?.className,descriptionClassName:G?.descriptionClassName,invert:o,visibleToasts:H,closeButton:(Ti=G?.closeButton)!=null?Ti:p,interacting:Ft,position:rt,style:G?.style,unstyled:G?.unstyled,classNames:G?.classNames,cancelButtonStyle:G?.cancelButtonStyle,actionButtonStyle:G?.actionButtonStyle,closeButtonAriaLabel:G?.closeButtonAriaLabel,removeToast:Z,toasts:R.filter(zn=>zn.position==It.position),heights:O.filter(zn=>zn.position==It.position),setHeights:V,expandByDefault:m,gap:X,expanded:L,swipeDirections:t.swipeDirections})})):null}))}),Py=it.createContext({});function Ly(n){const t=it.useRef(null);return t.current===null&&(t.current=n()),t.current}const jy=typeof window<"u",px=jy?it.useLayoutEffect:it.useEffect,ad=it.createContext(null);function Uy(n,t){n.indexOf(t)===-1&&n.push(t)}function zy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Xs=(n,t,e)=>e>t?t:e<n?n:e;let By=()=>{};const $s={},gx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function yx(n){return typeof n=="object"&&n!==null}const vx=n=>/^0[^.\s]+$/u.test(n);function Hy(n){let t;return()=>(t===void 0&&(t=n()),t)}const _i=n=>n,hO=(n,t)=>e=>t(n(e)),gc=(...n)=>n.reduce(hO),Wu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class qy{constructor(){this.subscriptions=[]}add(t){return Uy(this.subscriptions,t),()=>zy(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vs=n=>n*1e3,yi=n=>n/1e3;function _x(n,t){return t?n*(1e3/t):0}const Tx=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,fO=1e-7,dO=12;function mO(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=Tx(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>fO&&++m<dO);return c}function yc(n,t,e,r){if(n===t&&e===r)return _i;const o=u=>mO(u,0,1,n,e);return u=>u===0||u===1?u:Tx(o(u),t,r)}const bx=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Ex=n=>t=>1-n(1-t),wx=yc(.33,1.53,.69,.99),Fy=Ex(wx),Sx=bx(Fy),xx=n=>(n*=2)<1?.5*Fy(n):.5*(2-Math.pow(2,-10*(n-1))),Gy=n=>1-Math.sin(Math.acos(n)),Ax=Ex(Gy),Rx=bx(Gy),pO=yc(.42,0,1,1),gO=yc(0,0,.58,1),Cx=yc(.42,0,.58,1),yO=n=>Array.isArray(n)&&typeof n[0]!="number",Ix=n=>Array.isArray(n)&&typeof n[0]=="number",vO={linear:_i,easeIn:pO,easeInOut:Cx,easeOut:gO,circIn:Gy,circInOut:Rx,circOut:Ax,backIn:Fy,backInOut:Sx,backOut:wx,anticipate:xx},_O=n=>typeof n=="string",Cb=n=>{if(Ix(n)){By(n.length===4);const[t,e,r,o]=n;return yc(t,e,r,o)}else if(_O(n))return vO[n];return n},Qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TO(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,y=!1,E=!1)=>{const D=E&&o?e:r;return y&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const bO=40;function Nx(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Qh.reduce((X,ft)=>(X[ft]=TO(u),X),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:y,preRender:E,render:A,postRender:D}=c,U=()=>{const X=$s.useManualTiming?o.timestamp:performance.now();e=!1,$s.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(X-o.timestamp,bO),1)),o.timestamp=X,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),y.process(o),E.process(o),A.process(o),D.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(U))},H=()=>{e=!0,r=!0,o.isProcessing||n(U)};return{schedule:Qh.reduce((X,ft)=>{const ct=c[ft];return X[ft]=(ot,C=!1,R=!1)=>(e||H(),ct.schedule(ot,C,R)),X},{}),cancel:X=>{for(let ft=0;ft<Qh.length;ft++)c[Qh[ft]].cancel(X)},state:o,steps:c}}const{schedule:ve,cancel:$r,state:fn,steps:Ep}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let uf;function EO(){uf=void 0}const Un={now:()=>(uf===void 0&&Un.set(fn.isProcessing||$s.useManualTiming?fn.timestamp:performance.now()),uf),set:n=>{uf=n,queueMicrotask(EO)}},Dx=n=>t=>typeof t=="string"&&t.startsWith(n),Ky=Dx("--"),wO=Dx("var(--"),Yy=n=>wO(n)?SO.test(n.split("/*")[0].trim()):!1,SO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zu={...bl,transform:n=>Xs(0,1,n)},Xh={...bl,default:1},Lu=n=>Math.round(n*1e5)/1e5,Qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xO(n){return n==null}const AO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xy=(n,t)=>e=>!!(typeof e=="string"&&AO.test(e)&&e.startsWith(n)||t&&!xO(e)&&Object.prototype.hasOwnProperty.call(e,t)),Mx=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Qy);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},RO=n=>Xs(0,255,n),wp={...bl,transform:n=>Math.round(RO(n))},Pa={test:Xy("rgb","red"),parse:Mx("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+wp.transform(n)+", "+wp.transform(t)+", "+wp.transform(e)+", "+Lu(Zu.transform(r))+")"};function CO(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const dg={test:Xy("#"),parse:CO,transform:Pa.transform},vc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Mr=vc("deg"),_s=vc("%"),At=vc("px"),IO=vc("vh"),NO=vc("vw"),Ib={..._s,parse:n=>_s.parse(n)/100,transform:n=>_s.transform(n*100)},Go={test:Xy("hsl","hue"),parse:Mx("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+_s.transform(Lu(t))+", "+_s.transform(Lu(e))+", "+Lu(Zu.transform(r))+")"},Ue={test:n=>Pa.test(n)||dg.test(n)||Go.test(n),parse:n=>Pa.test(n)?Pa.parse(n):Go.test(n)?Go.parse(n):dg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Pa.transform(n):Go.transform(n),getAnimatableNone:n=>{const t=Ue.parse(n);return t.alpha=0,Ue.transform(t)}},DO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MO(n){return isNaN(n)&&typeof n=="string"&&(n.match(Qy)?.length||0)+(n.match(DO)?.length||0)>0}const Vx="number",kx="color",VO="var",kO="var(",Nb="${}",OO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ju(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(OO,p=>(Ue.test(p)?(r.color.push(u),o.push(kx),e.push(Ue.parse(p))):p.startsWith(kO)?(r.var.push(u),o.push(VO),e.push(p)):(r.number.push(u),o.push(Vx),e.push(parseFloat(p))),++u,Nb)).split(Nb);return{values:e,split:m,indexes:r,types:o}}function Ox(n){return Ju(n).values}function Px(n){const{split:t,types:e}=Ju(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Vx?u+=Lu(o[c]):m===kx?u+=Ue.transform(o[c]):u+=o[c]}return u}}const PO=n=>typeof n=="number"?0:Ue.test(n)?Ue.getAnimatableNone(n):n;function LO(n){const t=Ox(n);return Px(n)(t.map(PO))}const Wr={test:MO,parse:Ox,createTransformer:Px,getAnimatableNone:LO};function Sp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function jO({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,p=2*e-m;o=Sp(p,m,n+1/3),u=Sp(p,m,n),c=Sp(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Vf(n,t){return e=>e>0?t:n}const Te=(n,t,e)=>n+(t-n)*e,xp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},UO=[dg,Pa,Go],zO=n=>UO.find(t=>t.test(n));function Db(n){const t=zO(n);if(!t)return!1;let e=t.parse(n);return t===Go&&(e=jO(e)),e}const Mb=(n,t)=>{const e=Db(n),r=Db(t);if(!e||!r)return Vf(n,t);const o={...e};return u=>(o.red=xp(e.red,r.red,u),o.green=xp(e.green,r.green,u),o.blue=xp(e.blue,r.blue,u),o.alpha=Te(e.alpha,r.alpha,u),Pa.transform(o))},mg=new Set(["none","hidden"]);function BO(n,t){return mg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function HO(n,t){return e=>Te(n,t,e)}function $y(n){return typeof n=="number"?HO:typeof n=="string"?Yy(n)?Vf:Ue.test(n)?Mb:GO:Array.isArray(n)?Lx:typeof n=="object"?Ue.test(n)?Mb:qO:Vf}function Lx(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>$y(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function qO(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=$y(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function FO(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const GO=(n,t)=>{const e=Wr.createTransformer(t),r=Ju(n),o=Ju(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?mg.has(n)&&!o.values.length||mg.has(t)&&!r.values.length?BO(n,t):gc(Lx(FO(r,o),o.values),e):Vf(n,t)};function jx(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Te(n,t,e):$y(n)(n,t)}const KO=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ve.update(t,e),stop:()=>$r(t),now:()=>fn.isProcessing?fn.timestamp:Un.now()}},Ux=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kf=2e4;function Wy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<kf;)t+=e,r=n.next(t);return t>=kf?1/0:t}function YO(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Wy(r),kf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:yi(o)}}const QO=5;function zx(n,t,e){const r=Math.max(t-QO,0);return _x(e-n(r),t-r)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ap=.001;function XO({duration:n=Se.duration,bounce:t=Se.bounce,velocity:e=Se.velocity,mass:r=Se.mass}){let o,u,c=1-t;c=Xs(Se.minDamping,Se.maxDamping,c),n=Xs(Se.minDuration,Se.maxDuration,yi(n)),c<1?(o=g=>{const v=g*c,y=v*n,E=v-e,A=pg(g,c),D=Math.exp(-y);return Ap-E/A*D},u=g=>{const y=g*c*n,E=y*e+e,A=Math.pow(c,2)*Math.pow(g,2)*n,D=Math.exp(-y),U=pg(Math.pow(g,2),c);return(-o(g)+Ap>0?-1:1)*((E-A)*D)/U}):(o=g=>{const v=Math.exp(-g*n),y=(g-e)*n+1;return-Ap+v*y},u=g=>{const v=Math.exp(-g*n),y=(e-g)*(n*n);return v*y});const m=5/n,p=WO(o,u,m);if(n=vs(n),isNaN(p))return{stiffness:Se.stiffness,damping:Se.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const $O=12;function WO(n,t,e){let r=e;for(let o=1;o<$O;o++)r=r-n(r)/t(r);return r}function pg(n,t){return n*Math.sqrt(1-t*t)}const ZO=["duration","bounce"],JO=["stiffness","damping","mass"];function Vb(n,t){return t.some(e=>n[e]!==void 0)}function t5(n){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...n};if(!Vb(n,JO)&&Vb(n,ZO))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Xs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Se.mass,stiffness:o,damping:u}}else{const e=XO(n);t={...t,...e,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Of(n=Se.visualDuration,t=Se.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:y,velocity:E,isResolvedFromDuration:A}=t5({...e,velocity:-yi(e.velocity||0)}),D=E||0,U=g/(2*Math.sqrt(p*v)),H=c-u,G=yi(Math.sqrt(p/v)),J=Math.abs(H)<5;r||(r=J?Se.restSpeed.granular:Se.restSpeed.default),o||(o=J?Se.restDelta.granular:Se.restDelta.default);let X;if(U<1){const ct=pg(G,U);X=ot=>{const C=Math.exp(-U*G*ot);return c-C*((D+U*G*H)/ct*Math.sin(ct*ot)+H*Math.cos(ct*ot))}}else if(U===1)X=ct=>c-Math.exp(-G*ct)*(H+(D+G*H)*ct);else{const ct=G*Math.sqrt(U*U-1);X=ot=>{const C=Math.exp(-U*G*ot),R=Math.min(ct*ot,300);return c-C*((D+U*G*H)*Math.sinh(R)+ct*H*Math.cosh(R))/ct}}const ft={calculatedDuration:A&&y||null,next:ct=>{const ot=X(ct);if(A)m.done=ct>=y;else{let C=ct===0?D:0;U<1&&(C=ct===0?vs(D):zx(X,ct,ot));const R=Math.abs(C)<=r,I=Math.abs(c-ot)<=o;m.done=R&&I}return m.value=m.done?c:ot,m},toString:()=>{const ct=Math.min(Wy(ft),kf),ot=Ux(C=>ft.next(ct*C).value,ct,30);return ct+"ms "+ot},toTransition:()=>{}};return ft}Of.applyToOptions=n=>{const t=YO(n,100,Of);return n.ease=t.ease,n.duration=vs(t.duration),n.type="keyframes",n};function gg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const y=n[0],E={done:!1,value:y},A=R=>m!==void 0&&R<m||p!==void 0&&R>p,D=R=>m===void 0?p:p===void 0||Math.abs(m-R)<Math.abs(p-R)?m:p;let U=e*t;const H=y+U,G=c===void 0?H:c(H);G!==H&&(U=G-y);const J=R=>-U*Math.exp(-R/r),X=R=>G+J(R),ft=R=>{const I=J(R),O=X(R);E.done=Math.abs(I)<=g,E.value=E.done?G:O};let ct,ot;const C=R=>{A(E.value)&&(ct=R,ot=Of({keyframes:[E.value,D(E.value)],velocity:zx(X,R,E.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:R=>{let I=!1;return!ot&&ct===void 0&&(I=!0,ft(R),C(R)),ct!==void 0&&R>=ct?ot.next(R-ct):(!I&&ft(R),E)}}}function e5(n,t,e){const r=[],o=e||$s.mix||jx,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||_i:t;m=gc(p,m)}r.push(m)}return r}function n5(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(By(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=e5(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let y=0;if(p>1)for(;y<n.length-2&&!(v<n[y+1]);y++);const E=Wu(n[y],n[y+1],v);return m[y](E)};return e?v=>g(Xs(n[0],n[u-1],v)):g}function i5(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Wu(0,t,r);n.push(Te(e,1,o))}}function s5(n){const t=[0];return i5(t,n.length-1),t}function r5(n,t){return n.map(e=>e*t)}function a5(n,t){return n.map(()=>t||Cx).splice(0,n.length-1)}function ju({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=yO(r)?r.map(Cb):Cb(r),u={done:!1,value:t[0]},c=r5(e&&e.length===t.length?e:s5(t),n),m=n5(c,t,{ease:Array.isArray(o)?o:a5(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const o5=n=>n!==null;function Zy(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(o5),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const l5={decay:gg,inertia:gg,tween:ju,keyframes:ju,spring:Of};function Bx(n){typeof n.type=="string"&&(n.type=l5[n.type])}class Jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const u5=n=>n/100;class t0 extends Jy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Bx(t);const{type:e=ju,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=e||ju;p!==ju&&typeof m[0]!="number"&&(this.mixKeyframes=gc(u5,jx(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Wy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:y,repeatType:E,repeatDelay:A,type:D,onUpdate:U,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let X=this.currentTime,ft=r;if(y){const R=Math.min(this.currentTime,o)/m;let I=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(E==="reverse"?(O=1-O,A&&(O-=A/m)):E==="mirror"&&(ft=c)),X=Xs(0,1,O)*m}const ct=J?{done:!1,value:v[0]}:ft.next(X);u&&(ct.value=u(ct.value));let{done:ot}=ct;!J&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return C&&D!==gg&&(ct.value=Zy(v,this.options,H,this.speed)),U&&U(ct.value),C&&this.finish(),ct}then(t,e){return this.finished.then(t,e)}get duration(){return yi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yi(t)}get time(){return yi(this.currentTime)}set time(t){t=vs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=yi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=KO,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function c5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const La=n=>n*180/Math.PI,yg=n=>{const t=La(Math.atan2(n[1],n[0]));return vg(t)},h5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:yg,rotateZ:yg,skewX:n=>La(Math.atan(n[1])),skewY:n=>La(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},vg=n=>(n=n%360,n<0&&(n+=360),n),kb=yg,Ob=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Pb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),f5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ob,scaleY:Pb,scale:n=>(Ob(n)+Pb(n))/2,rotateX:n=>vg(La(Math.atan2(n[6],n[5]))),rotateY:n=>vg(La(Math.atan2(-n[2],n[0]))),rotateZ:kb,rotate:kb,skewX:n=>La(Math.atan(n[4])),skewY:n=>La(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function _g(n){return n.includes("scale")?1:0}function Tg(n,t){if(!n||n==="none")return _g(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=f5,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h5,o=m}if(!o)return _g(t);const u=r[t],c=o[1].split(",").map(m5);return typeof u=="function"?u(c):c[u]}const d5=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Tg(e,t)};function m5(n){return parseFloat(n.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wl=new Set(El),Lb=n=>n===bl||n===At,p5=new Set(["x","y","z"]),g5=El.filter(n=>!p5.has(n));function y5(n){const t=[];return g5.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ba={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Tg(t,"x"),y:(n,{transform:t})=>Tg(t,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const Ha=new Set;let bg=!1,Eg=!1,wg=!1;function Hx(){if(Eg){const n=Array.from(Ha).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=y5(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Eg=!1,bg=!1,Ha.forEach(n=>n.complete(wg)),Ha.clear()}function qx(){Ha.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Eg=!0)})}function v5(){wg=!0,qx(),Hx(),wg=!1}class e0{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),bg||(bg=!0,ve.read(qx),ve.resolveKeyframes(Hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}c5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _5=n=>n.startsWith("--");function T5(n,t,e){_5(t)?n.style.setProperty(t,e):n.style[t]=e}const b5=Hy(()=>window.ScrollTimeline!==void 0),E5={};function w5(n,t){const e=Hy(n);return()=>E5[t]??e()}const Fx=w5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,jb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function Gx(n,t){if(n)return typeof n=="function"?Fx()?Ux(n,t):"ease-out":Ix(n)?Nu(n):Array.isArray(n)?n.map(e=>Gx(e,t)||jb.easeOut):jb[n]}function S5(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const y=Gx(m,o);Array.isArray(y)&&(v.easing=y);const E={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),n.animate(v,E)}function Kx(n){return typeof n=="function"&&"applyToOptions"in n}function x5({type:n,...t}){return Kx(n)&&Fx()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class A5 extends Jy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,By(typeof t.type!="string");const g=x5(t);this.animation=S5(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Zy(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):T5(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return yi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yi(t)}get time(){return yi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&b5()?(this.animation.timeline=t,_i):e(this)}}const Yx={anticipate:xx,backInOut:Sx,circInOut:Rx};function R5(n){return n in Yx}function C5(n){typeof n.ease=="string"&&R5(n.ease)&&(n.ease=Yx[n.ease])}const Ub=10;class I5 extends A5{constructor(t){C5(t),Bx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new t0({...c,autoplay:!1}),p=vs(this.finishedTime??this.time);e.setWithVelocity(m.sample(p-Ub).value,m.sample(p).value,Ub),m.stop()}}const zb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wr.test(n)||n==="0")&&!n.startsWith("url("));function N5(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function D5(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=zb(o,t),m=zb(u,t);return!c||!m?!1:N5(n)||(e==="spring"||Kx(e))&&r}function Sg(n){n.duration=0,n.type="keyframes"}const M5=new Set(["opacity","clipPath","filter","transform"]),V5=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k5(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return V5()&&e&&M5.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const O5=40;class P5 extends Jy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const E={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...y},A=v?.KeyframeResolver||e0;this.keyframeResolver=new A(m,(D,U,H)=>this.onKeyframesResolved(D,U,E,!H),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Un.now(),D5(t,u,c,m)||(($s.instantAnimations||!p)&&v?.(Zy(t,r,e)),t[0]=t[t.length-1],Sg(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>O5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},A=!g&&k5(E)?new I5({...E,element:E.motionValue.owner.current}):new t0(E);A.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const L5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j5(n){const t=L5.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function Qx(n,t,e=1){const[r,o]=j5(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return gx(c)?parseFloat(c):c}return Yy(o)?Qx(o,t,e+1):o}function n0(n,t){return n?.[t]??n?.default??n}const Xx=new Set(["width","height","top","left","right","bottom",...El]),U5={test:n=>n==="auto",parse:n=>n},$x=n=>t=>t.test(n),Wx=[bl,At,_s,Mr,NO,IO,U5],Bb=n=>Wx.find($x(n));function z5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vx(n):!0}const B5=new Set(["brightness","contrast","saturate","opacity"]);function H5(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Qy)||[];if(!r)return n;const o=e.replace(r,"");let u=B5.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const q5=/\b([a-z-]*)\(.*?\)/gu,xg={...Wr,getAnimatableNone:n=>{const t=n.match(q5);return t?t.map(H5).join(" "):n}},Hb={...bl,transform:Math.round},F5={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:Mr,skewX:Mr,skewY:Mr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Zu,originX:Ib,originY:Ib,originZ:At},i0={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...F5,zIndex:Hb,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:Hb},G5={...i0,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:xg,WebkitFilter:xg},Zx=n=>G5[n];function Jx(n,t){let e=Zx(n);return e!==xg&&(e=Wr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const K5=new Set(["auto","none","0"]);function Y5(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!K5.has(u)&&Ju(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=Jx(e,o)}class Q5 extends e0{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Yy(g))){const v=Qx(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Xx.has(r)||t.length!==2)return;const[o,u]=t,c=Bb(o),m=Bb(u);if(c!==m)if(Lb(c)&&Lb(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||z5(t[o]))&&r.push(o);r.length&&Y5(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ba[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function X5(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const tA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function eA(n){return yx(n)&&"offsetHeight"in n}const qb=30,$5=n=>!isNaN(parseFloat(n));class W5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Un.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new qy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,qb);return _x(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(n,t){return new W5(n,t)}const{schedule:s0}=Nx(queueMicrotask,!1),Li={x:!1,y:!1};function nA(){return Li.x||Li.y}function Z5(n){return n==="x"||n==="y"?Li[n]?null:(Li[n]=!0,()=>{Li[n]=!1}):Li.x||Li.y?null:(Li.x=Li.y=!0,()=>{Li.x=Li.y=!1})}function iA(n,t){const e=X5(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function Fb(n){return!(n.pointerType==="touch"||nA())}function J5(n,t,e={}){const[r,o,u]=iA(n,e),c=m=>{if(!Fb(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=y=>{Fb(y)&&(g(y),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const sA=(n,t)=>t?n===t?!0:sA(n,t.parentElement):!1,r0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,t6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e6(n){return t6.has(n.tagName)||n.tabIndex!==-1}const cf=new WeakSet;function Gb(n){return t=>{t.key==="Enter"&&n(t)}}function Rp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const n6=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=Gb(()=>{if(cf.has(e))return;Rp(e,"down");const o=Gb(()=>{Rp(e,"up")}),u=()=>Rp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function Kb(n){return r0(n)&&!nA()}function i6(n,t,e={}){const[r,o,u]=iA(n,e),c=m=>{const p=m.currentTarget;if(!Kb(m))return;cf.add(p);const g=t(p,m),v=(A,D)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",E),cf.has(p)&&cf.delete(p),Kb(A)&&typeof g=="function"&&g(A,{success:D})},y=A=>{v(A,p===window||p===document||e.useGlobalTarget||sA(p,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",E,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),eA(m)&&(m.addEventListener("focus",g=>n6(g,o)),!e6(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function rA(n){return yx(n)&&"ownerSVGElement"in n}function s6(n){return rA(n)&&n.tagName==="svg"}const bn=n=>!!(n&&n.getVelocity),r6=[...Wx,Ue,Wr],a6=n=>r6.find($x(n)),a0=it.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Yb(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function o6(...n){return t=>{let e=!1;const r=n.map(o=>{const u=Yb(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():Yb(n[o],null)}}}}function l6(...n){return it.useCallback(o6(...n),n)}class u6 extends it.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=eA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c6({children:n,isPresent:t,anchorX:e,root:r}){const o=it.useId(),u=it.useRef(null),c=it.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=it.useContext(a0),p=l6(u,n?.ref);return it.useInsertionEffect(()=>{const{width:g,height:v,top:y,left:E,right:A}=c.current;if(t||!u.current||!g||!v)return;const D=e==="left"?`left: ${E}`:`right: ${A}`;u.current.dataset.motionPopId=o;const U=document.createElement("style");m&&(U.nonce=m);const H=r??document.head;return H.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${D}px !important;
            top: ${y}px !important;
          }
        `),()=>{H.contains(U)&&H.removeChild(U)}},[t]),w.jsx(u6,{isPresent:t,childRef:u,sizeRef:c,children:it.cloneElement(n,{ref:p})})}const h6=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=Ly(f6),v=it.useId();let y=!0,E=it.useMemo(()=>(y=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:A=>{g.set(A,!0);for(const D of g.values())if(!D)return;r&&r()},register:A=>(g.set(A,!1),()=>g.delete(A))}),[e,g,r]);return u&&y&&(E={...E}),it.useMemo(()=>{g.forEach((A,D)=>g.set(D,!1))},[e]),it.useEffect(()=>{!e&&!g.size&&r&&r()},[e]),c==="popLayout"&&(n=w.jsx(c6,{isPresent:e,anchorX:m,root:p,children:n})),w.jsx(ad.Provider,{value:E,children:n})};function f6(){return new Map}function aA(n=!0){const t=it.useContext(ad);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=it.useId();it.useEffect(()=>{if(n)return o(u)},[n]);const c=it.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const $h=n=>n.key||"";function Qb(n){const t=[];return it.Children.forEach(n,e=>{it.isValidElement(e)&&t.push(e)}),t}const d6=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=aA(c),y=it.useMemo(()=>Qb(n),[n]),E=c&&!g?[]:y.map($h),A=it.useRef(!0),D=it.useRef(y),U=Ly(()=>new Map),[H,G]=it.useState(y),[J,X]=it.useState(y);px(()=>{A.current=!1,D.current=y;for(let ot=0;ot<J.length;ot++){const C=$h(J[ot]);E.includes(C)?U.delete(C):U.get(C)!==!0&&U.set(C,!1)}},[J,E.length,E.join("-")]);const ft=[];if(y!==H){let ot=[...y];for(let C=0;C<J.length;C++){const R=J[C],I=$h(R);E.includes(I)||(ot.splice(C,0,R),ft.push(R))}return u==="wait"&&ft.length&&(ot=ft),X(Qb(ot)),G(y),null}const{forceRender:ct}=it.useContext(Py);return w.jsx(w.Fragment,{children:J.map(ot=>{const C=$h(ot),R=c&&!g?!1:y===J||E.includes(C),I=()=>{if(U.has(C))U.set(C,!0);else return;let O=!0;U.forEach(V=>{V||(O=!1)}),O&&(ct?.(),X(D.current),c&&v?.(),r&&r())};return w.jsx(h6,{isPresent:R,initial:!A.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:R?void 0:I,anchorX:m,children:ot},C)})})},oA=it.createContext({strict:!1}),Xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fl={};for(const n in Xb)fl[n]={isEnabled:t=>Xb[n].some(e=>!!t[e])};function m6(n){for(const t in n)fl[t]={...fl[t],...n[t]}}const p6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||p6.has(n)}let lA=n=>!Pf(n);function g6(n){typeof n=="function"&&(lA=t=>t.startsWith("on")?!Pf(t):n(t))}try{g6(require("@emotion/is-prop-valid").default)}catch{}function y6(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(lA(o)||e===!0&&Pf(o)||!t&&!Pf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const od=it.createContext({});function ld(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function tc(n){return typeof n=="string"||Array.isArray(n)}const o0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l0=["initial",...o0];function ud(n){return ld(n.animate)||l0.some(t=>tc(n[t]))}function uA(n){return!!(ud(n)||n.variants)}function v6(n,t){if(ud(n)){const{initial:e,animate:r}=n;return{initial:e===!1||tc(e)?e:void 0,animate:tc(r)?r:void 0}}return n.inherit!==!1?t:{}}function _6(n){const{initial:t,animate:e}=v6(n,it.useContext(od));return it.useMemo(()=>({initial:t,animate:e}),[$b(t),$b(e)])}function $b(n){return Array.isArray(n)?n.join(" "):n}const ec={};function T6(n){for(const t in n)ec[t]=n[t],Ky(t)&&(ec[t].isCSSVariable=!0)}function cA(n,{layout:t,layoutId:e}){return wl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ec[n]||n==="opacity")}const b6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E6=El.length;function w6(n,t,e){let r="",o=!0;for(let u=0;u<E6;u++){const c=El[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||e){const g=tA(m,i0[c]);if(!p){o=!1;const v=b6[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function u0(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(wl.has(p)){c=!0;continue}else if(Ky(p)){o[p]=g;continue}else{const v=tA(g,i0[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=w6(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hA(n,t,e){for(const r in t)!bn(t[r])&&!cA(r,e)&&(n[r]=t[r])}function S6({transformTemplate:n},t){return it.useMemo(()=>{const e=c0();return u0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function x6(n,t){const e=n.style||{},r={};return hA(r,e,n),Object.assign(r,S6(n,t)),r}function A6(n,t){const e={},r=x6(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const R6={offset:"stroke-dashoffset",array:"stroke-dasharray"},C6={offset:"strokeDashoffset",array:"strokeDasharray"};function I6(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?R6:C6;n[u.offset]=At.transform(-r);const c=At.transform(t),m=At.transform(e);n[u.array]=`${c} ${m}`}function fA(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(u0(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:E}=n;y.transform&&(E.transform=y.transform,delete y.transform),(E.transform||y.transformOrigin)&&(E.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),r!==void 0&&(y.scale=r),o!==void 0&&I6(y,o,u,c,!1)}const dA=()=>({...c0(),attrs:{}}),mA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function N6(n,t,e,r){const o=it.useMemo(()=>{const u=dA();return fA(u,t,mA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};hA(u,n.style,n),o.style={...u,...o.style}}return o}const D6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h0(n){return typeof n!="string"||n.includes("-")?!1:!!(D6.indexOf(n)>-1||/[A-Z]/u.test(n))}function M6(n,t,e,{latestValues:r},o,u=!1){const m=(h0(n)?N6:A6)(t,r,o,n),p=y6(t,typeof n=="string",u),g=n!==it.Fragment?{...p,...m,ref:e}:{},{children:v}=t,y=it.useMemo(()=>bn(v)?v.get():v,[v]);return it.createElement(n,{...g,children:y})}function Wb(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function f0(n,t,e,r){if(typeof t=="function"){const[o,u]=Wb(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=Wb(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function hf(n){return bn(n)?n.get():n}function V6({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:k6(e,r,o,n),renderState:t()}}function k6(n,t,e,r){const o={},u=r(n,{});for(const E in u)o[E]=hf(u[E]);let{initial:c,animate:m}=n;const p=ud(n),g=uA(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const y=v?m:c;if(y&&typeof y!="boolean"&&!ld(y)){const E=Array.isArray(y)?y:[y];for(let A=0;A<E.length;A++){const D=f0(n,E[A]);if(D){const{transitionEnd:U,transition:H,...G}=D;for(const J in G){let X=G[J];if(Array.isArray(X)){const ft=v?X.length-1:0;X=X[ft]}X!==null&&(o[J]=X)}for(const J in U)o[J]=U[J]}}}return o}const pA=n=>(t,e)=>{const r=it.useContext(od),o=it.useContext(ad),u=()=>V6(n,t,r,o);return e?u():Ly(u)};function d0(n,t,e){const{style:r}=n,o={};for(const u in r)(bn(r[u])||t.style&&bn(t.style[u])||cA(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const O6=pA({scrapeMotionValuesFromProps:d0,createRenderState:c0});function gA(n,t,e){const r=d0(n,t,e);for(const o in n)if(bn(n[o])||bn(t[o])){const u=El.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const P6=pA({scrapeMotionValuesFromProps:gA,createRenderState:dA}),L6=Symbol.for("motionComponentSymbol");function Ko(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function j6(n,t,e){return it.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Ko(e)&&(e.current=r))},[t])}const m0=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U6="framerAppearId",yA="data-"+m0(U6),vA=it.createContext({});function z6(n,t,e,r,o){const{visualElement:u}=it.useContext(od),c=it.useContext(oA),m=it.useContext(ad),p=it.useContext(a0).reducedMotion,g=it.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,y=it.useContext(vA);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&B6(g.current,e,o,y);const E=it.useRef(!1);it.useInsertionEffect(()=>{v&&E.current&&v.update(e,m)});const A=e[yA],D=it.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return px(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),it.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),v.enteringChildren=void 0)}),v}function B6(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:_A(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Ko(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function _A(n){if(n)return n.options.allowProjection!==!1?n.projection:_A(n.parent)}function Cp(n,{forwardMotionProps:t=!1}={},e,r){e&&m6(e);const o=h0(n)?P6:O6;function u(m,p){let g;const v={...it.useContext(a0),...m,layoutId:H6(m)},{isStatic:y}=v,E=_6(m),A=o(m,y);if(!y&&jy){q6();const D=F6(v);g=D.MeasureLayout,E.visualElement=z6(n,A,v,r,D.ProjectionNode)}return w.jsxs(od.Provider,{value:E,children:[g&&E.visualElement?w.jsx(g,{visualElement:E.visualElement,...v}):null,M6(n,m,j6(A,E.visualElement,p),A,y,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=it.forwardRef(u);return c[L6]=n,c}function H6({layoutId:n}){const t=it.useContext(Py).id;return t&&n!==void 0?t+"-"+n:n}function q6(n,t){it.useContext(oA).strict}function F6(n){const{drag:t,layout:e}=fl;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function G6(n,t){if(typeof Proxy>"u")return Cp;const e=new Map,r=(u,c)=>Cp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Cp(c,void 0,n,t)),e.get(c))})}function TA({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function K6({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Y6(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function Ip(n){return n===void 0||n===1}function Ag({scale:n,scaleX:t,scaleY:e}){return!Ip(n)||!Ip(t)||!Ip(e)}function Ma(n){return Ag(n)||bA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function bA(n){return Zb(n.x)||Zb(n.y)}function Zb(n){return n&&n!=="0%"}function Lf(n,t,e){const r=n-e,o=t*r;return e+o}function Jb(n,t,e,r,o){return o!==void 0&&(n=Lf(n,o,r)),Lf(n,e,r)+t}function Rg(n,t=0,e=1,r,o){n.min=Jb(n.min,t,e,r,o),n.max=Jb(n.max,t,e,r,o)}function EA(n,{x:t,y:e}){Rg(n.x,t.translate,t.scale,t.originPoint),Rg(n.y,e.translate,e.scale,e.originPoint)}const tE=.999999999999,eE=1.0000000000001;function Q6(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,EA(n,c)),r&&Ma(u.latestValues)&&Qo(n,u.latestValues))}t.x<eE&&t.x>tE&&(t.x=1),t.y<eE&&t.y>tE&&(t.y=1)}function Yo(n,t){n.min=n.min+t,n.max=n.max+t}function nE(n,t,e,r,o=.5){const u=Te(n.min,n.max,o);Rg(n,t,e,u,r)}function Qo(n,t){nE(n.x,t.x,t.scaleX,t.scale,t.originX),nE(n.y,t.y,t.scaleY,t.scale,t.originY)}function wA(n,t){return TA(Y6(n.getBoundingClientRect(),t))}function X6(n,t,e){const r=wA(n,e),{scroll:o}=t;return o&&(Yo(r.x,o.offset.x),Yo(r.y,o.offset.y)),r}const iE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:iE(),y:iE()}),sE=()=>({min:0,max:0}),Ge=()=>({x:sE(),y:sE()}),Cg={current:null},SA={current:!1};function $6(){if(SA.current=!0,!!jy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cg.current=n.matches;n.addEventListener("change",t),t()}else Cg.current=!1}const W6=new WeakMap;function Z6(n,t,e){for(const r in t){const o=t[r],u=e[r];if(bn(o))n.addValue(r,o);else if(bn(u))n.addValue(r,hl(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,hl(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const rE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J6{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Un.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ve.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ud(e),this.isVariantNode=uA(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in y){const A=y[E];p[E]!==void 0&&bn(A)&&A.set(p[E])}}mount(t){this.current=t,W6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),SA.current||$6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$r(this.notifyUpdate),$r(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fl){const e=fl[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<rE.length;r++){const o=rE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Z6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=hl(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gx(r)||vx(r))?r=parseFloat(r):!a6(r)&&Wr.test(e)&&(r=Jx(t,e)),this.setBaseTarget(t,bn(r)?r.get():r)),bn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=f0(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!bn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new qy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){s0.render(this.render)}}class xA extends J6{constructor(){super(...arguments),this.KeyframeResolver=Q5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function AA(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function t3(n){return window.getComputedStyle(n)}class e3 extends xA{constructor(){super(...arguments),this.type="html",this.renderInstance=AA}readValueFromInstance(t,e){if(wl.has(e))return this.projection?.isProjecting?_g(e):d5(t,e);{const r=t3(t),o=(Ky(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return wA(t,e)}build(t,e,r){u0(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return d0(t,e,r)}}const RA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n3(n,t,e,r){AA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(RA.has(o)?o:m0(o),t.attrs[o])}class i3 extends xA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(wl.has(e)){const r=Zx(e);return r&&r.default||0}return e=RA.has(e)?e:m0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return gA(t,e,r)}build(t,e,r){fA(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){n3(t,e,r,o)}mount(t){this.isSVGTag=mA(t.tagName),super.mount(t)}}const s3=(n,t)=>h0(n)?new i3(t):new e3(t,{allowProjection:n!==it.Fragment});function el(n,t,e){const r=n.getProps();return f0(r,t,e!==void 0?e:r.custom,n)}const Ig=n=>Array.isArray(n);function r3(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,hl(e))}function a3(n){return Ig(n)?n[n.length-1]||0:n}function o3(n,t){const e=el(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=a3(u[c]);r3(n,c,m)}}function l3(n){return!!(bn(n)&&n.add)}function Ng(n,t){const e=n.getValue("willChange");if(l3(e))return e.add(t);if(!e&&$s.WillChange){const r=new $s.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function CA(n){return n.props[yA]}const u3=n=>n!==null;function c3(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(u3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const h3={type:"spring",stiffness:500,damping:25,restSpeed:10},f3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),d3={type:"keyframes",duration:.8},m3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p3=(n,{keyframes:t})=>t.length>2?d3:wl.has(n)?n.startsWith("scale")?f3(t[1]):h3:m3;function g3({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const p0=(n,t,e,r={},o,u)=>c=>{const m=n0(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-vs(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};g3(m)||Object.assign(v,p3(n,v)),v.duration&&(v.duration=vs(v.duration)),v.repeatDelay&&(v.repeatDelay=vs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let y=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Sg(v),v.delay===0&&(y=!0)),($s.instantAnimations||$s.skipAnimations)&&(y=!0,Sg(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,y&&!u&&t.get()!==void 0){const E=c3(v.keyframes,m);if(E!==void 0){ve.update(()=>{v.onUpdate(E),v.onComplete()});return}}return m.isSync?new t0(v):new P5(v)};function y3({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function IA(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const y=n.getValue(v,n.latestValues[v]??null),E=m[v];if(E===void 0||g&&y3(g,v))continue;const A={delay:e,...n0(u||{},v)},D=y.get();if(D!==void 0&&!y.isAnimating&&!Array.isArray(E)&&E===D&&!A.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const G=CA(n);if(G){const J=window.MotionHandoffAnimation(G,v,ve);J!==null&&(A.startTime=J,U=!0)}}Ng(n,v),y.start(p0(v,y,E,n.shouldReduceMotion&&Xx.has(v)?{type:!1}:A,n,U));const H=y.animation;H&&p.push(H)}return c&&Promise.all(p).then(()=>{ve.update(()=>{c&&o3(n,c)})}),p}function NA(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}function Dg(n,t,e={}){const r=el(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(IA(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:y}=o;return v3(n,t,p,g,v,y,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function v3(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Dg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+NA(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function _3(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Dg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=Dg(n,t,e);else{const o=typeof t=="function"?el(n,t,e.custom):t;r=Promise.all(IA(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function DA(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const T3=l0.length;function MA(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?MA(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<T3;e++){const r=l0[e],o=n.props[r];(tc(o)||o===!1)&&(t[r]=o)}return t}const b3=[...o0].reverse(),E3=o0.length;function w3(n){return t=>Promise.all(t.map(({animation:e,options:r})=>_3(n,e,r)))}function S3(n){let t=w3(n),e=aE(),r=!0;const o=p=>(g,v)=>{const y=el(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(y){const{transition:E,transitionEnd:A,...D}=y;g={...g,...D,...A}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=MA(n.parent)||{},y=[],E=new Set;let A={},D=1/0;for(let H=0;H<E3;H++){const G=b3[H],J=e[G],X=g[G]!==void 0?g[G]:v[G],ft=tc(X),ct=G===p?J.isActive:null;ct===!1&&(D=H);let ot=X===v[G]&&X!==g[G]&&ft;if(ot&&r&&n.manuallyAnimateOnMount&&(ot=!1),J.protectedKeys={...A},!J.isActive&&ct===null||!X&&!J.prevProp||ld(X)||typeof X=="boolean")continue;const C=x3(J.prevProp,X);let R=C||G===p&&J.isActive&&!ot&&ft||H>D&&ft,I=!1;const O=Array.isArray(X)?X:[X];let V=O.reduce(o(G),{});ct===!1&&(V={});const{prevResolvedValues:L={}}=J,N={...L,...V},Ft=W=>{R=!0,E.has(W)&&(I=!0,E.delete(W)),J.needsAnimating[W]=!0;const ht=n.getValue(W);ht&&(ht.liveStyle=!1)};for(const W in N){const ht=V[W],Et=L[W];if(A.hasOwnProperty(W))continue;let St=!1;Ig(ht)&&Ig(Et)?St=!DA(ht,Et):St=ht!==Et,St?ht!=null?Ft(W):E.add(W):ht!==void 0&&E.has(W)?Ft(W):J.protectedKeys[W]=!0}J.prevProp=X,J.prevResolvedValues=V,J.isActive&&(A={...A,...V}),r&&n.blockInitialAnimation&&(R=!1);const Zt=ot&&C;R&&(!Zt||I)&&y.push(...O.map(W=>{const ht={type:G};if(typeof W=="string"&&r&&!Zt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Et}=n,St=el(Et,W);if(Et.enteringChildren&&St){const{delayChildren:k}=St.transition||{};ht.delay=NA(Et.enteringChildren,n,k)}}return{animation:W,options:ht}}))}if(E.size){const H={};if(typeof g.initial!="boolean"){const G=el(n,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(H.transition=G.transition)}E.forEach(G=>{const J=n.getBaseTarget(G),X=n.getValue(G);X&&(X.liveStyle=!0),H[G]=J??null}),y.push({animation:H})}let U=!!y.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(y):Promise.resolve()}function m(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(y=>y.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const y in e)e[y].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=aE()}}}function x3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!DA(t,n):!1}function Ia(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aE(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class ta{constructor(t){this.isMounted=!1,this.node=t}update(){}}class A3 extends ta{constructor(t){super(t),t.animationState||(t.animationState=S3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ld(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let R3=0;class C3 extends ta{constructor(){super(...arguments),this.id=R3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const I3={animation:{Feature:A3},exit:{Feature:C3}};function nc(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function _c(n){return{point:{x:n.pageX,y:n.pageY}}}const N3=n=>t=>r0(t)&&n(t,_c(t));function Uu(n,t,e,r){return nc(n,t,N3(e),r)}const VA=1e-4,D3=1-VA,M3=1+VA,kA=.01,V3=0-kA,k3=0+kA;function Rn(n){return n.max-n.min}function O3(n,t,e){return Math.abs(n-t)<=e}function oE(n,t,e,r=.5){n.origin=r,n.originPoint=Te(t.min,t.max,n.origin),n.scale=Rn(e)/Rn(t),n.translate=Te(e.min,e.max,n.origin)-n.originPoint,(n.scale>=D3&&n.scale<=M3||isNaN(n.scale))&&(n.scale=1),(n.translate>=V3&&n.translate<=k3||isNaN(n.translate))&&(n.translate=0)}function zu(n,t,e,r){oE(n.x,t.x,e.x,r?r.originX:void 0),oE(n.y,t.y,e.y,r?r.originY:void 0)}function lE(n,t,e){n.min=e.min+t.min,n.max=n.min+Rn(t)}function P3(n,t,e){lE(n.x,t.x,e.x),lE(n.y,t.y,e.y)}function uE(n,t,e){n.min=t.min-e.min,n.max=n.min+Rn(t)}function jf(n,t,e){uE(n.x,t.x,e.x),uE(n.y,t.y,e.y)}function pi(n){return[n("x"),n("y")]}const OA=({current:n})=>n?n.ownerDocument.defaultView:null,cE=(n,t)=>Math.abs(n-t);function L3(n,t){const e=cE(n.x,t.x),r=cE(n.y,t.y);return Math.sqrt(e**2+r**2)}class PA{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Dp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=L3(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:U}=E,{timestamp:H}=fn;this.history.push({...U,timestamp:H});const{onStart:G,onMove:J}=this.handlers;A||(G&&G(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Np(A,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:D,onSessionEnd:U,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Dp(E.type==="pointercancel"?this.lastMoveEventInfo:Np(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,G),U&&U(E,G)},!r0(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=_c(t),p=Np(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=fn;this.history=[{...g,timestamp:v}];const{onSessionStart:y}=e;y&&y(t,Dp(p,this.history)),this.removeListeners=gc(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$r(this.updatePoint)}}function Np(n,t){return t?{point:t(n.point)}:n}function hE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Dp({point:n},t){return{point:n,delta:hE(n,LA(t)),offset:hE(n,j3(t)),velocity:U3(t,.1)}}function j3(n){return n[0]}function LA(n){return n[n.length-1]}function U3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=LA(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>vs(t)));)e--;if(!r)return{x:0,y:0};const u=yi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function z3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?Te(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?Te(e,n,r.max):Math.min(n,e)),n}function fE(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function B3(n,{top:t,left:e,bottom:r,right:o}){return{x:fE(n.x,e,o),y:fE(n.y,t,r)}}function dE(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function H3(n,t){return{x:dE(n.x,t.x),y:dE(n.y,t.y)}}function q3(n,t){let e=.5;const r=Rn(n),o=Rn(t);return o>r?e=Wu(t.min,t.max-r,n.min):r>o&&(e=Wu(n.min,n.max-o,t.min)),Xs(0,1,e)}function F3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Mg=.35;function G3(n=Mg){return n===!1?n=0:n===!0&&(n=Mg),{x:mE(n,"left","right"),y:mE(n,"top","bottom")}}function mE(n,t,e){return{min:pE(n,t),max:pE(n,e)}}function pE(n,t){return typeof n=="number"?n:n[t]||0}const K3=new WeakMap;class Y3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(_c(y).point)},c=(y,E)=>{const{drag:A,dragPropagation:D,onDragStart:U}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z5(A),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(G=>{let J=this.getAxisMotionValue(G).get()||0;if(_s.test(J)){const{projection:X}=this.visualElement;if(X&&X.layout){const ft=X.layout.layoutBox[G];ft&&(J=Rn(ft)*(parseFloat(J)/100))}}this.originPoint[G]=J}),U&&ve.postRender(()=>U(y,E)),Ng(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},m=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:U,onDrag:H}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:G}=E;if(D&&this.currentDirection===null){this.currentDirection=Q3(G),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,G),this.updateAxis("y",E.point,G),this.visualElement.render(),H&&H(y,E)},p=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E,this.stop(y,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>pi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new PA(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:OA(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ve.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Wh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=z3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=B3(r.layoutBox,t):this.constraints=!1,this.elastic=G3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=F3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ko(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=X6(r,o.root,this.visualElement.getTransformPagePoint());let c=H3(o.layout.layoutBox,u);if(e){const m=e(K6(c));this.hasMutatedConstraints=!!m,m&&(c=TA(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=pi(v=>{if(!Wh(v,e,this.currentDirection))return;let y=p&&p[v]||{};c&&(y={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,D={type:"inertia",velocity:r?t[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(v,D)});return Promise.all(g).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return Ng(this.visualElement,t),r.start(p0(t,r,0,e,this.visualElement,!1))}stopAnimation(){pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){pi(e=>{const{drag:r}=this.getProps();if(!Wh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e];u.set(t[e]-Te(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pi(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=q3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pi(c=>{if(!Wh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(Te(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const t=this.visualElement.current,e=Uu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ko(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ve.read(r);const c=nc(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(pi(v=>{const y=this.getAxisMotionValue(v);y&&(this.originPoint[v]+=p[v].translate,y.set(y.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Mg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Wh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function Q3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class X3 extends ta{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new Y3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=n=>(t,e)=>{n&&ve.postRender(()=>n(t,e))};class $3 extends ta{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new PA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:gE(t),onStart:gE(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ve.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Su={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(At.test(n))n=parseFloat(n);else return n;const e=yE(n,t.target.x),r=yE(n,t.target.y);return`${e}% ${r}%`}},W3={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Wr.parse(n);if(o.length>5)return r;const u=Wr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=Te(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let Mp=!1;class Z3 extends it.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;T6(J3),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Mp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Mp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ve.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),s0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Mp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jA(n){const[t,e]=aA(),r=it.useContext(Py);return w.jsx(Z3,{...n,layoutGroup:r,switchLayoutGroup:it.useContext(vA),isPresent:t,safeToRemove:e})}const J3={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:W3};function tP(n,t,e){const r=bn(n)?n:hl(n);return r.start(p0("",r,t,e)),r.animation}const eP=(n,t)=>n.depth-t.depth;class nP{constructor(){this.children=[],this.isDirty=!1}add(t){Uy(this.children,t),this.isDirty=!0}remove(t){zy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eP),this.isDirty=!1,this.children.forEach(t)}}function iP(n,t){const e=Un.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&($r(r),n(u-t))};return ve.setup(r,!0),()=>$r(r)}const UA=["TopLeft","TopRight","BottomLeft","BottomRight"],sP=UA.length,vE=n=>typeof n=="string"?parseFloat(n):n,_E=n=>typeof n=="number"||At.test(n);function rP(n,t,e,r,o,u){o?(n.opacity=Te(0,e.opacity??1,aP(r)),n.opacityExit=Te(t.opacity??1,0,oP(r))):u&&(n.opacity=Te(t.opacity??1,e.opacity??1,r));for(let c=0;c<sP;c++){const m=`border${UA[c]}Radius`;let p=TE(t,m),g=TE(e,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||_E(p)===_E(g)?(n[m]=Math.max(Te(vE(p),vE(g),r),0),(_s.test(g)||_s.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||e.rotate)&&(n.rotate=Te(t.rotate||0,e.rotate||0,r))}function TE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const aP=zA(0,.5,Ax),oP=zA(.5,.95,_i);function zA(n,t,e){return r=>r<n?0:r>t?1:e(Wu(n,t,r))}function bE(n,t){n.min=t.min,n.max=t.max}function Pi(n,t){bE(n.x,t.x),bE(n.y,t.y)}function EE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function wE(n,t,e,r,o){return n-=t,n=Lf(n,1/e,r),o!==void 0&&(n=Lf(n,1/o,r)),n}function lP(n,t=0,e=1,r=.5,o,u=n,c=n){if(_s.test(t)&&(t=parseFloat(t),t=Te(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Te(u.min,u.max,r);n===u&&(m-=t),n.min=wE(n.min,t,e,m,o),n.max=wE(n.max,t,e,m,o)}function SE(n,t,[e,r,o],u,c){lP(n,t[e],t[r],t[o],t.scale,u,c)}const uP=["x","scaleX","originX"],cP=["y","scaleY","originY"];function xE(n,t,e,r){SE(n.x,t,uP,e?e.x:void 0,r?r.x:void 0),SE(n.y,t,cP,e?e.y:void 0,r?r.y:void 0)}function AE(n){return n.translate===0&&n.scale===1}function BA(n){return AE(n.x)&&AE(n.y)}function RE(n,t){return n.min===t.min&&n.max===t.max}function hP(n,t){return RE(n.x,t.x)&&RE(n.y,t.y)}function CE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function HA(n,t){return CE(n.x,t.x)&&CE(n.y,t.y)}function IE(n){return Rn(n.x)/Rn(n.y)}function NE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class fP{constructor(){this.members=[]}add(t){Uy(this.members,t),t.scheduleRender()}remove(t){if(zy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dP(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:y,rotateY:E,skewX:A,skewY:D}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),y&&(r+=`rotateX(${y}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Vp=["","X","Y","Z"],mP=1e3;let pP=0;function kp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function qA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=CA(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ve,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&qA(r)}function FA({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=pP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vP),this.nodes.forEach(EP),this.nodes.forEach(wP),this.nodes.forEach(_P)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new nP)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qy),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=rA(c)&&!s6(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,y=0;const E=()=>this.root.updateBlockedByResize=!1;ve.read(()=>{y=window.innerWidth}),n(c,()=>{const A=window.innerWidth;A!==y&&(y=A,this.root.updateBlockedByResize=!0,v&&v(),v=iP(E,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(VE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||CP,{onLayoutAnimationStart:U,onLayoutAnimationComplete:H}=g.getProps(),G=!this.targetLayout||!HA(this.targetLayout,A),J=!y&&E;if(this.options.layoutRoot||this.resumeFrom||J||y&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...n0(D,"layout"),onPlay:U,onComplete:H};(g.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(v,J)}else y||VE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const y=this.path[v];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ME);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bP),this.nodes.forEach(gP),this.nodes.forEach(yP)):this.nodes.forEach(ME),this.clearAllSnapshots();const m=Un.now();fn.delta=Xs(0,1e3/60,m-fn.timestamp),fn.timestamp=m,fn.isProcessing=!0,Ep.update.process(fn),Ep.preRender.process(fn),Ep.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TP),this.sharedNodes.forEach(xP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!BA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ma(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),IP(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ge();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(NP))){const{scroll:g}=this.root;g&&(Yo(m.x,g.offset.x),Yo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=Ge();if(Pi(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:y}=g;g!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&Pi(m,c),Yo(m.x,v.offset.x),Yo(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=Ge();Pi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Qo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&Qo(p,v.latestValues)}return Ma(this.latestValues)&&Qo(p,this.latestValues),p}removeTransform(c){const m=Ge();Pi(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ma(g.latestValues))continue;Ag(g.latestValues)&&g.updateSnapshot();const v=Ge(),y=g.measurePageBox();Pi(v,y),xE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&xE(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:y}=this.options;if(!this.layout||!(v||y))return;this.resolvedRelativeTargetAt=fn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),EA(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ag(this.parent.latestValues)||bA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),jf(this.relativeTargetOrigin,m,p),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Pi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;Q6(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ge());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EE(this.prevProjectionDelta.x,this.projectionDelta.x),EE(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!NE(this.projectionDelta.x,this.prevProjectionDelta.x)||!NE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},y=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=Ge(),A=p?p.source:void 0,D=this.layout?this.layout.source:void 0,U=A!==D,H=this.getStack(),G=!H||H.members.length<=1,J=!!(U&&!G&&this.options.crossfade===!0&&!this.path.some(RP));this.animationProgress=0;let X;this.mixTargetDelta=ft=>{const ct=ft/1e3;kE(y.x,c.x,ct),kE(y.y,c.y,ct),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AP(this.relativeTarget,this.relativeTargetOrigin,E,ct),X&&hP(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=Ge()),Pi(X,this.relativeTarget)),U&&(this.animationValues=v,rP(v,g,this.latestValues,ct,J,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ct},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hl(0)),this.currentAnimation=tP(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&GA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ge();const y=Rn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+y;const E=Rn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}Pi(m,p),Qo(m,v),zu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fP),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&kp("z",c,g,this.animationValues);for(let v=0;v<Vp.length;v++)kp(`rotate${Vp[v]}`,c,g,this.animationValues),kp(`skew${Vp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hf(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hf(m?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let y=dP(this.projectionDeltaWithTransform,this.treeScale,v);p&&(y=p(v,y)),c.transform=y;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in ec){if(v[D]===void 0)continue;const{correct:U,applyTo:H,isCSSVariable:G}=ec[D],J=y==="none"?v[D]:U(v[D],g);if(H){const X=H.length;for(let ft=0;ft<X;ft++)c[H[ft]]=J}else G?this.options.visualElement.renderState.vars[D]=J:c[D]=J}this.options.layoutId&&(c.pointerEvents=g===this?hf(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(DE),this.root.sharedNodes.clear()}}}function gP(n){n.updateLayout()}function yP(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?pi(v=>{const y=u?t.measuredBox[v]:t.layoutBox[v],E=Rn(y);y.min=e[v].min,y.max=y.min+E}):GA(o,t.layoutBox,e)&&pi(v=>{const y=u?t.measuredBox[v]:t.layoutBox[v],E=Rn(e[v]);y.max=y.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+E)});const c=Xo();zu(c,e,t.layoutBox);const m=Xo();u?zu(m,n.applyTransform(r,!0),t.measuredBox):zu(m,e,t.layoutBox);const p=!BA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:E}=v;if(y&&E){const A=Ge();jf(A,t.layoutBox,y.layoutBox);const D=Ge();jf(D,e,E.layoutBox),HA(A,D)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=A,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function vP(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _P(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TP(n){n.clearSnapshot()}function DE(n){n.clearMeasurements()}function ME(n){n.isLayoutDirty=!1}function bP(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function VE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function EP(n){n.resolveTargetDelta()}function wP(n){n.calcProjection()}function SP(n){n.resetSkewAndRotation()}function xP(n){n.removeLeadSnapshot()}function kE(n,t,e){n.translate=Te(t.translate,0,e),n.scale=Te(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function OE(n,t,e,r){n.min=Te(t.min,e.min,r),n.max=Te(t.max,e.max,r)}function AP(n,t,e,r){OE(n.x,t.x,e.x,r),OE(n.y,t.y,e.y,r)}function RP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const CP={duration:.45,ease:[.4,0,.1,1]},PE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),LE=PE("applewebkit/")&&!PE("chrome/")?Math.round:_i;function jE(n){n.min=LE(n.min),n.max=LE(n.max)}function IP(n){jE(n.x),jE(n.y)}function GA(n,t,e){return n==="position"||n==="preserve-aspect"&&!O3(IE(t),IE(e),.2)}function NP(n){return n!==n.root&&n.scroll?.wasRoot}const DP=FA({attachResizeListener:(n,t)=>nc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Op={current:void 0},KA=FA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Op.current){const n=new DP({});n.mount(window),n.setOptions({layoutScroll:!0}),Op.current=n}return Op.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MP={pan:{Feature:$3},drag:{Feature:X3,ProjectionNode:KA,MeasureLayout:jA}};function UE(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ve.postRender(()=>u(t,_c(t)))}class VP extends ta{mount(){const{current:t}=this.node;t&&(this.unmount=J5(t,(e,r)=>(UE(this.node,r,"Start"),o=>UE(this.node,o,"End"))))}unmount(){}}class kP extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gc(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zE(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ve.postRender(()=>u(t,_c(t)))}class OP extends ta{mount(){const{current:t}=this.node;t&&(this.unmount=i6(t,(e,r)=>(zE(this.node,r,"Start"),(o,{success:u})=>zE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vg=new WeakMap,Pp=new WeakMap,PP=n=>{const t=Vg.get(n.target);t&&t(n)},LP=n=>{n.forEach(PP)};function jP({root:n,...t}){const e=n||document;Pp.has(e)||Pp.set(e,{});const r=Pp.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LP,{root:n,...t})),r[o]}function UP(n,t,e){const r=jP(t);return Vg.set(n,e),r.observe(n),()=>{Vg.delete(n),r.unobserve(n)}}const zP={some:0,all:1};class BP extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:zP[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:y}=this.node.getProps(),E=g?v:y;E&&E(p)};return UP(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(HP(t,e))&&this.startObserver()}unmount(){}}function HP({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const qP={inView:{Feature:BP},tap:{Feature:OP},focus:{Feature:kP},hover:{Feature:VP}},FP={layout:{ProjectionNode:KA,MeasureLayout:jA}},GP={...I3,...qP,...MP,...FP},KP=G6(GP,s3),YA={apiKey:"AIzaSyARypVAjLuFlXSuqU-tYNj2L-dLgLq2H74",authDomain:"productivity-git.firebaseapp.com",projectId:"productivity-git",storageBucket:"productivity-git.firebasestorage.app",messagingSenderId:"874339373522",appId:"1:874339373522:web:939bfa39737dc81fcd380b",measurementId:"G-RWZJGDK0V9"},Ze=(YA.appId||"default-app").replace(/[^a-zA-Z0-9_-]/g,"_"),QA=ow(YA),Lp=_M(QA),Je=Tk(QA),BE=(n=.5,t="complete")=>{if(!(n<=0))try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const r=new e,o=r.createOscillator(),u=r.createGain();o.connect(u),u.connect(r.destination),t==="complete"?(o.type="triangle",o.frequency.setValueAtTime(523.25,r.currentTime),o.frequency.linearRampToValueAtTime(659.25,r.currentTime+.1),o.frequency.linearRampToValueAtTime(783.99,r.currentTime+.2),o.frequency.linearRampToValueAtTime(1046.5,r.currentTime+.3),u.gain.setValueAtTime(n,r.currentTime),u.gain.exponentialRampToValueAtTime(.01,r.currentTime+.6),o.start(r.currentTime),o.stop(r.currentTime+.6)):(o.type="sine",o.frequency.setValueAtTime(880,r.currentTime),u.gain.setValueAtTime(n*.5,r.currentTime),u.gain.exponentialRampToValueAtTime(.01,r.currentTime+.1),o.start(r.currentTime),o.stop(r.currentTime+.1))}catch(e){console.error("Audio play failed",e)}};class YP{constructor(){this.ctx=null,this.nodes={},this.intervals={},this.volumes={}}init(){if(this.ctx)return;const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t}createNoise(t){this.ctx||this.init();const e=2*this.ctx.sampleRate,r=this.ctx.createBuffer(1,e,this.ctx.sampleRate),o=r.getChannelData(0);for(let c=0;c<e;c++){const m=Math.random()*2-1;if(t==="white")o[c]=m;else if(t==="pink"){const p=[0,0,0,0,0,0,0];p[0]=.99886*p[0]+m*.0555179,p[1]=.99332*p[1]+m*.0750759,p[2]=.969*p[2]+m*.153852,p[3]=.8665*p[3]+m*.3104856,p[4]=.55*p[4]+m*.5329522,p[5]=-.7616*p[5]-m*.016898,o[c]=p[0]+p[1]+p[2]+p[3]+p[4]+p[5]+m*.5362,o[c]*=.11}else if(t==="brown"){const p=c>0?o[c-1]:0;o[c]=(p+.02*m)/1.02,o[c]*=3.5}}const u=this.ctx.createBufferSource();return u.buffer=r,u.loop=!0,u}playChime(t){if(!this.ctx||t<=0)return;const e=this.ctx.createOscillator(),r=this.ctx.createGain(),o=[1046.5,1174.66,1318.51,1567.98,1760],u=o[Math.floor(Math.random()*o.length)];e.frequency.value=u,e.type="sine",e.connect(r),r.connect(this.ctx.destination);const c=this.ctx.currentTime;r.gain.setValueAtTime(0,c),r.gain.linearRampToValueAtTime(t*.3,c+.05),r.gain.exponentialRampToValueAtTime(.001,c+3),e.start(c),e.stop(c+3.5),setTimeout(()=>{e.disconnect(),r.disconnect()},4e3)}toggle(t,e){if(this.volumes[t]=e,t==="chimes"){this.intervals.chimes&&(clearInterval(this.intervals.chimes),delete this.intervals.chimes),e>0&&(this.init(),this.ctx.state==="suspended"&&this.ctx.resume(),this.intervals.chimes=setInterval(()=>{Math.random()<.3&&this.playChime(this.volumes.chimes)},2e3),this.playChime(e));return}if(this.nodes[t]){try{this.nodes[t].source.stop(),this.nodes[t].gain.disconnect()}catch{}delete this.nodes[t]}if(e>0){this.init(),this.ctx.state==="suspended"&&this.ctx.resume();const r=this.createNoise(t),o=this.ctx.createGain();o.gain.value=e,r.connect(o),o.connect(this.ctx.destination),r.start(),this.nodes[t]={source:r,gain:o}}}setVolume(t,e){if(this.volumes[t]=e,t==="chimes"){e<=0&&this.intervals.chimes?(clearInterval(this.intervals.chimes),delete this.intervals.chimes):e>0&&!this.intervals.chimes&&this.toggle("chimes",e);return}this.nodes[t]?this.nodes[t].gain.gain.linearRampToValueAtTime(e,this.ctx.currentTime+.1):e>0&&this.toggle(t,e)}stopAll(){Object.keys(this.nodes).forEach(t=>{try{this.nodes[t].source.stop()}catch{}}),Object.keys(this.intervals).forEach(t=>{clearInterval(this.intervals[t])}),this.nodes={},this.intervals={},this.ctx&&this.ctx.close(),this.ctx=null}}const HE=new YP,QP=({isActive:n})=>{const t=it.useRef(null);return it.useEffect(()=>{if(!n)return;const e=t.current,r=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const o=[],u=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6"];for(let m=0;m<150;m++)o.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20,size:Math.random()*8+2,color:u[Math.floor(Math.random()*u.length)],gravity:.5,drag:.96,life:100});const c=()=>{r.clearRect(0,0,e.width,e.height);let m=!1;o.forEach(p=>{p.life>0&&(m=!0,p.x+=p.vx,p.y+=p.vy,p.vy+=p.gravity,p.vx*=p.drag,p.vy*=p.drag,p.life--,r.fillStyle=p.color,r.beginPath(),r.arc(p.x,p.y,p.size,0,Math.PI*2),r.fill())}),m&&requestAnimationFrame(c)};c()},[n]),n?w.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"}):null},XP=({timeLeft:n,isActive:t,mode:e,toggleTimer:r,onExpand:o})=>{const[u,c]=it.useState(!1),m=p=>{const g=Math.floor(p/60),v=p%60;return`${g.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`};return u?w.jsxs("div",{className:"fixed bottom-6 right-6 z-50 animate-fade-in flex flex-col items-end gap-2",children:[w.jsx("button",{onClick:()=>c(!1),className:"bg-white p-2 rounded-xl shadow-[0_4px_20px_rgb(0,0,0,0.1)] border border-slate-200 text-slate-400 hover:text-indigo-600 transition-colors",title:"Expand Timer",children:w.jsx(Q1,{size:16})}),w.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center cursor-pointer shadow-[0_4px_20px_rgb(0,0,0,0.15)] transition-all transform hover:scale-105 ${e==="work"?"bg-indigo-600 text-white":"bg-teal-500 text-white"}`,onClick:r,title:t?"Pause":"Resume",children:t?w.jsx(Up,{size:20,fill:"currentColor"}):w.jsx(mf,{size:20,fill:"currentColor",className:"ml-0.5"})})]}):w.jsxs("div",{className:"fixed bottom-6 right-6 bg-white p-3 pr-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200 flex items-center gap-4 z-50 animate-bounce-in",children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center cursor-pointer transition-colors ${e==="work"?"bg-indigo-100 text-indigo-600":"bg-teal-100 text-teal-600"}`,onClick:r,children:t?w.jsx(Up,{size:18,fill:"currentColor"}):w.jsx(mf,{size:18,fill:"currentColor"})}),w.jsxs("div",{className:"flex flex-col cursor-pointer min-w-[60px]",onClick:o,children:[w.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider leading-none mb-1",children:e}),w.jsx("span",{className:"text-xl font-mono font-bold text-slate-700 leading-none",children:m(n)})]}),w.jsxs("div",{className:"flex items-center border-l border-slate-100 pl-2 ml-1",children:[w.jsx("button",{onClick:()=>c(!0),className:"p-2 text-slate-300 hover:text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",title:"Minimize",children:w.jsx(jp,{size:16})}),w.jsx("button",{onClick:o,className:"p-2 text-slate-300 hover:text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",title:"Full View",children:w.jsx(Q1,{size:16})})]})]})},$P=({timeLeft:n,isActive:t,mode:e,toggleTimer:r,resetTimer:o,switchMode:u,volume:c,setVolume:m,dailyCount:p})=>{const y=G=>{const J=Math.floor(G/60),X=G%60;return`${J.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}`},E=e==="work"?1500:300,A=(E-n)/E*100,D=120,U=2*Math.PI*D,H=U-A/100*U;return w.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-3xl mx-auto animate-fade-in text-slate-900 dark:text-slate-100",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full",children:[w.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 flex flex-col items-center relative overflow-hidden transition-colors",children:[w.jsxs("div",{className:"flex space-x-2 bg-slate-50 dark:bg-slate-700/50 p-1.5 rounded-xl mb-8 relative z-10",children:[w.jsx("button",{onClick:()=>u("work"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${e==="work"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow-sm scale-105":"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Deep Work"}),w.jsx("button",{onClick:()=>u("break"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${e==="break"?"bg-white dark:bg-slate-600 text-teal-600 dark:text-teal-400 shadow-sm scale-105":"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Rest"})]}),w.jsxs("div",{className:"relative mb-8 group cursor-default",children:[w.jsxs("svg",{className:"transform -rotate-90 w-80 h-80",children:[w.jsx("circle",{cx:"160",cy:"160",r:D,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-50 dark:text-slate-700/30 transition-colors"}),w.jsx("circle",{cx:"160",cy:"160",r:D,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:U,strokeDashoffset:H,strokeLinecap:"round",className:`transition-all duration-1000 ease-linear ${e==="work"?"text-indigo-500":"text-teal-500"}`})]}),w.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[w.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${e==="work"?"text-indigo-900 dark:text-indigo-300":"text-teal-900 dark:text-teal-300"}`,children:y(n)}),w.jsx("div",{className:"text-slate-400 text-sm font-medium mt-2 tracking-widest uppercase",children:t?"Focusing":"Paused"})]})]}),w.jsxs("div",{className:"flex items-center space-x-6 relative z-10",children:[w.jsx("button",{onClick:o,className:"p-4 rounded-2xl bg-slate-50 dark:bg-slate-700 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-600 hover:text-slate-600 transition-colors",children:w.jsx(Og,{size:24})}),w.jsx("button",{onClick:r,className:`p-6 rounded-3xl transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl ${t?"bg-amber-50 text-amber-500 hover:bg-amber-100 ring-4 ring-amber-50 dark:ring-amber-900/10":e==="work"?"bg-indigo-600 text-white hover:bg-indigo-700 ring-4 ring-indigo-50 dark:ring-indigo-900/20":"bg-teal-500 text-white hover:bg-teal-600 ring-4 ring-teal-50 dark:ring-teal-900/20"}`,children:t?w.jsx(Up,{size:36,fill:"currentColor"}):w.jsx(mf,{size:36,fill:"currentColor",className:"ml-1"})})]})]}),w.jsxs("div",{className:"flex flex-col space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx($E,{size:120})}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("h3",{className:"text-indigo-100 font-medium mb-1 flex items-center gap-2",children:[w.jsx(SC,{size:18})," Daily Focus"]}),w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("span",{className:"text-5xl font-bold",children:p}),w.jsx("span",{className:"text-indigo-200 text-sm font-medium",children:"sessions"})]}),w.jsx("div",{className:"mt-4 bg-white/20 h-2 rounded-full overflow-hidden backdrop-blur-sm",children:w.jsx("div",{className:"h-full bg-white/90 rounded-full transition-all duration-1000",style:{width:`${Math.min(p/8*100,100)}%`}})}),w.jsx("p",{className:"text-xs text-indigo-200 mt-2",children:"Goal: 8 sessions / day"})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 flex-1 transition-colors",children:[w.jsxs("h3",{className:"text-slate-500 dark:text-slate-300 font-medium mb-4 flex items-center gap-2",children:[w.jsx(X1,{size:18})," Soundscape"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[w.jsx(VC,{size:18}),w.jsx(X1,{size:18})]}),w.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:c,onChange:G=>m(parseFloat(G.target.value)),className:"w-full h-2 bg-slate-100 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-600"}),w.jsx("p",{className:"text-xs text-slate-400 text-center",children:"Adjust notification volume"})]})]})]})]})})},xu=({title:n,status:t,tasks:e,user:r,onDrop:o,onDragStart:u})=>{const c=v=>v.preventDefault(),m={todo:"border-blue-500",doing:"border-amber-500",done:"border-emerald-500",waiting:"border-purple-500","not-doing":"border-red-500"}[t]||"border-slate-300",p={todo:"bg-blue-50",doing:"bg-amber-50",done:"bg-emerald-50",waiting:"bg-purple-50","not-doing":"bg-red-50"}[t]||"bg-slate-50",g={todo:"text-blue-700",doing:"text-amber-700",done:"text-emerald-700",waiting:"text-purple-700","not-doing":"text-red-700"}[t]||"text-slate-700";return w.jsxs("div",{className:`flex-1 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl flex flex-col min-h-[500px] border-t-4 ${m} shadow-[0_8px_30px_rgb(0,0,0,0.04)]`,onDragOver:c,onDrop:v=>o(v,t),children:[w.jsxs("div",{className:`p-4 rounded-t-sm ${p} dark:bg-slate-800 flex items-center justify-between border-b border-slate-200/50 dark:border-slate-700/50`,children:[w.jsx("h3",{className:`font-bold ${g} dark:text-slate-200 uppercase tracking-wide text-sm`,children:n}),w.jsx("span",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm text-slate-500 dark:text-slate-400 text-xs font-bold px-2.5 py-1 rounded-full shadow-sm",children:e.length})]}),w.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-1",children:e.map(v=>w.jsxs("div",{draggable:!0,onDragStart:y=>u(y,v.id),className:"bg-white dark:bg-slate-700 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-600 cursor-move hover:shadow-lg hover:-translate-y-1 transition-all duration-200 group relative",children:[w.jsx("p",{className:"text-slate-700 dark:text-slate-200 font-medium text-sm leading-relaxed",children:v.content}),w.jsx("div",{className:"flex justify-end mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:w.jsx("button",{onClick:()=>ky(Qa(Je,"artifacts",Ze,"users",r.uid,"kanban",v.id)),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors",children:w.jsx(Pg,{size:14})})})]},v.id))})]})},WP=({user:n,energyLevel:t})=>{const[e,r]=it.useState([]),[o,u]=it.useState(""),[c,m]=it.useState("medium");it.useEffect(()=>{if(!n)return;const E=mc(vi(Je,"artifacts",Ze,"users",n.uid,"kanban"));return pc(E,A=>r(A.docs.map(D=>({id:D.id,...D.data()}))),A=>console.error("Kanban error",A))},[n]);const p=async E=>{E.preventDefault(),o.trim()&&(await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"kanban"),{content:o,status:"todo",energy:c,createdAt:qr()}),u(""),m("medium"),rd.success("Task added to board"))},g=(E,A)=>E.dataTransfer.setData("taskId",A),v=async(E,A)=>{const D=E.dataTransfer.getData("taskId");D&&await Vy(Qa(Je,"artifacts",Ze,"users",n.uid,"kanban",D),{status:A})},y=e.filter(E=>!(t<=4&&E.energy==="high"));return w.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[w.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm transition-colors",children:w.jsxs("form",{onSubmit:p,className:"flex gap-3",children:[w.jsxs("div",{className:"flex-1 relative",children:[w.jsx(QE,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),w.jsx("input",{type:"text",value:o,onChange:E=>u(E.target.value),placeholder:"Add a new task...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 dark:text-white rounded-lg border-transparent focus:bg-white dark:focus:bg-slate-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all text-slate-700"})]}),w.jsxs("select",{value:c,onChange:E=>m(E.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 dark:text-white rounded-lg border-transparent focus:bg-white dark:focus:bg-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none text-slate-600 text-sm font-medium",children:[w.jsx("option",{value:"low",children:"Low Energy"}),w.jsx("option",{value:"medium",children:"Medium Energy"}),w.jsx("option",{value:"high",children:"High Energy"})]}),w.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-medium shadow-sm transition-all hover:shadow-md",children:"Add Task"})]})}),w.jsxs("div",{className:"flex-1 flex gap-6 overflow-x-auto pb-4 px-1",children:[w.jsx(xu,{title:"To Do",status:"todo",tasks:y.filter(E=>E.status==="todo"),user:n,onDrop:v,onDragStart:g}),w.jsx(xu,{title:"In Progress",status:"doing",tasks:y.filter(E=>E.status==="doing"),user:n,onDrop:v,onDragStart:g}),w.jsx(xu,{title:"Waiting On",status:"waiting",tasks:y.filter(E=>E.status==="waiting"),user:n,onDrop:v,onDragStart:g}),w.jsx(xu,{title:"Done",status:"done",tasks:y.filter(E=>E.status==="done"),user:n,onDrop:v,onDragStart:g}),w.jsx(xu,{title:"Anti-Goal (Not Doing)",status:"not-doing",tasks:y.filter(E=>E.status==="not-doing"),user:n,onDrop:v,onDragStart:g})]})]})},ZP=({user:n})=>{const[t,e]=it.useState([]),[r,o]=it.useState(null),u=it.useRef(null);it.useEffect(()=>{if(!n)return;const A=mc(vi(Je,"artifacts",Ze,"users",n.uid,"notes"),My("updatedAt","desc"));return pc(A,D=>e(D.docs.map(U=>({id:U.id,...U.data()}))))},[n]);const c=t.find(A=>A.id===r)||{title:"",content:"",isCode:!1},m=async()=>{const A=await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"notes"),{title:"",content:"",isCode:!1,updatedAt:qr()});o(A.id)},p=async(A,D)=>{r&&await Vy(Qa(Je,"artifacts",Ze,"users",n.uid,"notes",r),{[A]:D,updatedAt:qr()})},g=async(A,D)=>{D.stopPropagation(),await ky(Qa(Je,"artifacts",Ze,"users",n.uid,"notes",A)),r===A&&o(null)},v=()=>{if(!r)return;const A=document.createElement("a"),D=new Blob([c.content],{type:"text/markdown"});A.href=URL.createObjectURL(D),A.download=`${c.title||"untitled"}.md`,document.body.appendChild(A),A.click(),document.body.removeChild(A)},y=()=>u.current.click(),E=async A=>{const D=A.target.files[0];if(!D)return;const U=new FileReader;U.onload=async H=>{const G=H.target.result,J=D.name.replace(".md","").replace(".txt","");await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"notes"),{title:J,content:G,isCode:!1,updatedAt:qr()})},U.readAsText(D),A.target.value=null};return w.jsxs("div",{className:"h-full flex bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm transition-colors",children:[w.jsxs("div",{className:"w-64 bg-slate-50 dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 flex flex-col",children:[w.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800",children:[w.jsxs("h2",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx(Va,{size:18,className:"text-indigo-500"})," Library"]}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("input",{type:"file",ref:u,onChange:E,className:"hidden",accept:".md,.txt"}),w.jsx("button",{onClick:y,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Import Markdown",children:w.jsx(CC,{size:16})}),w.jsx("button",{onClick:m,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:w.jsx(QE,{size:16})})]})]}),w.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1",children:t.map(A=>w.jsxs("div",{onClick:()=>o(A.id),className:`p-3 rounded-lg cursor-pointer group transition-all ${r===A.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-700 hover:shadow-sm"}`,children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h4",{className:`font-medium truncate text-sm ${A.title?"":"italic opacity-50"}`,children:A.title||"Untitled Note"}),w.jsx("button",{onClick:D=>g(A.id,D),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-500 transition-opacity",children:w.jsx(Pg,{size:14})})]}),w.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 flex items-center gap-1",children:[A.isCode?w.jsx(Y1,{size:10}):w.jsx(Va,{size:10}),new Date(A.updatedAt?.seconds*1e3||Date.now()).toLocaleDateString()]})]},A.id))})]}),w.jsx("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900",children:r?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"px-8 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[w.jsx("div",{className:"flex-1 mr-4",children:w.jsx("input",{value:c.title,onChange:A=>p("title",A.target.value),className:"text-xl font-bold text-slate-800 dark:text-slate-100 outline-none w-full bg-transparent placeholder:text-slate-300",placeholder:"Untitled Note"})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:v,className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-800 rounded transition-colors",title:"Export to Markdown",children:w.jsx(GR,{size:18})}),w.jsx("div",{className:"h-4 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),w.jsx("button",{onClick:()=>p("isCode",!c.isCode),className:`px-3 py-1.5 rounded-lg flex items-center gap-2 text-xs font-bold tracking-wide transition-colors ${c.isCode?"bg-slate-800 text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:c.isCode?w.jsxs(w.Fragment,{children:[w.jsx(Y1,{size:14})," CODE"]}):w.jsxs(w.Fragment,{children:[w.jsx(Va,{size:14})," TEXT"]})})]})]}),w.jsx("textarea",{className:`flex-1 w-full p-8 outline-none resize-none leading-relaxed text-base ${c.isCode?"font-mono bg-[#1e1e1e] text-[#d4d4d4]":"bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-300 selection:bg-indigo-100 dark:selection:bg-indigo-900"}`,value:c.content,onChange:A=>p("content",A.target.value),placeholder:c.isCode?"// Type code snippet here...":"Start writing...",spellCheck:!c.isCode})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 dark:text-slate-600",children:[w.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:w.jsx(Va,{size:40})}),w.jsx("p",{className:"font-medium",children:"Select a note to view details"})]})})]})},JP=({user:n})=>{const[t,e]=it.useState([]),[r,o]=it.useState(""),u=it.useMemo(()=>{const y=[];for(let E=-3;E<=3;E++){const A=new Date;A.setDate(A.getDate()+E),y.push(A.toISOString().split("T")[0])}return y},[]);it.useEffect(()=>{if(!n)return;const y=mc(vi(Je,"artifacts",Ze,"users",n.uid,"habits"),My("createdAt","desc"));return pc(y,E=>e(E.docs.map(A=>({id:A.id,...A.data()}))))},[n]);const c=async y=>{y.preventDefault(),r.trim()&&(await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"habits"),{name:r,history:{},createdAt:qr()}),o(""))},m=async(y,E)=>{const A={...y.history};A[E]?delete A[E]:A[E]=!0,await Vy(Qa(Je,"artifacts",Ze,"users",n.uid,"habits",y.id),{history:A})},p=async y=>{window.confirm("Stop tracking this habit?")&&(await ky(Qa(Je,"artifacts",Ze,"users",n.uid,"habits",y)),rd.success("Habit deleted"))},g=y=>{let E=0;const A=new Date;let D=new Date(A),U=D.toISOString().split("T")[0];if(!y[U]&&(D.setDate(D.getDate()-1),U=D.toISOString().split("T")[0],!y[U]))return 0;for(;U=D.toISOString().split("T")[0],y[U];)E++,D.setDate(D.getDate()-1);return E},v=y=>{let E=0;return u.forEach(A=>{y[A]&&E++}),E/7*100};return w.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center gap-4 transition-colors",children:[w.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:w.jsx(df,{size:24})}),w.jsxs("form",{onSubmit:c,className:"flex-1 flex gap-2",children:[w.jsx("input",{type:"text",value:r,onChange:y=>o(y.target.value),placeholder:"What habit do you want to build?",className:"flex-1 px-4 py-2 bg-transparent outline-none text-lg text-slate-700 dark:text-slate-200 placeholder:text-slate-300 dark:placeholder:text-slate-600"}),w.jsx("button",{type:"submit",className:"bg-slate-900 dark:bg-slate-700 text-white px-6 py-2 rounded-xl hover:bg-slate-800 dark:hover:bg-slate-600 font-medium transition-colors",children:"Add Habit"})]})]}),w.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex-1 flex flex-col transition-colors",children:w.jsx("div",{className:"overflow-x-auto flex-1",children:w.jsxs("table",{className:"w-full min-w-[800px]",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/30 border-b border-slate-100 dark:border-slate-700",children:[w.jsx("th",{className:"text-left p-6 text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider w-1/3",children:"Habit"}),w.jsx("th",{className:"text-left p-6 text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider w-32",children:"Streak"}),u.map(y=>{const E=new Date(y),A=new Date().toDateString()===E.toDateString();return w.jsx("th",{className:"p-4 text-center w-16",children:w.jsxs("div",{className:`flex flex-col items-center justify-center w-10 h-10 rounded-lg ${A?"bg-indigo-600 text-white shadow-md":""}`,children:[w.jsx("span",{className:`text-[10px] font-bold uppercase ${A?"text-indigo-200":"text-slate-400 dark:text-slate-500"}`,children:E.toLocaleDateString("en-US",{weekday:"short"})}),w.jsx("span",{className:`text-sm font-bold ${A?"text-white":"text-slate-600 dark:text-slate-400"}`,children:E.getDate()})]})},y)}),w.jsx("th",{className:"w-16"})]})}),w.jsxs("tbody",{children:[t.map(y=>{const E=g(y.history),A=v(y.history);return w.jsxs("tr",{className:"border-b border-slate-50 dark:border-slate-700/50 hover:bg-slate-50/80 dark:hover:bg-slate-700/30 transition-colors group",children:[w.jsxs("td",{className:"p-6",children:[w.jsx("div",{className:"font-semibold text-slate-700 dark:text-slate-200 text-lg",children:y.name}),w.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[w.jsx("div",{className:"h-1.5 w-24 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${A}%`}})}),w.jsxs("span",{className:"text-xs text-slate-400",children:[Math.round(A),"% weekly"]})]})]}),w.jsx("td",{className:"p-6",children:w.jsxs("div",{className:`flex items-center gap-2 font-bold ${E>2?"text-orange-500":"text-slate-400 dark:text-slate-500"}`,children:[w.jsx(QR,{size:20,className:`${E>2?"fill-orange-500 animate-pulse":""}`}),E," days"]})}),u.map(D=>{const U=y.history?.[D];return w.jsx("td",{className:"p-2 text-center",children:w.jsx("button",{onClick:()=>m(y,D),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${U?"bg-emerald-500 text-white shadow-lg shadow-emerald-200 dark:shadow-none scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-300 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600 hover:scale-105"}`,children:U?w.jsx(XE,{size:20}):w.jsx("div",{className:"w-3 h-3 rounded-sm bg-slate-300/50 dark:bg-slate-600/50"})})},D)}),w.jsx("td",{className:"p-2 text-center",children:w.jsx("button",{onClick:()=>p(y.id),className:"p-2 text-slate-300 hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:w.jsx(Pg,{size:18})})})]},y.id)}),t.length===0&&w.jsx("tr",{children:w.jsxs("td",{colSpan:10,className:"p-12 text-center text-slate-400 dark:text-slate-600",children:[w.jsx(df,{size:48,className:"mx-auto mb-4 opacity-20"}),w.jsx("p",{children:"No habits tracked yet. Start your journey today!"})]})})]})]})})})]})},t9=()=>{const[n,t]=it.useState({pink:0,brown:0,white:0,chimes:0});it.useEffect(()=>()=>HE.stopAll(),[]);const e=(r,o)=>{const u={...n,[r]:o};t(u),HE.setVolume(r,o)};return w.jsxs("div",{className:"h-full grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 flex flex-col transition-colors",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 flex items-center gap-3",children:[w.jsx(_C,{size:24,className:"text-indigo-600 dark:text-indigo-400"})," Ambient Mixer"]}),w.jsx("p",{className:"text-slate-400 mt-2",children:"Mix your own soundscape using generated noise colors."})]}),w.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pr-2",children:[w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-6 transition-colors",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-400"})," Rain (Pink Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(n.pink*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:n.pink,onChange:r=>e("pink",parseFloat(r.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-full appearance-none cursor-pointer accent-pink-500"})]}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-6 transition-colors",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400"})," Wind Chimes"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(n.chimes*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:n.chimes,onChange:r=>e("chimes",parseFloat(r.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-full appearance-none cursor-pointer accent-indigo-500"})]}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-6 transition-colors",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-700"})," River (Brown Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(n.brown*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.01",value:n.brown,onChange:r=>e("brown",parseFloat(r.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-full appearance-none cursor-pointer accent-amber-700"})]}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-6 transition-colors",children:[w.jsxs("div",{className:"flex justify-between mb-4",children:[w.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"})," Static (White Noise)"]}),w.jsxs("span",{className:"text-slate-400 font-mono text-sm",children:[Math.round(n.white*100),"%"]})]}),w.jsx("input",{type:"range",min:"0",max:"0.1",step:"0.01",value:n.white,onChange:r=>e("white",parseFloat(r.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-full appearance-none cursor-pointer accent-slate-400"})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-6",children:[w.jsx("div",{className:"bg-black rounded-3xl shadow-xl overflow-hidden relative group h-[400px] border border-white/10",children:w.jsx("iframe",{width:"100%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:`https://w.soundcloud.com/player/?url=${encodeURIComponent("https://soundcloud.com/chillhopdotcom/sets/lofihiphop")}&color=%236366f1&auto_play=false&hide_related=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=true&visual=true`,className:"h-full w-full",title:"Chillhop SoundCloud"})}),w.jsxs("div",{className:"bg-indigo-600 dark:bg-indigo-900 rounded-3xl p-8 text-white shadow-lg flex-1 flex flex-col justify-center items-center text-center relative overflow-hidden transition-colors",children:[w.jsx("div",{className:"absolute inset-0 opacity-10",children:w.jsxs("svg",{width:"100%",height:"100%",children:[w.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:w.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"white",strokeWidth:"1"})}),w.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),w.jsxs("div",{className:"relative z-10",children:[w.jsx(ZR,{size:48,className:"mb-4 mx-auto opacity-80"}),w.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Focus Mode Active"}),w.jsx("p",{className:"text-indigo-200 max-w-xs mx-auto",children:"Combine the ambient noise on the left with the music above for deep focus."})]})]})]})]})},e9=()=>{const n={box:{name:"Box Breathing",steps:[{phase:"inhale",duration:4e3,text:"Breathe In"},{phase:"hold-in",duration:4e3,text:"Hold"},{phase:"exhale",duration:4e3,text:"Breathe Out"},{phase:"hold-out",duration:4e3,text:"Hold"}],description:"Inhale 4s, Hold 4s, Exhale 4s, Hold 4s. Reduces stress and improves focus."},"4-7-8":{name:"4-7-8 Relaxing",steps:[{phase:"inhale",duration:4e3,text:"Breathe In"},{phase:"hold-in",duration:7e3,text:"Hold"},{phase:"exhale",duration:8e3,text:"Breathe Out"}],description:"Inhale 4s, Hold 7s, Exhale 8s. Promotes deep relaxation and sleep."},coherence:{name:"Coherence",steps:[{phase:"inhale",duration:6e3,text:"Breathe In"},{phase:"exhale",duration:6e3,text:"Breathe Out"}],description:"Inhale 6s, Exhale 6s. Balances the nervous system."}},[t,e]=it.useState("box"),r=n[t],[o,u]=it.useState("inhale"),[c,m]=it.useState("Breathe In");return it.useEffect(()=>{let p,g=!0;const v=y=>{if(!g)return;const E=r.steps,A=E[y],D=(y+1)%E.length;u(A.phase),m(A.text),p=setTimeout(()=>{v(D)},A.duration)};return v(0),()=>{g=!1,clearTimeout(p)}},[t]),w.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 relative overflow-hidden transition-colors",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/10 dark:to-blue-900/10 opacity-50"}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[w.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm mb-8 px-4",children:[w.jsxs("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[w.jsx(KE,{className:"text-cyan-500",size:24})," Breathing"]}),w.jsx("select",{value:t,onChange:p=>e(p.target.value),className:"bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-200 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2 outline-none shadow-sm transition-colors",children:Object.entries(n).map(([p,g])=>w.jsx("option",{value:p,children:g.name},p))})]}),w.jsxs("div",{className:"relative flex items-center justify-center w-80 h-80",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 dark:border-slate-700 rounded-full transition-colors"}),w.jsx("div",{className:`
              w-full h-full rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 shadow-xl shadow-cyan-200 dark:shadow-none
              flex items-center justify-center transition-all ease-in-out
              ${o==="inhale"||o==="hold-in"?"scale-100 opacity-100":""}
              ${o==="exhale"||o==="hold-out"?"scale-50 opacity-80":""}
            `,style:{transitionDuration:`${r.steps.find(p=>p.phase===o)?.duration||4e3}ms`},children:w.jsx("span",{className:"text-4xl font-bold text-white tracking-wider animate-pulse drop-shadow-md",children:c})}),w.jsx("div",{className:"absolute w-full h-full rounded-full border-2 border-transparent border-t-cyan-300 animate-spin-slow opacity-30"})]}),w.jsx("p",{className:"mt-10 text-slate-400 dark:text-slate-500 max-w-md text-center text-sm",children:r.description})]})]})},n9=({user:n,onClose:t})=>{const[e,r]=it.useState(0),[o,u]=it.useState(["","",""]),c=(p,g)=>{const v=[...o];v[p]=g,u(v)},m=async()=>{if(n){await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"shutdowns"),{date:qr(),tomorrowTasks:o});const p=o.filter(g=>g.trim()!=="").map(g=>Xa(vi(Je,"artifacts",Ze,"users",n.uid,"kanban"),{content:g,status:"todo",energy:"medium",createdAt:qr()}));await Promise.all(p)}rd.success("Shutdown complete. Have a restful evening."),t()};return w.jsx("div",{className:"fixed inset-0 bg-slate-900/95 dark:bg-black/95 z-50 flex items-center justify-center p-4 animate-fade-in",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-8 max-w-md w-full shadow-2xl transition-colors",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[w.jsx(YE,{size:24,className:"text-indigo-600 dark:text-indigo-400"})," Shutdown Ritual"]}),e===0&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Let's close out the day. Clear your mind and your workspace."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[w.jsx("input",{type:"checkbox",className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),w.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Clear physical desktop"})]}),w.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[w.jsx("input",{type:"checkbox",className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),w.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Close all browser tabs"})]})]}),w.jsx("button",{onClick:()=>r(1),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 dark:shadow-none",children:"Next: Plan Tomorrow"})]}),e===1&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"What are your Big 3 for tomorrow?"}),w.jsx("div",{className:"space-y-3",children:o.map((p,g)=>w.jsx("input",{type:"text",value:p,onChange:v=>c(g,v.target.value),placeholder:`Task ${g+1}`,className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white rounded-xl border-transparent focus:bg-white dark:focus:bg-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500"},g))}),w.jsx("button",{onClick:m,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 dark:shadow-none",children:"Complete Shutdown"})]})]})})},i9=({user:n,energyLevel:t,setEnergyLevel:e,dailyCount:r,setActiveTab:o,onShutdown:u})=>{const[c,m]=it.useState(""),[p,g]=it.useState(null),[v,y]=it.useState([]);it.useEffect(()=>{const U=new Date().getHours();U<12?m("Good Morning"):U<18?m("Good Afternoon"):m("Good Evening")},[]),it.useEffect(()=>{if(!n)return;const U=mc(vi(Je,"artifacts",Ze,"users",n.uid,"notes"));return pc(U,G=>{const J=G.docs.map(X=>({id:X.id,...X.data()}));y(J),J.length>0&&!p&&g(J[Math.floor(Math.random()*J.length)])})},[n]);const E=()=>{v.length>0&&g(v[Math.floor(Math.random()*v.length)])},D=(U=>U<=3?{text:"Low Battery",color:"text-red-500",bg:"bg-red-50"}:U<=7?{text:"Stable",color:"text-amber-500",bg:"bg-amber-50"}:{text:"Fully Charged",color:"text-emerald-500",bg:"bg-emerald-50"})(t);return w.jsxs("div",{className:"h-full flex flex-col gap-8 overflow-y-auto",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white transition-colors",children:[c,", ",n.displayName?.split(" ")[0]||"Pilot"]}),w.jsx("p",{className:"text-slate-400 mt-1",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),w.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded-xl shadow-sm hover:bg-slate-700 transition-colors mr-2",children:[w.jsx(mC,{size:18})," Shutdown"]}),w.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors",children:[w.jsx($E,{size:20,className:"text-indigo-500"}),w.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r}),w.jsx("span",{className:"text-slate-400 text-sm",children:"focus sessions"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col justify-between relative overflow-hidden transition-colors",children:[w.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 dark:opacity-10",children:w.jsx($1,{size:120,className:"dark:text-white"})}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2 flex items-center gap-2",children:[w.jsx(df,{size:20,className:"text-indigo-500"})," Energy Levels"]}),w.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Adjust your energy to filter tasks and optimize your workflow."}),w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("span",{className:"text-slate-400 font-medium",children:"Drained"}),w.jsxs("span",{className:`font-bold ${D.color} px-3 py-1 rounded-full ${D.bg} text-sm`,children:[t,"/10  ",D.text]}),w.jsx("span",{className:"text-slate-400 font-medium",children:"Hyper"})]}),w.jsx("input",{type:"range",min:"1",max:"10",value:t,onChange:U=>e(parseInt(U.target.value)),className:"w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full appearance-none cursor-pointer accent-indigo-600 hover:accent-indigo-700 transition-all"}),w.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-300 font-mono",children:[w.jsx("span",{children:"1"}),w.jsx("span",{children:"5"}),w.jsx("span",{children:"10"})]})]})]}),w.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-slate-900 dark:to-black p-8 rounded-3xl shadow-lg text-white flex flex-col relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(Va,{size:120})}),w.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[w.jsx(gC,{size:20,className:"text-emerald-400 animate-pulse"})," Daily Briefing"]}),w.jsx("button",{onClick:E,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-slate-300 hover:text-white",title:"Shuffle Note",children:w.jsx(Og,{size:16})})]}),p?w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2 text-emerald-200 line-clamp-1",children:p.title||"Untitled Note"}),w.jsx("p",{className:"text-slate-300 text-sm leading-relaxed line-clamp-4 mb-4 flex-1",children:p.content||"No content..."}),w.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10 flex items-center gap-2 text-xs text-slate-400",children:[w.jsx(BR,{size:12})," Resurfaced from ",new Date(p.updatedAt?.seconds*1e3||Date.now()).toLocaleDateString()]})]}):w.jsxs("div",{className:"flex-1 flex items-center justify-center text-slate-500 flex-col gap-2",children:[w.jsx(Va,{size:32,className:"opacity-50"}),w.jsx("p",{children:"No notes found in your library."})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w.jsxs("div",{onClick:()=>o("pomodoro"),className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-900/50 flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors group",children:[w.jsx("div",{className:"p-3 bg-white dark:bg-indigo-900/50 rounded-xl shadow-sm text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:w.jsx(mf,{size:24,fill:"currentColor"})}),w.jsx("span",{className:"font-semibold text-indigo-900 dark:text-indigo-200",children:"Start Focus"})]}),w.jsxs("div",{onClick:()=>o("habits"),className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-900/50 flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors group",children:[w.jsx("div",{className:"p-3 bg-white dark:bg-emerald-900/50 rounded-xl shadow-sm text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:w.jsx(XE,{size:24})}),w.jsx("span",{className:"font-semibold text-emerald-900 dark:text-emerald-200",children:"Log Habit"})]}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/80 transition-colors group",onClick:()=>rd.info("Smart Home Focus Mode triggered"),children:[w.jsx("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-xl shadow-sm text-slate-600 dark:text-slate-300 group-hover:scale-110 transition-transform",children:w.jsx($1,{size:24})}),w.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-200",children:"Smart Home"})]})]})]})},s9=()=>{const[n,t]=it.useState(null),[e,r]=it.useState("cockpit"),[o,u]=it.useState(!1),[c,m]=it.useState(!0),p=1500,g=300,[v,y]=it.useState(p),[E,A]=it.useState(!1),[D,U]=it.useState("work"),[H,G]=it.useState(.5),[J,X]=it.useState(!1),[ft,ct]=it.useState(0),[ot,C]=it.useState(5),[R,I]=it.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1);it.useEffect(()=>{R?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[R]),it.useEffect(()=>oD(Lp,W=>{t(W),m(!1)}),[]);const O=async()=>{try{const z=new Hs;await CD(Lp,z)}catch(z){console.error("Login failed",z)}};it.useEffect(()=>{if(!n)return;const z=mc(vi(Je,"artifacts",Ze,"users",n.uid,"pomodoro_sessions"),My("completedAt","desc"));return pc(z,ht=>{const Et=new Date().toDateString(),St=ht.docs.filter(k=>{const Z=k.data().completedAt?.toDate();return Z&&Z.toDateString()===Et}).length;ct(St)},ht=>console.error("Error fetching pomodoro sessions:",ht))},[n]),it.useEffect(()=>{let z=null;return E&&v>0?z=setInterval(()=>y(W=>W-1),1e3):v===0&&E&&V(),()=>clearInterval(z)},[E,v]);const V=async()=>{A(!1),BE(H,"complete"),D==="work"&&(X(!0),setTimeout(()=>X(!1),3e3),n&&await Xa(vi(Je,"artifacts",Ze,"users",n.uid,"pomodoro_sessions"),{completedAt:qr(),duration:25,mode:"work"}))},L=()=>{E||BE(H,"click"),A(!E)},N=()=>{A(!1),y(D==="work"?p:g)},Ft=z=>{U(z),A(!1),y(z==="work"?p:g)};if(c)return w.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 text-slate-400 space-y-4",children:[w.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),w.jsx("p",{className:"font-medium animate-pulse",children:"Loading your workspace..."})]});if(it.useEffect(()=>{const z=W=>{["INPUT","TEXTAREA","SELECT"].includes(W.target.tagName)||(W.code==="Space"&&(W.preventDefault(),L()),W.code==="Escape"&&(o&&u(!1),J&&X(!1)))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[E,D,v,o,J]),!n)return w.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50",children:w.jsxs("div",{className:"text-center space-y-6 p-8",children:[w.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto shadow-lg text-white mb-4",children:w.jsx(jp,{size:32})}),w.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Welcome Back"}),w.jsx("p",{className:"text-slate-500 max-w-xs mx-auto",children:"Sign in to access your dashboard, tasks, and habits."}),w.jsxs("button",{onClick:O,className:"flex items-center justify-center gap-3 px-8 py-3 bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5 text-slate-700 font-medium w-full max-w-xs mx-auto",children:[w.jsx(nC,{size:20,className:"text-indigo-600"}),"Sign in with Google"]})]})});const Zt=()=>{switch(e){case"cockpit":return w.jsx(i9,{user:n,energyLevel:ot,setEnergyLevel:C,dailyCount:ft,setActiveTab:r,onShutdown:()=>u(!0)});case"pomodoro":return w.jsx($P,{timeLeft:v,isActive:E,mode:D,toggleTimer:L,resetTimer:N,switchMode:Ft,volume:H,setVolume:G,dailyCount:ft});case"kanban":return w.jsx(WP,{user:n,energyLevel:ot});case"notes":return w.jsx(ZP,{user:n});case"habits":return w.jsx(JP,{user:n});case"breathing":return w.jsx(e9,{});default:return null}};return w.jsxs("div",{className:"flex h-screen bg-[#f8fafc] font-sans text-slate-900 overflow-hidden selection:bg-indigo-100 selection:text-indigo-900",children:[w.jsx(cO,{position:"top-right",richColors:!0}),w.jsx(QP,{isActive:J}),o&&w.jsx(n9,{user:n,onClose:()=>u(!1)}),w.jsxs("div",{className:"w-24 bg-white dark:bg-slate-800 flex flex-col items-center py-8 space-y-8 shadow-2xl z-20 border-r border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[w.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl text-white shadow-lg shadow-indigo-200",children:w.jsx(jp,{size:28})}),w.jsxs("nav",{className:"flex-1 flex flex-col gap-6 w-full px-3",children:[w.jsx(Na,{icon:tC,label:"Cockpit",active:e==="cockpit",onClick:()=>r("cockpit")}),w.jsx(Na,{icon:Og,label:"Focus",active:e==="pomodoro",onClick:()=>r("pomodoro")}),w.jsx(Na,{icon:df,label:"Habits",active:e==="habits",onClick:()=>r("habits")}),w.jsx(Na,{icon:$R,label:"Kanban",active:e==="kanban",onClick:()=>r("kanban")}),w.jsx(Na,{icon:Va,label:"Notes",active:e==="notes",onClick:()=>r("notes")}),w.jsx(Na,{icon:lC,label:"Sounds",active:e==="sounds",onClick:()=>r("sounds")}),w.jsx(Na,{icon:KE,label:"Breathing",active:e==="breathing",onClick:()=>r("breathing")})]}),w.jsx("div",{className:"mt-auto mb-4",children:w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 dark:bg-slate-700 border border-slate-100 dark:border-slate-600 flex items-center justify-center text-slate-400 hover:text-indigo-600 transition-colors cursor-pointer shadow-sm overflow-hidden",title:`User: ${n.email}`,children:n.photoURL?w.jsx("img",{src:n.photoURL,alt:"User",className:"w-full h-full object-cover"}):w.jsx(NC,{size:20})})}),w.jsx("button",{onClick:()=>lD(Lp),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Sign Out",children:w.jsx(sC,{size:20})})]}),w.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-slate-50/50 dark:bg-slate-900/50 transition-colors duration-300",children:[w.jsxs("header",{className:"h-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200/60 dark:border-slate-700/60 flex items-center px-10 justify-between sticky top-0 z-10 transition-colors duration-300",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white capitalize tracking-tight",children:e==="sounds"?"Focus Sounds":e}),w.jsx("p",{className:"text-xs text-slate-400 font-medium mt-1",children:" Productivity Dashboard v2.1"})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>I(!R),className:"p-2 rounded-full text-slate-400 hover:text-indigo-600 dark:text-slate-500 dark:hover:text-indigo-400 bg-slate-100 dark:bg-slate-800 transition-colors",children:R?w.jsx(EC,{size:18}):w.jsx(YE,{size:18})}),w.jsxs("div",{className:"flex items-center gap-3 text-xs font-semibold bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full text-slate-500 dark:text-slate-400",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Syncing to Cloud"]})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-8 scroll-smooth",children:w.jsxs("div",{className:"max-w-7xl mx-auto h-full",children:[w.jsx(d6,{mode:"wait",children:e!=="sounds"&&w.jsx(KP.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:Zt()},e)}),w.jsx("div",{style:{display:e==="sounds"?"block":"none",height:"100%"},children:w.jsx(t9,{})})]})}),e!=="pomodoro"&&w.jsx(XP,{timeLeft:v,isActive:E,mode:D,toggleTimer:L,onExpand:()=>r("pomodoro")})]})]})},Na=({icon:n,label:t,active:e,onClick:r})=>w.jsxs("button",{onClick:r,className:`w-full aspect-square flex flex-col items-center justify-center rounded-2xl transition-all duration-300 group relative ${e?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-inner":"text-slate-400 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700 hover:shadow-md hover:text-slate-600 dark:hover:text-slate-300 hover:-translate-y-0.5"}`,children:[w.jsx(n,{size:26,className:`mb-1 transition-transform duration-300 ${e?"scale-110":"group-hover:scale-110"}`,strokeWidth:e?2.5:2}),w.jsx("span",{className:"text-[10px] font-bold tracking-wide absolute -bottom-8 opacity-0 group-hover:opacity-100 transition-all bg-slate-800 text-white px-2 py-1 rounded-lg z-50 pointer-events-none shadow-xl translate-y-2 group-hover:translate-y-0",children:t})]});VR.createRoot(document.getElementById("root")).render(w.jsx(it.StrictMode,{children:w.jsx(s9,{})}));
